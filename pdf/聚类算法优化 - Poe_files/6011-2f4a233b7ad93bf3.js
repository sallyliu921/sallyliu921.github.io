"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6011],{97890:function(e,a,n){var i,l,t,d,r,s,c,o,m,k,F,p,u,S,g,h,y,C,L,P,T,f,b,M,I,B,v,w,A,_,U,O,x,D,R,N,z,E,K,H,Q,q,V,j,J,G,W,X,Y,Z,$,ee,ea,en,ei;n.r(a);let el=(i=[{defaultValue:null,kind:"LocalArgument",name:"chatCode"}],l=[{kind:"Variable",name:"chatCode",variableName:"chatCode"}],t={kind:"ScalarField",name:"isDeleted"},d={kind:"ScalarField",name:"deletionState"},r={kind:"ScalarField",name:"id"},s={kind:"ScalarField",name:"botId"},c={kind:"ScalarField",name:"handle"},o={kind:"ScalarField",name:"uploadFileSizeLimit"},m={kind:"ScalarField",name:"allowsImageAttachments"},k={kind:"ScalarField",name:"nickname"},F={kind:"ScalarField",name:"displayName"},p={kind:"ScalarField",name:"numRemainingMessages"},u={kind:"ScalarField",name:"displayMessagePointPrice"},S={kind:"ScalarField",name:"remainingMessagesLimitReason"},g={kind:"ScalarField",name:"shouldShowReminderBanner"},h={kind:"ScalarField",name:"balanceTooltipText"},y={kind:"ScalarField",name:"balanceTooltipType"},C={kind:"ScalarField",name:"introduction"},L=[{kind:"Literal",name:"size",value:"small"}],P={kind:"ScalarField",name:"fullName"},T={kind:"TypeDiscriminator",abstractKey:"__isNode"},f={kind:"ScalarField",name:"canUserAccessBot"},B={kind:"LinkedField",name:"picture",plural:!1,selections:I=[b={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[M={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},v={kind:"ScalarField",name:"translatedBotTags"},w={concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingType"},{kind:"ScalarField",name:"standardMessagePrice"}]},A={kind:"ScalarField",name:"supportsPayByContext"},_={kind:"ScalarField",name:"poweredBy"},U={kind:"ScalarField",name:"messageTimeoutSecs"},O={kind:"ScalarField",name:"isApiBot"},x={kind:"ScalarField",name:"limitedAccessType"},D={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},R={kind:"ScalarField",name:"supportsRemix"},N={kind:"ScalarField",name:"shouldConfirmBeforeAddingAsMember"},z={kind:"ScalarField",name:"isServerBot"},E={kind:"ScalarField",name:"supportsFileUpload"},K={kind:"ScalarField",name:"chatId"},Q=[H={kind:"ScalarField",name:"messageId"},r],q={kind:"ScalarField",name:"author"},V={kind:"ScalarField",name:"state"},j={kind:"ScalarField",name:"textLengthOnCancellation"},G={kind:"ScalarField",name:"timeoutLevel"},W={kind:"ScalarField",name:"text"},X=[{kind:"Literal",name:"last",value:5}],Y={kind:"ScalarField",name:"uid"},Z={kind:"ScalarField",name:"profilePhotoUrl"},$={kind:"ClientExtension",selections:[J={kind:"ScalarField",name:"isOptimistic"}]},ee={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[c,d,F,B,r]},ea={kind:"ScalarField",name:"costBreakdown"},en={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,k,F,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[p,r]},r,c,d,B]},{fragment:{argumentDefinitions:i,kind:"Fragment",name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageColumn_chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[t,{kind:"ScalarField",name:"title"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[d,{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"isPrivateBot"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},r,s,{kind:"ScalarField",name:"shareLink"},c,{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},o,m,{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},k,F,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[p,r,u,S,g,h,y]},C,{kind:"ScalarField",name:"conversationStarters"},{kind:"ScalarField",name:"monthlyActiveUsers"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[t,{args:L,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},P,{alias:"nullableHandle",kind:"ScalarField",name:"handle"},r,T]},f,B,{kind:"ScalarField",name:"description"},v,w,A,_,{kind:"ScalarField",name:"isPromptPublic"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"shouldHide"},U,O,x,D,{kind:"ScalarField",name:"isTrustedBot"},R,N,z,E,{kind:"ScalarField",name:"hasMarkdownRendering"},{alias:"smallPicture",args:L,kind:"LinkedField",name:"picture",plural:!1,selections:I,storageKey:'picture(size:"small")'},T]},r,K,{kind:"ScalarField",name:"viewerIsOwner"},{kind:"ScalarField",name:"hasMultipleUsers"},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAllOtherMembers",plural:!1,selections:Q},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAnyOtherMembers",plural:!1,selections:Q},{kind:"ScalarField",name:"chatInviteCode"},{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[{kind:"ScalarField",name:"jobId"},r,{kind:"ScalarField",name:"viewerCanCancel"}]},{kind:"ScalarField",name:"chatCode"},{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:Q},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[H,r,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[R,c,N,r,z,o,m,E,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[h,p,y,r,u,S,g]},s,k,F,d,C,U]},q,V,j,{kind:"ClientExtension",selections:[J,G]},W]},{args:X,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[q,r,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[Y,r,c,Z,P,T]},H,{kind:"ScalarField",name:"creationTime"},W,V,{kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[r,{kind:"ScalarField",name:"attachmentId"},{kind:"ScalarField",name:"name"},M,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"},r,{kind:"ScalarField",name:"size"}]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},M,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"InlineFragment",selections:[$],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"},$]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,U,m,O,k,F,d,x,D,v,B,c,f,r,T]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[{kind:"ScalarField",name:"reaction"},{kind:"ScalarField",name:"count"},r]},{kind:"ScalarField",name:"viewerReaction"},{kind:"ScalarField",name:"vote"},{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"hasCitations"},j,Y,b,{kind:"ClientExtension",selections:[J,G,{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},{kind:"ScalarField",name:"errorMessage"}]},T]},r,{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},r],storageKey:"messagesConnection(last:5)"},{args:X,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"LinkedField",name:"displayedChatModal",plural:!1,selections:[b,{kind:"InlineFragment",selections:[H,K,ee,{kind:"ScalarField",name:"applicablePointPriceThreshold"},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"},r]},{kind:"ScalarField",name:"totalRequestAmount"},ea,{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"messagePointBalance"},r]}],type:"CostThresholdUpdateChatModal"},{kind:"InlineFragment",selections:[K,en],type:"PaywallChatModal"},{kind:"InlineFragment",selections:[K,en,ei={kind:"ScalarField",name:"messageCostAmount"},ea],type:"PointLimitPaywallChatModal"},{kind:"InlineFragment",selections:[K,ee,ei,ea],type:"SubscriberPointLimitChatModal"},{kind:"InlineFragment",selections:[K,{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[K,r]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[_,s,d,F,B,c,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[u,r]},w,A,r]},{kind:"ScalarField",name:"isPrivateDeletedBotsChangesEnabled"},{kind:"ScalarField",name:"showBotPrices"}],type:"AddBotChatModal"}]},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"ScalarField",name:"membersCount"},{concreteType:"PoeUser",kind:"LinkedField",name:"userMemberToHighlight",plural:!1,selections:[b,c,r,{alias:"smallProfilePhotoUrl",args:L,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},Z,P]},$,T]}]},params:{id:"93e0a9886065fc4779352636cb6b55420849ba1f9807f2b457117e07973a7c7c",metadata:{},name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",operationKind:"query",text:null}});el.hash="0c62c1c7ff3700301507d9d1229e863b",a.default=el},17115:function(e,a,n){var i,l,t,d,r,s,c,o,m,k,F,p,u,S,g,h,y,C,L,P,T,f,b,M,I,B,v,w,A,_,U,O,x,D,R,N,z,E,K,H,Q,q,V,j,J,G,W,X,Y,Z,$,ee,ea,en;n.r(a);let ei=(i=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],l=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],t={kind:"ScalarField",name:"isDeleted"},d={kind:"ScalarField",name:"deletionState"},r={kind:"ScalarField",name:"id"},s={kind:"ScalarField",name:"botId"},c={kind:"ScalarField",name:"handle"},o={kind:"ScalarField",name:"uploadFileSizeLimit"},m={kind:"ScalarField",name:"allowsImageAttachments"},k={kind:"ScalarField",name:"nickname"},F={kind:"ScalarField",name:"displayName"},p={kind:"ScalarField",name:"numRemainingMessages"},u={kind:"ScalarField",name:"displayMessagePointPrice"},S={kind:"ScalarField",name:"remainingMessagesLimitReason"},g={kind:"ScalarField",name:"shouldShowReminderBanner"},h={kind:"ScalarField",name:"balanceTooltipText"},y={kind:"ScalarField",name:"balanceTooltipType"},C={kind:"ScalarField",name:"introduction"},L=[{kind:"Literal",name:"size",value:"small"}],P={kind:"ScalarField",name:"fullName"},T={kind:"TypeDiscriminator",abstractKey:"__isNode"},f={kind:"ScalarField",name:"canUserAccessBot"},B={kind:"LinkedField",name:"picture",plural:!1,selections:I=[b={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[M={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},v={kind:"ScalarField",name:"translatedBotTags"},w={concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingType"},{kind:"ScalarField",name:"standardMessagePrice"}]},A={kind:"ScalarField",name:"supportsPayByContext"},_={kind:"ScalarField",name:"poweredBy"},U={kind:"ScalarField",name:"messageTimeoutSecs"},O={kind:"ScalarField",name:"isApiBot"},x={kind:"ScalarField",name:"limitedAccessType"},D={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},R={kind:"ScalarField",name:"supportsRemix"},N={kind:"ScalarField",name:"shouldConfirmBeforeAddingAsMember"},z={kind:"ScalarField",name:"isServerBot"},E={kind:"ScalarField",name:"supportsFileUpload"},K={kind:"ScalarField",name:"chatId"},H={kind:"ScalarField",name:"isOptimistic"},q=[Q={kind:"ScalarField",name:"messageId"},r],V={kind:"ScalarField",name:"author"},j={kind:"ScalarField",name:"state"},J={kind:"ScalarField",name:"timeoutLevel"},G={kind:"ScalarField",name:"textLengthOnCancellation"},W={kind:"ScalarField",name:"text"},X=[{kind:"Literal",name:"last",value:5}],Y={kind:"ScalarField",name:"uid"},Z={kind:"ScalarField",name:"profilePhotoUrl"},$={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[c,d,F,B,r]},ee={kind:"ScalarField",name:"costBreakdown"},ea={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,k,F,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[p,r]},r,c,d,B]},{fragment:{argumentDefinitions:i,kind:"Fragment",name:"OptimisticChatPageColumnQuery",selections:[{kind:"ClientExtension",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageColumn_chat"}]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"OptimisticChatPageColumnQuery",selections:[{kind:"ClientExtension",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[t,{kind:"ScalarField",name:"title"},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[d,{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"isPrivateBot"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},r,s,{kind:"ScalarField",name:"shareLink"},c,{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},o,m,{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},k,F,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[p,r,u,S,g,h,y]},C,{kind:"ScalarField",name:"conversationStarters"},{kind:"ScalarField",name:"monthlyActiveUsers"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[t,{args:L,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},P,{alias:"nullableHandle",kind:"ScalarField",name:"handle"},r,T]},f,B,{kind:"ScalarField",name:"description"},v,w,A,_,{kind:"ScalarField",name:"isPromptPublic"},{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"shouldHide"},U,O,x,D,{kind:"ScalarField",name:"isTrustedBot"},R,N,z,E,{kind:"ScalarField",name:"hasMarkdownRendering"},{alias:"smallPicture",args:L,kind:"LinkedField",name:"picture",plural:!1,selections:I,storageKey:'picture(size:"small")'},T]},r,K,H,{kind:"ScalarField",name:"viewerIsOwner"},{kind:"ScalarField",name:"hasMultipleUsers"},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAllOtherMembers",plural:!1,selections:q},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAnyOtherMembers",plural:!1,selections:q},{kind:"ScalarField",name:"chatInviteCode"},{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[{kind:"ScalarField",name:"jobId"},r,{kind:"ScalarField",name:"viewerCanCancel"}]},{kind:"ScalarField",name:"chatCode"},{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:q},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[Q,r,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[R,c,N,r,z,o,m,E,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[h,p,y,r,u,S,g]},s,k,F,d,C,U]},V,H,j,J,G,W]},{args:X,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[V,r,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[Y,r,c,Z,P,T]},Q,{kind:"ScalarField",name:"creationTime"},W,j,H,{kind:"ScalarField",name:"clientNonce"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[r,{kind:"ScalarField",name:"attachmentId"},{kind:"ScalarField",name:"name"},M,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"mimeType"},r,{kind:"ScalarField",name:"size"}]},H,{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},M,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"ScalarField",name:"localUrl"}],type:"Attachment",abstractKey:"__isAttachment"}]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,U,m,O,k,F,d,x,D,v,B,c,f,r,T]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[{kind:"ScalarField",name:"reaction"},{kind:"ScalarField",name:"count"},r]},{kind:"ScalarField",name:"viewerReaction"},{kind:"ScalarField",name:"vote"},{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"hasCitations"},J,{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},G,Y,b,T]},r,{kind:"ScalarField",name:"cursor"}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},r],storageKey:"messagesConnection(last:5)"},{args:X,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"LinkedField",name:"displayedChatModal",plural:!1,selections:[b,{kind:"InlineFragment",selections:[Q,K,$,{kind:"ScalarField",name:"applicablePointPriceThreshold"},{concreteType:"Subscription",kind:"LinkedField",name:"subscription",plural:!1,selections:[{kind:"ScalarField",name:"isActive"},r]},{kind:"ScalarField",name:"totalRequestAmount"},ee,{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"messagePointBalance"},r]}],type:"CostThresholdUpdateChatModal"},{kind:"InlineFragment",selections:[K,ea],type:"PaywallChatModal"},{kind:"InlineFragment",selections:[K,ea,en={kind:"ScalarField",name:"messageCostAmount"},ee],type:"PointLimitPaywallChatModal"},{kind:"InlineFragment",selections:[K,$,en,ee],type:"SubscriberPointLimitChatModal"},{kind:"InlineFragment",selections:[K,{concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[K,r]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[_,s,d,F,B,c,{concreteType:"MessagePointLimit",kind:"LinkedField",name:"messagePointLimit",plural:!1,selections:[u,r]},w,A,r]},{kind:"ScalarField",name:"isPrivateDeletedBotsChangesEnabled"},{kind:"ScalarField",name:"showBotPrices"}],type:"AddBotChatModal"}]},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"ScalarField",name:"membersCount"},{concreteType:"PoeUser",kind:"LinkedField",name:"userMemberToHighlight",plural:!1,selections:[b,c,r,{alias:"smallProfilePhotoUrl",args:L,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},Z,P]},T]}]}]},params:{cacheID:"1eb117294783099f4b3e58dcad3ccec4",id:null,metadata:{},name:"OptimisticChatPageColumnQuery",operationKind:"query",text:null}});ei.hash="ebf3fbf05e24ce7a92d3f82d81c076c2",a.default=ei},15454:function(e,a,n){var i,l;n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_bot",selections:[{kind:"FragmentSpread",name:"ChatPageMain_bot"},{kind:"FragmentSpread",name:"ChatPageNavbar_bot"},{kind:"InlineDataFragmentSpread",name:"optimisticChat_createOptimisticChat_bot",selections:[i={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"introduction"},l={kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"InlineDataFragmentSpread",name:"optimisticMessage_createOptimisticBotMessage_bot",selections:[l,{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_bot",selections:[i,{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]}],type:"Bot"};t.hash="a69b8e06e81b542bdcccff3b06cb7cf0",a.default=t},45506:function(e,a,n){n.r(a);let i={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"OptimisticChatPageColumn_chatEdges",selections:[{kind:"FragmentSpread",name:"ChatPageMain_chatEdges"}],type:"ChatEdge"};i.hash="792af76506dcb392a2028baf2801f850",a.default=i},74639:function(e,a,n){n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_root",selections:[{kind:"FragmentSpread",name:"ChatPageColumn_root"}],type:"QueryRoot"};i.hash="635cff81d9985bce6e9f82a1fc13afc7",a.default=i},88277:function(e,a,n){n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_viewer",selections:[{kind:"FragmentSpread",name:"ChatPageColumn_viewer"}],type:"Viewer"};i.hash="5f2951eb9967cdfabf848df35068c3e7",a.default=i},96011:function(e,a,n){n.d(a,{y:function(){return OptimisticChatPageColumn}});var i=n(85893),l=n(41143),t=n.n(l),d=n(11163),r=n(67294),s=n(22578);n(44311);var c=n(71953),o=n(4694),m=n(45598),k=n(92099),F=n(11355);let useChatCode=()=>{let e=(0,d.useRouter)(),{chat:a}=e.query;return(0,m.H)(a)?a:null},useOptimisticChatPageProps=e=>{let{optimisticChatId:a,root:i,bot:l,chats:m,viewer:F}=e,p=(0,s.useFragment)(n(74639),i),u=(0,s.useFragment)(n(15454),l),S=(0,s.useFragment)(n(45506),m),g=(0,s.useFragment)(n(88277),F),h=(0,c.t3)(u,a),{optimisticChat:y}=(0,s.useLazyLoadQuery)(n(17115),{optimisticChatId:h});if(!y)throw new o.NotFound;let C=(0,d.useRouter)(),L=(0,s.useRelayEnvironment)(),P=useChatCode(),T=(0,r.useCallback)(e=>{let{messageEdgeCreate:a}=e,n=a.chat;if(t()(n,"chat is null"),C.push({pathname:C.pathname,query:{...C.query,chat:n.chatCode,botId:n.defaultBotObject.botId}},"/chat/".concat(n.chatCode),{shallow:!0}),P!==n.chatCode){var i;(0,k.refetchDisplayedChatModal)(null===(i=a.chat)||void 0===i?void 0:i.chatId,L)}},[C,L,P]);return{root:p,viewer:g,chat:y,onSuccessfulMessageSend:T,chats:S}},OptimisticChatPageColumn=e=>{let{optimisticChatId:a,root:l,bot:t,chats:d,viewer:c}=e;if(!t)throw new o.NotFound;let m=useOptimisticChatPageProps({root:l,bot:t,optimisticChatId:a,chats:d,viewer:c}),k=function(e,a){let i=useChatCode(),l=(0,s.useLazyLoadQuery)(n(97890),{chatCode:i||""},{fetchPolicy:i?"store-or-network":"store-only"});return(0,r.useMemo)(()=>l.chatOfCode&&a?{chat:l.chatOfCode,viewer:a,root:e}:null,[l,a,e])}(m.root,m.viewer),p=k||m;return(0,i.jsx)(F.h,{...p})}}}]);