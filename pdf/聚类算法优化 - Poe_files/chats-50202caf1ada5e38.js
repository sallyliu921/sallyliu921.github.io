(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7044],{60130:function(e,a,n){"use strict";var i,t=n(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}a.Z=function(e){return t.createElement("svg",_extends({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=t.createElement("path",{d:"M19.83 4.18a2.982 2.982 0 0 0-4.21 0L4.99 14.81c-.11.11-.19.24-.24.39l-1.39 4.19a.99.99 0 0 0 .24 1.02 1.007 1.007 0 0 0 1.02.24l4.19-1.4c.15-.05.28-.13.39-.24L19.83 8.39a2.982 2.982 0 0 0 0-4.21Zm-1.42 2.79L7.96 17.43l-1.24.41-.55-.55.41-1.24L17.03 5.59c.38-.38 1-.38 1.38 0 .38.38.38 1 0 1.38ZM20.5 11.5c-.55 0-1 .45-1 1v7h-7c-.55 0-1 .45-1 1s.45 1 1 1h8c.55 0 1-.45 1-1v-8c0-.55-.45-1-1-1ZM4.5 11.5v-7h7c.55 0 1-.45 1-1s-.45-1-1-1h-8c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1s1-.45 1-1Z",fill:"currentColor"})))}},86867:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chats",function(){return n(28689)}])},58546:function(e,a,n){"use strict";var i,t,l,r,o,s,d,c,m,u,k,p,h;n.r(a);let g=(i=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],l=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},t={kind:"Variable",name:"handle",variableName:"handle"}],r={kind:"ScalarField",name:"id"},o={kind:"ScalarField",name:"messageId"},s={kind:"ScalarField",name:"deletionState"},d={kind:"ScalarField",name:"displayName"},m=[c={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}],u=[{kind:"Literal",name:"size",value:"small"}],k={kind:"ScalarField",name:"uid"},p={kind:"ScalarField",name:"handle"},h=[d,s,r],{fragment:{argumentDefinitions:i,kind:"Fragment",name:"ChatHistoryFilteredListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},t],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"ChatHistoryFilteredListPaginationQuery",selections:[{alias:"filteredChats",args:l,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"ScalarField",name:"viewerIsOwner"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:[o,r]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"botId"},r,s,d,{kind:"LinkedField",name:"picture",plural:!1,selections:m},{alias:"smallPicture",args:u,kind:"LinkedField",name:"picture",plural:!1,selections:m,storageKey:'picture(size:"small")'}]},{kind:"ScalarField",name:"hasMultipleUsers"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[o,r,{kind:"ScalarField",name:"text"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[k,p,r]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:h},{kind:"ScalarField",name:"author"}]},{concreteType:"PoeUser",kind:"LinkedField",name:"userMemberToHighlight",plural:!1,selections:[c,{alias:"smallProfilePhotoUrl",args:u,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"profilePhotoUrl"},{kind:"ScalarField",name:"fullName"},r,p]},{kind:"ScalarField",name:"membersCount"},c,{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]},{kind:"TypeDiscriminator",abstractKey:"__isNode"}]},{kind:"ScalarField",name:"cursor"},r]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},r]},{alias:"filteredChats",args:l,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:h},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[k,{alias:"poeEnableMultiplayerChatPrototype",args:[{kind:"Literal",name:"gateName",value:"poe_enable_multiplayer_chat_prototype"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_multiplayer_chat_prototype")'},r]}]},params:{id:"72bff0ba9ddf3ef2c70c5cb68524c169d4356ca64a14bacff5b5f858be221597",metadata:{},name:"ChatHistoryFilteredListPaginationQuery",operationKind:"query",text:null}});g.hash="debe3b985965aac5624a369f3ae705e9",a.default=g},95372:function(e,a,n){"use strict";var i;n.r(a);let t={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"handle"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:i=["filteredChats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:i},fragmentPathInResult:[],operation:n(58546)}},name:"ChatHistoryFilteredList_queryRoot",selections:[{alias:"filteredChats",args:[{kind:"Variable",name:"handle",variableName:"handle"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryFilteredList_queryRoot_filteredChats_connection",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{kind:"ScalarField",name:"cursor"},{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"__typename"}]}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}]},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryListFilterFooter_bot"},{kind:"FragmentSpread",name:"ChatHistoryListFilterHeader_bot"}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_viewer"}]}],type:"QueryRoot"};t.hash="debe3b985965aac5624a369f3ae705e9",a.default=t},90995:function(e,a,n){"use strict";n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatHistoryListFilterFooter_bot",selections:[{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};i.hash="28febf44e9dd396e7c6da88cb2005174",a.default=i},10601:function(e,a,n){"use strict";n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatHistoryListFilterHeader_bot",selections:[{kind:"FragmentSpread",name:"botHelpers_useBotDisplayName_bot"}],type:"Bot"};i.hash="58f3712365229316b6bb6e43f6b72e11",a.default=i},59818:function(e,a,n){"use strict";var i,t,l,r,o,s,d,c,m,u,k;n.r(a);let p=(m=[{kind:"Literal",name:"size",value:"small"}],u={kind:"ScalarField",name:"uid"},k={kind:"ScalarField",name:"handle"},{fragment:{argumentDefinitions:i=[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",name:"ChatHistoryListPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"ChatHistoryList_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"ChatHistoryListPaginationQuery",selections:[{args:t=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[l={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"viewerIsOwner"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:[r={kind:"ScalarField",name:"messageId"},l]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[{kind:"ScalarField",name:"botId"},l,o={kind:"ScalarField",name:"deletionState"},s={kind:"ScalarField",name:"displayName"},{kind:"LinkedField",name:"picture",plural:!1,selections:c=[d={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:m,kind:"LinkedField",name:"picture",plural:!1,selections:c,storageKey:'picture(size:"small")'}]},{kind:"ScalarField",name:"hasMultipleUsers"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[r,l,{kind:"ScalarField",name:"text"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[u,k,l]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[s,o,l]},{kind:"ScalarField",name:"author"}]},{concreteType:"PoeUser",kind:"LinkedField",name:"userMemberToHighlight",plural:!1,selections:[d,{alias:"smallProfilePhotoUrl",args:m,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"profilePhotoUrl"},{kind:"ScalarField",name:"fullName"},l,k]},{kind:"ScalarField",name:"membersCount"},d,{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]},{kind:"TypeDiscriminator",abstractKey:"__isNode"}]},{kind:"ScalarField",name:"cursor"},l]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},l]},{args:t,handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[u,{alias:"poeEnableMultiplayerChatPrototype",args:[{kind:"Literal",name:"gateName",value:"poe_enable_multiplayer_chat_prototype"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_multiplayer_chat_prototype")'},l]}]},params:{id:"526df691d90413bddacede39bbe099df7b957537cb9a3331fdf7c8d73ce6455e",metadata:{},name:"ChatHistoryListPaginationQuery",operationKind:"query",text:null}});p.hash="752467795af95e047b71a95de80a0940",a.default=p},87523:function(e,a,n){"use strict";var i;n.r(a);let t={argumentDefinitions:[{defaultValue:15,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:i=["chats"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:i},fragmentPathInResult:[],operation:n(59818)}},name:"ChatHistoryList_queryRoot",selections:[{alias:"chats",concreteType:"ChatsConnection",kind:"LinkedField",name:"__ChatHistoryList_queryRoot_chats_connection",plural:!1,selections:[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_edges"},{kind:"ScalarField",name:"cursor"},{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"__typename"}]}]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]}]},{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryPagedList_viewer"}]}],type:"QueryRoot"};t.hash="752467795af95e047b71a95de80a0940",a.default=t},53742:function(e,a,n){"use strict";n.r(a);let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],kind:"Fragment",name:"ChatHistoryMain_queryRoot",selections:[{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{kind:"FragmentSpread",name:"ChatHistoryList_queryRoot"}]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"handle",variableName:"handle"}],kind:"FragmentSpread",name:"ChatHistoryFilteredList_queryRoot"},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[{kind:"ScalarField",name:"botId"}]}]}],type:"QueryRoot"};i.hash="0168dd45195034f4316453a39e927b15",a.default=i},92236:function(e,a,n){"use strict";n.r(a);let i={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ChatHistoryPagedList_edges",selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"ScalarField",name:"id"},{kind:"FragmentSpread",name:"ChatHistoryListItem_chat"}]}],type:"ChatEdge"};i.hash="e6a030d05088ef01de4d75e4fc1025a8",a.default=i},61514:function(e,a,n){"use strict";n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"ChatHistoryPagedList_viewer",selections:[{kind:"FragmentSpread",name:"ChatHistoryListItem_viewer"}],type:"Viewer"};i.hash="b48188d410ad558772def0f6c730b452",a.default=i},19451:function(e,a,n){"use strict";var i,t,l,r,o,s,d,c,m,u,k,p,h,g,y,F,f;n.r(a);let _=(i=[{defaultValue:null,kind:"LocalArgument",name:"handle"},{defaultValue:null,kind:"LocalArgument",name:"useBot"}],t={kind:"Variable",name:"handle",variableName:"handle"},l={kind:"ScalarField",name:"id"},o=[r={kind:"Literal",name:"first",value:15}],p=[{kind:"Literal",name:"size",value:"small"}],h={kind:"ScalarField",name:"uid"},g={kind:"ScalarField",name:"handle"},y=[{concreteType:"ChatEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Chat",kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"ScalarField",name:"viewerIsOwner"},{kind:"ScalarField",name:"chatId"},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"title"},{kind:"ScalarField",name:"lastInteractionTime"},{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:[s={kind:"ScalarField",name:"messageId"},l]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[d={kind:"ScalarField",name:"botId"},l,c={kind:"ScalarField",name:"deletionState"},m={kind:"ScalarField",name:"displayName"},{kind:"LinkedField",name:"picture",plural:!1,selections:k=[u={kind:"ScalarField",name:"__typename"},{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},{alias:"smallPicture",args:p,kind:"LinkedField",name:"picture",plural:!1,selections:k,storageKey:'picture(size:"small")'}]},{kind:"ScalarField",name:"hasMultipleUsers"},{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[s,l,{kind:"ScalarField",name:"text"},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[h,g,l]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[m,c,l]},{kind:"ScalarField",name:"author"}]},{concreteType:"PoeUser",kind:"LinkedField",name:"userMemberToHighlight",plural:!1,selections:[u,{alias:"smallProfilePhotoUrl",args:p,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"profilePhotoUrl"},{kind:"ScalarField",name:"fullName"},l,g]},{kind:"ScalarField",name:"membersCount"},u,{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"isOptimistic"}]},{kind:"TypeDiscriminator",abstractKey:"__isNode"}]},{kind:"ScalarField",name:"cursor"},l]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},l],F={concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[h,{alias:"poeEnableMultiplayerChatPrototype",args:[{kind:"Literal",name:"gateName",value:"poe_enable_multiplayer_chat_prototype"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_enable_multiplayer_chat_prototype")'}]},f=[r,t],{fragment:{argumentDefinitions:i,kind:"Fragment",name:"chatsHistoryPageQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"MainNavbarLeftItem_viewer"}]},{args:[t,{kind:"Variable",name:"useBot",variableName:"useBot"}],kind:"FragmentSpread",name:"ChatHistoryMain_queryRoot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"chatsHistoryPageQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ScalarField",name:"hasUnreadMessage"},l]},{condition:"useBot",kind:"Condition",passingValue:!1,selections:[{args:o,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:y,storageKey:"chats(first:15)"},{args:o,handle:"connection",key:"ChatHistoryList_queryRoot_chats",kind:"LinkedHandle",name:"chats"},F]},{condition:"useBot",kind:"Condition",passingValue:!0,selections:[{alias:"filteredChats",args:f,concreteType:"ChatsConnection",kind:"LinkedField",name:"chats",plural:!1,selections:y},{alias:"filteredChats",args:f,filters:["handle"],handle:"connection",key:"ChatHistoryFilteredList_queryRoot_filteredChats",kind:"LinkedHandle",name:"chats"},{args:[{kind:"Variable",name:"name",variableName:"handle"}],concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[m,c,l,d]},F]}]},params:{id:"2e889fc01dfe02516be18e0779eda4bcf9ae04052f7b2df35a79e45bffbc97be",metadata:{},name:"chatsHistoryPageQuery",operationKind:"query",text:null}});_.hash="9a16743c75e903bcc93130b9770da2ad",a.default=_},91469:function(e,a,n){"use strict";var i=n(85893),t=n(13525),l=n(12251),r=n(23595),o=n(64516),s=n(11300),d=n.n(s);a.Z=e=>{let{header:a,startAtBottom:n,children:s,disallowScroll:c,noMaxWidth:m=!1}=e,{elementProps:u,providerProps:k}=(0,t.GO)(),p=(0,o.F)(),h=!(0,r.k6)(p)&&d().scrollSectionOverflow;return(0,i.jsxs)(i.Fragment,{children:[a,(0,i.jsx)(t.yp,{...k,children:(0,i.jsx)("div",{className:(0,l.$)(d().scrollSection,n&&d().startAtBottom,h,c&&d().disallowScroll),...u,children:(0,i.jsx)("div",{className:(0,l.$)(d().column,m&&d().noMaxWidth),children:s})})})]})}},24581:function(e,a,n){"use strict";var i=n(85893),t=n(1250),l=n(36803);a.Z=e=>(0,i.jsx)(l.Z,{leftNavItem:(0,i.jsx)(t.Z,{viewer:e.viewer}),...e})},84080:function(e,a,n){"use strict";n.d(a,{C:function(){return usePagingTriggerRef}});var i=n(85893),t=n(67294),l=n(12251),r=n(56782),o=n.n(r),s=n(13525);let usePagingTriggerRef=e=>{let{loadMore:a,canLoadMore:n,rootMargin:i,scrollRootRef:l}=e,r=t.useRef(null),o=(0,s.Oi)(),d=void 0!==l?l:o;return(0,t.useEffect)(()=>{var e;if(!r.current||!n)return;let t=new IntersectionObserver(e=>{e[0].isIntersecting&&a()},{root:null!==(e=null==d?void 0:d.current)&&void 0!==e?e:null,threshold:0,rootMargin:i});return t.observe(r.current),()=>{t.disconnect()}},[a,n,i,d]),r},calcRootMargin=(e,a,n)=>"".concat(!a&&n?e:0,"px ").concat(a&&!n?e:0,"px ")+"".concat(a||n?0:e,"px ").concat(a&&n?e:0,"px"),d=t.forwardRef(function(e,a){let{children:n,className:t,loadMore:r,hasMore:s,isLoading:d,loadingState:c=null,error:m,errorState:u=null,threshold:k,horizontal:p=!1,reverse:h=!1,scrollRootRef:g}=e,y=usePagingTriggerRef({loadMore:r,canLoadMore:s&&!d&&!m,rootMargin:calcRootMargin(k,p,h),scrollRootRef:g}),F=m?u:(0,i.jsx)("div",{ref:y,className:o().pagingTrigger,children:d&&c});return(0,i.jsxs)("div",{ref:a,className:(0,l.$)(o().container,p&&o().horizontal,t),children:[h&&F,n,!h&&F]})});a.Z=d},21482:function(e,a,n){"use strict";var i=n(85893),t=n(67294),l=n(12251),r=n(55365),o=n.n(r);let s=(0,t.forwardRef)((e,a)=>{let{label:n,icon:r,avatar:s,isActive:d=!1,className:c,...m}=e,cloneAndSetSize=(e,a)=>e?t.cloneElement(e,{size:a}):null,u=(0,l.$)(o().root,d&&o().isActive,r&&o().icon,s&&o().avatar,c);return(0,i.jsx)("button",{ref:a,className:u,type:"button",...m,children:(0,i.jsxs)("span",{className:o().inner,children:[r&&cloneAndSetSize(r,"sm"),s&&cloneAndSetSize(s,"x-sm"),n]})})});s.displayName="Chip",a.Z=s},28689:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return H}});var i=n(85893),t=n(22120);n(44311);var l=n(11163),r=n(67294),o=n(22578),s=n(9729),d=n(30038),c=n(4909),m=n(42093),u=n(20385),k=n.n(u),chat_ChatHistoryListFilterFooter=e=>{let{bot:a,clearFilter:l,noResults:r=!1}=e,s=(0,o.useFragment)(n(90995),a),d=(0,m.dC)(s),{t:u}=(0,t.$G)(),p=u(r?"You don't have any chats that include {{displayName}}.":"You've viewed all chats that include {{displayName}}.",{displayName:d});return(0,i.jsxs)("div",{className:k().container,children:[s&&(0,i.jsx)("p",{children:p}),(0,i.jsx)(c.oM,{onClick:l,children:u("Clear filter")})]})},p=n(21482),h=n(65181),g=n.n(h),chat_ChatHistoryListFilterHeader=e=>{let{bot:a,clearFilter:l}=e,r=(0,o.useFragment)(n(10601),a),{t:s}=(0,t.$G)(),d=(0,m.dC)(r);return(0,i.jsxs)("div",{className:g().container,children:[r&&(0,i.jsx)(p.Z,{label:d,isActive:!0}),(0,i.jsx)(c.oM,{onClick:l,children:s("Clear filter")})]})},y=n(84080),F=n(50697),f=n.n(F),_=n(6926),chat_ChatHistoryPagedList=e=>{let{edges:a,viewer:t,loadNext:l,hasNext:s,isLoadingNext:d}=e,c=(0,o.useFragment)(n(92236),a),m=(0,o.useFragment)(n(61514),t),[u,k]=(0,r.useState)(null),p=(0,r.useCallback)(()=>{l(10,{onComplete:e=>{e&&k(e)}})},[l]);return(0,i.jsx)(y.Z,{className:f().mainSection,loadMore:p,hasMore:s,isLoading:d,error:!!u,threshold:1e3,children:c.map(e=>(0,i.jsx)(_.Z,{chat:e.node,viewer:m},e.node.id))})},chat_ChatHistoryFilteredList=e=>{let{root:a,onFilterClear:t}=e,{data:l,loadNext:s,hasNext:d,isLoadingNext:c}=(0,o.usePaginationFragment)(n(95372),a),[m,u]=(0,r.useState)(!0),k=(0,r.useCallback)(()=>{u(!1),null==t||t()},[t]);return(0,i.jsxs)("div",{children:[m&&(0,i.jsx)(chat_ChatHistoryListFilterHeader,{bot:l.bot,clearFilter:k}),(0,i.jsx)(chat_ChatHistoryPagedList,{edges:l.filteredChats.edges,viewer:l.viewer,loadNext:s,hasNext:d,isLoadingNext:c}),m&&(0,i.jsx)(chat_ChatHistoryListFilterFooter,{bot:l.bot,clearFilter:k,noResults:0===l.filteredChats.edges.length})]})},b=n(60130),L=n(62169),S=n.n(L),chat_ChatHistoryList=e=>{let{root:a,setRefetchFullList:l}=e,{data:s,loadNext:d,hasNext:m,isLoadingNext:u,refetch:k}=(0,o.usePaginationFragment)(n(87523),a),{t:p}=(0,t.$G)();return((0,r.useEffect)(()=>{k&&l(k)},[l,k]),0===s.chats.edges.length)?(0,i.jsxs)("div",{className:S().emptyContainer,children:[(0,i.jsx)("p",{children:p("You don't have any chats.")}),(0,i.jsx)(c.oM,{href:"/",icon:(0,i.jsx)(b.Z,{}),children:p("New chat")})]}):(0,i.jsx)(chat_ChatHistoryPagedList,{edges:s.chats.edges,viewer:s.viewer,loadNext:d,hasNext:m,isLoadingNext:u})},chat_ChatHistoryMain=e=>{var a,t;let{root:c}=e,m=(0,o.useFragment)(n(53742),c),[u,k]=(0,r.useState)(),p=(0,l.useRouter)(),h=(0,r.useCallback)(()=>{var e;u?(p.replace("/chats",void 0,{shallow:!0}),u({})):p.push("/chats"),(0,s.Z)("poe/action_log",{action_type:d.Z.clear_chat_history_page_filter,bot_id:null===(e=m.bot)||void 0===e?void 0:e.botId})},[null===(a=m.bot)||void 0===a?void 0:a.botId,u,p]);return(null===(t=m.bot)||void 0===t?void 0:t.botId)?(0,i.jsx)(chat_ChatHistoryFilteredList,{root:m,onFilterClear:h}):(0,i.jsx)(chat_ChatHistoryList,{root:m,setRefetchFullList:k})},C=n(91469),v=n(24581),T=n(71258),x=n(25194),P=n(45598);let w=(0,x.T)(e=>{let{t:a}=(0,t.$G)();return(0,i.jsxs)(C.Z,{header:(0,i.jsx)(v.Z,{title:a("All chats"),viewer:e.viewer}),children:[(0,i.jsx)(T.Z,{title:a("All chats")}),(0,i.jsx)(chat_ChatHistoryMain,{root:e})]})},{query:n(19451),variables:e=>{let a=e.bot;return(0,P.H)(a)?{handle:a,useBot:!0}:{handle:"",useBot:!1}}},{loggedInOnly:!0});var H=w},55365:function(e){e.exports={root:"chip_root__VqoGT",isActive:"chip_isActive__lp306",inner:"chip_inner__tuTk3",icon:"chip_icon__wpnzD",avatar:"chip_avatar__TkpUY"}},62169:function(e){e.exports={emptyContainer:"ChatHistoryList_emptyContainer__ju5Ha"}},20385:function(e){e.exports={container:"ChatHistoryListFilterFooter_container__KMEvP"}},65181:function(e){e.exports={container:"ChatHistoryListFilterHeader_container__E8CjK"}},50697:function(e){e.exports={mainSection:"ChatHistoryPagedList_mainSection__h7IQR"}},11300:function(e){e.exports={scrollSection:"MainColumn_scrollSection__A9NHB",scrollSectionOverflow:"MainColumn_scrollSectionOverflow__FbPqw",column:"MainColumn_column__UEunw",noMaxWidth:"MainColumn_noMaxWidth__8pWAi",disallowScroll:"MainColumn_disallowScroll__zR9H2",startAtBottom:"MainColumn_startAtBottom__KeM8B"}},56782:function(e){e.exports={container:"InfiniteScroll_container__PHsd4",horizontal:"InfiniteScroll_horizontal__i7SXE",pagingTrigger:"InfiniteScroll_pagingTrigger__cdz9I"}}},function(e){e.O(0,[9692,5675,1664,5556,3974,8062,6743,4428,8021,1554,1347,9774,2888,179],function(){return e(e.s=86867)}),_N_E=e.O()}]);