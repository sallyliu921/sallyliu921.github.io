<!DOCTYPE html>
<!-- saved from url=(0039)https://poe.com/chat/wgaucx684wqh5etiti -->
<html lang="en" class="auto" data-critters-container="" data-qb-installed="true"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>代码解析 - Poe</title><meta name="description" content="Poe gives you access to the best AI, all in one place. Explore GPT-5, Claude Opus 4.1, DeepSeek-R1, Veo 3, ElevenLabs, and millions of others."><meta name="viewport" content="initial-scale=1, width=device-width, minimum-scale=1, viewport-fit=cover" id="viewport"><meta name="next-head-count" content="4"><link rel="icon" href="https://poe.com/favicon.svg" sizes="any" type="image/svg+xml"><link rel="icon" href="https://poe.com/apple-touch-icon.png"><link rel="mask-icon" href="https://psc2.cf2.poecdn.net/assets/favicon.svg" sizes="any" type="image/svg+xml"><link rel="apple-touch-icon" href="https://psc2.cf2.poecdn.net/assets/apple-touch-icon.png"><script type="text/javascript" async="" src="./代码解析 - Poe_files/js"></script><script src="./代码解析 - Poe_files/1611526079610489" async=""></script><script async="" src="./代码解析 - Poe_files/fbevents.js"></script><script defer="" nomodule="" src="./代码解析 - Poe_files/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="./代码解析 - Poe_files/2532.7b8f37346174a3b3.js"></script><script defer="" src="./代码解析 - Poe_files/5495.186a914abff90847.js"></script><script defer="" src="./代码解析 - Poe_files/7418.dc1dc9f83d416a5c.js"></script><script src="./代码解析 - Poe_files/webpack-ca30fe2c7f7ae490.js" defer=""></script><script src="./代码解析 - Poe_files/framework-ca706bf673a13738.js" defer=""></script><script src="./代码解析 - Poe_files/main-370beaf9b4ec173e.js" defer=""></script><script src="./代码解析 - Poe_files/_app-ddaab93d6891f7d8.js" defer=""></script><script src="./代码解析 - Poe_files/5c0b189e-2ebcc959a86a7a4e.js" defer=""></script><script src="./代码解析 - Poe_files/9692-84fdc7d1e5855797.js" defer=""></script><script src="./代码解析 - Poe_files/1664-7246e58924eb0118.js" defer=""></script><script src="./代码解析 - Poe_files/5675-4764c32d37be6d12.js" defer=""></script><script src="./代码解析 - Poe_files/1476-a25e7478efcd7ed0.js" defer=""></script><script src="./代码解析 - Poe_files/2492-895722fdcf2b54ce.js" defer=""></script><script src="./代码解析 - Poe_files/1116-8b1684dc1499ad6d.js" defer=""></script><script src="./代码解析 - Poe_files/5556-b333991507227ab5.js" defer=""></script><script src="./代码解析 - Poe_files/9913-e6d166ce3ad3b74a.js" defer=""></script><script src="./代码解析 - Poe_files/6283-7a4ceead6a16b9c4.js" defer=""></script><script src="./代码解析 - Poe_files/8062-6ac569b5295c9b93.js" defer=""></script><script src="./代码解析 - Poe_files/2071-100a5e4433018f9c.js" defer=""></script><script src="./代码解析 - Poe_files/2460-09924a263d92e374.js" defer=""></script><script src="./代码解析 - Poe_files/486-83371099a79e14b0.js" defer=""></script><script src="./代码解析 - Poe_files/9142-4dc054f0a486dde8.js" defer=""></script><script src="./代码解析 - Poe_files/9469-27c04af65f4676f7.js" defer=""></script><script src="./代码解析 - Poe_files/6384-815d6917506f5c1f.js" defer=""></script><script src="./代码解析 - Poe_files/3337-61e112b24cbbfe64.js" defer=""></script><script src="./代码解析 - Poe_files/4041-9df0a8786d5e1b9f.js" defer=""></script><script src="./代码解析 - Poe_files/index-674c2e169f756fca.js" defer=""></script><script src="./代码解析 - Poe_files/_buildManifest.js" defer=""></script><script src="./代码解析 - Poe_files/_ssgManifest.js" defer=""></script><style>@layer pdl,theme,base,components,utilities;:root{--black:var(--neutral-12);--blue-1:#f8faff;--blue-2:#e8f1ff;--blue-3:#ccdbf6;--blue-4:#b3c8ef;--blue-5:#92b4f4;--blue-6:#6091ef;--blue-7:#3775f4;--blue-8:#1c65f8;--blue-9:#0d60f6;--blue-10:#1254d6;--blue-11:#073798;--blue-12:#062057;--neutral-1:#fff;--neutral-2:#f6f6f8;--neutral-3:#eaeaee;--neutral-4:#e3e3e7;--neutral-5:#d8d8dc;--neutral-6:#cccdd1;--neutral-7:#bbbcc1;--neutral-8:#a2a3a8;--neutral-9:#88898e;--neutral-10:#616165;--neutral-11:#505157;--neutral-12:#0d0d0d;--neutral-a1:#0000;--neutral-a2:#1414430b;--neutral-a3:#0b0b3612;--neutral-a4:#0707141a;--neutral-a5:#04040e25;--neutral-a6:#02071730;--neutral-a7:#04081942;--neutral-a8:#0205115b;--neutral-a9:#01030d75;--neutral-a10:#02020790;--neutral-a11:#02030abd;--neutral-a12:#000000f2;--pink-1:#fefafe;--pink-2:#f8f1f8;--pink-3:#eddaef;--pink-4:#e8caea;--pink-5:#e4b6e8;--pink-6:#e69eeb;--pink-7:#e787ee;--pink-8:#e664f1;--pink-9:#dd37ec;--pink-10:#ce40db;--pink-11:#a635b1;--pink-12:#5e0465;--ruby-1:#fff9f9;--ruby-2:#fcf1f2;--ruby-3:#fceaeb;--ruby-4:#fbd5d8;--ruby-5:#f2b7bc;--ruby-6:#ef98a2;--ruby-7:#eb657c;--ruby-8:#e43b5d;--ruby-9:#d00e49;--ruby-10:#bb0541;--ruby-11:#9e0937;--ruby-12:#3d0511;--teal-1:#f8fbfa;--teal-2:#effaf6;--teal-3:#d7f5e9;--teal-4:#c6f2e1;--teal-5:#b5efd9;--teal-6:#9beccf;--teal-7:#74e7c1;--teal-8:#49e3b5;--teal-9:#1dddae;--teal-10:#26a682;--teal-11:#115743;--teal-12:#0c1c16;--violet-1:#f2f4fd;--violet-2:#e4e7f9;--violet-3:#d7dbf4;--violet-4:#cdd2f2;--violet-5:#bac1ef;--violet-6:#a4acea;--violet-7:#8f97ed;--violet-8:#777de9;--violet-9:#5d5cde;--violet-10:#4f4bca;--violet-11:#413fa9;--violet-12:#333180;--white:var(--neutral-1);--yellow-1:#fefbf5;--yellow-2:#fcf8ee;--yellow-3:#fbf4e1;--yellow-4:#faeecd;--yellow-5:#f8e6b4;--yellow-6:#f7de98;--yellow-7:#f5d681;--yellow-8:#f7ca40;--yellow-9:#f2c110;--yellow-10:#ce8c16;--yellow-11:#7b4f0d;--yellow-12:#261605}@media (prefers-color-scheme:dark){:root:not(.light):not(.dark){--black:var(--neutral-1);--blue-1:#030c26;--blue-2:#021131;--blue-3:#102349;--blue-4:#163164;--blue-5:#1c3f86;--blue-6:#1b49a7;--blue-7:#1351cc;--blue-8:#2055e9;--blue-9:#0d60f6;--blue-10:#3473f5;--blue-11:#9abeff;--blue-12:#e8f1ff;--neutral-1:#101012;--neutral-2:#1b1b1e;--neutral-3:#27272d;--neutral-4:#303036;--neutral-5:#383840;--neutral-6:#404048;--neutral-7:#494952;--neutral-8:#54545c;--neutral-9:#686870;--neutral-10:#84848d;--neutral-11:#aeaeb9;--neutral-12:#fcfcfc;--neutral-a1:#0000;--neutral-a2:#e8e8fe0d;--neutral-a3:#d4d4f81e;--neutral-a4:#e1e1fe27;--neutral-a5:#ddddfd32;--neutral-a6:#e0e0fc3b;--neutral-a7:#e3e3ff45;--neutral-a8:#e9e9fe50;--neutral-a9:#ececfd66;--neutral-a10:#eeeefe85;--neutral-a11:#f0f0ffb4;--neutral-a12:#fefefef3;--pink-1:#0f0410;--pink-2:#240c26;--pink-3:#3b1f3d;--pink-4:#5b2760;--pink-5:#803187;--pink-6:#a53fae;--pink-7:#bd45c8;--pink-8:#cf42dd;--pink-9:#dd37ec;--pink-10:#e45ef0;--pink-11:#f487fd;--pink-12:#eddaef;--ruby-1:#0e0104;--ruby-2:#250208;--ruby-3:#3d0511;--ruby-4:#55091b;--ruby-5:#6d0e24;--ruby-6:#921133;--ruby-7:#ab153d;--ruby-8:#be0e43;--ruby-9:#d00e49;--ruby-10:#f02e5a;--ruby-11:#ff6b80;--ruby-12:#fceaeb;--teal-1:#050b08;--teal-2:#0c1c16;--teal-3:#19362c;--teal-4:#184a3a;--teal-5:#1d6651;--teal-6:#268a6e;--teal-7:#2ea785;--teal-8:#3ac39c;--teal-9:#1dddae;--teal-10:#56e7bc;--teal-11:#90e7c9;--teal-12:#d7f5e9;--violet-1:#111220;--violet-2:#181a2e;--violet-3:#1f223d;--violet-4:#262a57;--violet-5:#333180;--violet-6:#413fa9;--violet-7:#4f4bca;--violet-8:#5651d0;--violet-9:#5d5cde;--violet-10:#6d6cea;--violet-11:#8688fe;--violet-12:#ccd2fa;--white:var(--neutral-12);--yellow-1:#120902;--yellow-2:#261605;--yellow-3:#402402;--yellow-4:#5e3d0e;--yellow-5:#805915;--yellow-6:#a67913;--yellow-7:#d6a300;--yellow-8:#e7b200;--yellow-9:#f2c110;--yellow-10:#f8cb40;--yellow-11:#f5d47c;--yellow-12:#fbf4e1}}@media (prefers-color-scheme:dark){:root:not(.light):not(.dark){--pdl-accent-base:var(--violet-9);--pdl-accent-bold:var(--violet-12);--pdl-accent-emphasis:var(--violet-11);--pdl-accent-faint:var(--violet-2);--pdl-accent-muted:var(--violet-7);--pdl-accent-on-accent:var(--white);--pdl-accent-subtle:var(--violet-3);--pdl-action-checked-bg:var(--violet-9);--pdl-action-checked-border:var(--violet-9);--pdl-action-checked-disabled-bg:var(--violet-4);--pdl-action-checked-disabled-border:var(--violet-4);--pdl-action-checked-disabled-fg:var(--violet-7);--pdl-action-checked-fg:var(--neutral-12);--pdl-action-default-bg:var(--neutral-1);--pdl-action-default-border:var(--neutral-6);--pdl-action-default-fg:var(--neutral-12);--pdl-action-default-fg-placeholder:var(--neutral-10);--pdl-action-disabled-bg:var(--neutral-3);--pdl-action-disabled-border:var(--neutral-5);--pdl-action-disabled-fg:var(--neutral-9);--pdl-action-error-bg:var(--neutral-1);--pdl-action-error-border:var(--ruby-9);--pdl-action-error-fg:var(--neutral-12);--pdl-action-hover-border:var(--neutral-8);--pdl-action-hover-border-accent:var(--violet-8);--pdl-bg-backdrop:#000000d9;--pdl-bg-base:var(--neutral-1);--pdl-bg-emphasis:var(--neutral-9);--pdl-bg-faint:var(--neutral-2);--pdl-bg-muted:var(--neutral-4);--pdl-bg-reverse:var(--neutral-12);--pdl-bg-subtle:var(--neutral-3);--pdl-border-base:var(--neutral-4);--pdl-border-bold:var(--neutral-11);--pdl-border-emphasis:var(--neutral-7);--pdl-dim-base-10:#fafaff1a;--pdl-dim-base-100:#fafaff;--pdl-dim-base-20:#fafaff33;--pdl-dim-base-5:#fafaff0d;--pdl-dim-base-50:#fafaff80;--pdl-dim-dark-0:#0000;--pdl-dim-dark-10:#0000021a;--pdl-dim-dark-100:#000002;--pdl-dim-dark-20:#00000233;--pdl-dim-dark-30:#0000024d;--pdl-dim-dark-40:#00000266;--pdl-dim-dark-5:#0000000d;--pdl-dim-dark-50:#00000280;--pdl-dim-dark-60:#00000299;--pdl-dim-dark-70:#000002b2;--pdl-dim-dark-80:#000002cc;--pdl-dim-dark-90:#000002e5;--pdl-dim-light-0:#fafaff00;--pdl-dim-light-10:#fafaff1a;--pdl-dim-light-100:#fafaff;--pdl-dim-light-20:#fafaff33;--pdl-dim-light-30:#fafaff4d;--pdl-dim-light-40:#fafaff66;--pdl-dim-light-5:#fafaff0d;--pdl-dim-light-50:#fafaff80;--pdl-dim-light-60:#fafaff99;--pdl-dim-light-70:#fafaffb2;--pdl-dim-light-80:#fafaffcc;--pdl-dim-light-90:#fafaffe5;--pdl-dim-reverse-10:#0000021a;--pdl-dim-reverse-100:#000002;--pdl-dim-reverse-20:#00000233;--pdl-dim-reverse-5:#0000020d;--pdl-dim-reverse-50:#00000280;--pdl-error-base:var(--ruby-9);--pdl-error-emphasis:var(--ruby-11);--pdl-error-faint:var(--ruby-2);--pdl-error-muted:var(--ruby-7);--pdl-error-on-error:var(--white);--pdl-error-subtle:var(--ruby-5);--pdl-fg-base:var(--neutral-12);--pdl-fg-brand:var(--violet-10);--pdl-fg-error:var(--ruby-10);--pdl-fg-feature:var(--pink-10);--pdl-fg-info:var(--blue-10);--pdl-fg-muted:var(--neutral-11);--pdl-fg-reverse:var(--neutral-1);--pdl-fg-subtle:var(--neutral-10);--pdl-fg-success:var(--teal-10);--pdl-fg-warning:var(--yellow-10);--pdl-link-disabled-fg:var(--action-disabled-fg);--pdl-link-theme-danger-default-fg:var(--ruby-10);--pdl-link-theme-danger-disabled-fg:var(--neutral-10);--pdl-link-theme-primary-default-fg:var(--violet-11);--pdl-link-theme-primary-disabled-fg:var(--neutral-10);--pdl-shadow-base:#000;--pdl-success-base:var(--teal-9);--pdl-success-emphasis:var(--teal-11);--pdl-success-faint:var(--teal-2);--pdl-success-muted:var(--teal-7);--pdl-success-on-success:var(--black);--pdl-warning-base:var(--yellow-9);--pdl-warning-emphasis:var(--yellow-11);--pdl-warning-faint:var(--yellow-2);--pdl-warning-muted:var(--yellow-7);--pdl-warning-on-warning:var(--black);--pdl-warning-subtle:var(--yellow-5)}}:root{--pdl-accent-base:var(--violet-9);--pdl-accent-bold:var(--violet-12);--pdl-accent-emphasis:var(--violet-11);--pdl-accent-faint:var(--violet-2);--pdl-accent-muted:var(--violet-7);--pdl-accent-on-accent:var(--white);--pdl-accent-subtle:var(--violet-3);--pdl-action-checked-bg:var(--violet-9);--pdl-action-checked-border:var(--violet-9);--pdl-action-checked-disabled-bg:var(--violet-4);--pdl-action-checked-disabled-border:var(--violet-4);--pdl-action-checked-disabled-fg:var(--violet-7);--pdl-action-checked-fg:var(--neutral-1);--pdl-action-default-bg:var(--neutral-1);--pdl-action-default-border:var(--neutral-6);--pdl-action-default-fg:var(--neutral-12);--pdl-action-default-fg-placeholder:var(--neutral-10);--pdl-action-disabled-bg:var(--neutral-3);--pdl-action-disabled-border:var(--neutral-5);--pdl-action-disabled-fg:var(--neutral-9);--pdl-action-error-bg:var(--neutral-1);--pdl-action-error-border:var(--ruby-9);--pdl-action-error-fg:var(--neutral-12);--pdl-action-hover-border:var(--neutral-8);--pdl-action-hover-border-accent:var(--violet-8);--pdl-bg-backdrop:#000000d9;--pdl-bg-base:var(--neutral-1);--pdl-bg-emphasis:var(--neutral-9);--pdl-bg-faint:var(--neutral-2);--pdl-bg-muted:var(--neutral-4);--pdl-bg-reverse:var(--neutral-12);--pdl-bg-subtle:var(--neutral-3);--pdl-border-base:var(--neutral-4);--pdl-border-bold:var(--neutral-11);--pdl-border-emphasis:var(--neutral-7);--pdl-dim-base-10:#0000021a;--pdl-dim-base-100:#000;--pdl-dim-base-20:#00000233;--pdl-dim-base-5:#0000020d;--pdl-dim-base-50:#00000280;--pdl-dim-dark-0:#00000200;--pdl-dim-dark-10:#0000021a;--pdl-dim-dark-100:#000002;--pdl-dim-dark-20:#00000233;--pdl-dim-dark-30:#0000024d;--pdl-dim-dark-40:#00000266;--pdl-dim-dark-5:#0000020d;--pdl-dim-dark-50:#00000280;--pdl-dim-dark-60:#00000299;--pdl-dim-dark-70:#000002b2;--pdl-dim-dark-80:#000002cc;--pdl-dim-dark-90:#000002e5;--pdl-dim-light-0:#fafaff00;--pdl-dim-light-10:#fafaff1a;--pdl-dim-light-100:#fafaff;--pdl-dim-light-20:#fafaff33;--pdl-dim-light-30:#fafaff4d;--pdl-dim-light-40:#fafaff66;--pdl-dim-light-5:#fafaff0d;--pdl-dim-light-50:#fafaff80;--pdl-dim-light-60:#fafaff99;--pdl-dim-light-70:#fafaffb2;--pdl-dim-light-80:#fafaffcc;--pdl-dim-light-90:#fafaffe5;--pdl-dim-reverse-10:#fafaff1a;--pdl-dim-reverse-100:#fff;--pdl-dim-reverse-20:#fafaff33;--pdl-dim-reverse-5:#fafaff0d;--pdl-dim-reverse-50:#fafaff80;--pdl-error-base:var(--ruby-9);--pdl-error-emphasis:var(--ruby-11);--pdl-error-faint:var(--ruby-2);--pdl-error-muted:var(--ruby-7);--pdl-error-on-error:var(--white);--pdl-error-subtle:var(--ruby-5);--pdl-fg-base:var(--neutral-12);--pdl-fg-brand:var(--violet-10);--pdl-fg-error:var(--ruby-10);--pdl-fg-feature:var(--pink-10);--pdl-fg-info:var(--blue-10);--pdl-fg-muted:var(--neutral-11);--pdl-fg-reverse:var(--neutral-1);--pdl-fg-subtle:var(--neutral-10);--pdl-fg-success:var(--teal-10);--pdl-fg-warning:var(--yellow-10);--pdl-link-disabled-fg:var(--action-disabled-fg);--pdl-link-theme-danger-default-fg:var(--ruby-10);--pdl-link-theme-danger-disabled-fg:var(--neutral-10);--pdl-link-theme-primary-default-fg:var(--violet-11);--pdl-link-theme-primary-disabled-fg:var(--neutral-10);--pdl-shadow-base:#000;--pdl-success-base:var(--teal-9);--pdl-success-emphasis:var(--teal-11);--pdl-success-faint:var(--teal-2);--pdl-success-muted:var(--teal-7);--pdl-success-on-success:var(--black);--pdl-warning-base:var(--yellow-9);--pdl-warning-emphasis:var(--yellow-11);--pdl-warning-faint:var(--yellow-2);--pdl-warning-muted:var(--yellow-7);--pdl-warning-on-warning:var(--black);--pdl-warning-subtle:var(--yellow-5)}:root{--pdl-sizing-0:0rem;--pdl-sizing-1:.0625rem;--pdl-sizing-2:.125rem;--pdl-sizing-4:.25rem;--pdl-sizing-6:.375rem;--pdl-sizing-8:.5rem;--pdl-sizing-12:.75rem;--pdl-sizing-16:1rem;--pdl-sizing-20:1.25rem;--pdl-sizing-24:1.5rem;--pdl-sizing-32:2rem;--pdl-sizing-40:2.5rem;--pdl-sizing-48:3rem;--pdl-sizing-56:3.5rem;--pdl-sizing-64:4rem;--pdl-sizing-72:4.5rem;--pdl-sizing-80:5rem;--pdl-sizing-96:6rem;--pdl-sizing-128:8rem;--pdl-sizing-144:9rem;--pdl-sizing-160:10rem;--pdl-sizing-192:12rem;--pdl-sizing-224:14rem;--pdl-sizing-256:16rem;--pdl-sizing-320:20rem;--pdl-sizing-avatar-16:1rem;--pdl-sizing-avatar-20:1.25rem;--pdl-sizing-avatar-24:1.5rem;--pdl-sizing-avatar-32:2rem;--pdl-sizing-avatar-48:3rem;--pdl-sizing-avatar-64:4rem;--pdl-sizing-avatar-96:6rem;--pdl-sizing-border-width-base:1px;--pdl-sizing-icon-12:.75rem;--pdl-sizing-icon-18:1.125rem;--pdl-sizing-icon-20:1.25rem;--pdl-sizing-icon-24:1.5rem;--pdl-sizing-icon-28:1.75rem;--pdl-sizing-icon-x-sm:.75rem;--pdl-sizing-icon-sm:1.125rem;--pdl-sizing-icon-md:1.25rem;--pdl-sizing-icon-lg:1.5rem;--pdl-sizing-icon-x-lg:1.75rem;--pdl-sizing-image-20:1.25rem;--pdl-sizing-image-24:1.5rem;--pdl-sizing-image-32:2rem;--pdl-sizing-image-48:3rem;--pdl-sizing-image-56:3.5rem;--pdl-sizing-image-72:4.5rem;--pdl-sizing-image-96:6rem;--pdl-sizing-image-xx-sm:1.25rem;--pdl-sizing-image-x-sm:1.5rem;--pdl-sizing-image-sm:2rem;--pdl-sizing-image-md:3rem;--pdl-sizing-image-lg:4.5rem;--pdl-sizing-image-x-lg:6rem;--pdl-sizing-input-height-sm:1rem;--pdl-sizing-input-height-md:1.5rem;--pdl-sizing-input-height-lg:2rem;--pdl-sizing-input-height-x-lg:2.5rem;--pdl-sizing-input-height-xx-lg:4.5rem;--pdl-sizing-radius-0:0rem;--pdl-sizing-radius-2:.125rem;--pdl-sizing-radius-4:.25rem;--pdl-sizing-radius-8:.5rem;--pdl-sizing-radius-12:.75rem;--pdl-sizing-radius-none:0rem;--pdl-sizing-radius-x-sm:.125rem;--pdl-sizing-radius-sm:.25rem;--pdl-sizing-radius-md:.5rem;--pdl-sizing-radius-lg:.75rem;--pdl-sizing-radius-circle:50%;--pdl-sizing-radius-pill:9999px;--pdl-spacing-0:0rem;--pdl-spacing-1:.0625rem;--pdl-spacing-2:.125rem;--pdl-spacing-4:.25rem;--pdl-spacing-6:.375rem;--pdl-spacing-8:.5rem;--pdl-spacing-12:.75rem;--pdl-spacing-16:1rem;--pdl-spacing-20:1.25rem;--pdl-spacing-24:1.5rem;--pdl-spacing-32:2rem;--pdl-spacing-40:2.5rem;--pdl-spacing-none:0rem;--pdl-spacing-xxx-sm:.125rem;--pdl-spacing-xx-sm:.25rem;--pdl-spacing-x-sm:.5rem;--pdl-spacing-sm:.75rem;--pdl-spacing-md:1rem;--pdl-spacing-lg:1.25rem;--pdl-spacing-x-lg:1.5rem;--pdl-spacing-xx-lg:2rem;--pdl-spacing-xxx-lg:2.5rem;--pdl-font-family-web:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;--pdl-font-family-mono:SFMono-Regular,Consolas,monaco,monospace;--pdl-font-weight-normal:400;--pdl-font-weight-medium:500;--pdl-font-weight-semibold:600;--pdl-font-weight-bold:700;--pdl-font-weight-black:800;--pdl-text-body-xx-sm-font-size:.6875rem;--pdl-text-body-xx-sm-line-height:.75rem;--pdl-text-body-xx-sm-letter-spacing:0;--pdl-text-body-x-sm-font-size:.75rem;--pdl-text-body-x-sm-line-height:1rem;--pdl-text-body-x-sm-letter-spacing:0;--pdl-text-body-sm-font-size:.875rem;--pdl-text-body-sm-line-height:1.25rem;--pdl-text-body-sm-letter-spacing:0;--pdl-text-body-base-font-size:1rem;--pdl-text-body-base-line-height:1.5rem;--pdl-text-body-base-letter-spacing:0;--pdl-text-body-lg-font-size:1.125rem;--pdl-text-body-lg-line-height:1.625rem;--pdl-text-body-lg-letter-spacing:0;--pdl-text-heading-xx-sm-font-size:.75rem;--pdl-text-heading-xx-sm-line-height:1rem;--pdl-text-heading-xx-sm-letter-spacing:0;--pdl-text-heading-x-sm-font-size:.875rem;--pdl-text-heading-x-sm-line-height:1.125rem;--pdl-text-heading-x-sm-letter-spacing:0;--pdl-text-heading-sm-font-size:1rem;--pdl-text-heading-sm-line-height:1.375rem;--pdl-text-heading-sm-letter-spacing:0;--pdl-text-heading-base-font-size:1.125rem;--pdl-text-heading-base-line-height:1.5rem;--pdl-text-heading-base-letter-spacing:-.0025em;--pdl-text-heading-md-font-size:1.25rem;--pdl-text-heading-md-line-height:1.625rem;--pdl-text-heading-md-letter-spacing:-.00625em;--pdl-text-heading-lg-font-size:1.5rem;--pdl-text-heading-lg-line-height:1.875rem;--pdl-text-heading-lg-letter-spacing:-.0075em;--pdl-text-heading-x-lg-font-size:1.875rem;--pdl-text-heading-x-lg-line-height:1.875rem;--pdl-text-heading-x-lg-letter-spacing:-.01em;--pdl-text-display-base-font-size:3.75rem;--pdl-text-display-base-line-height:3.75rem;--pdl-text-display-base-letter-spacing:-.025em;--pdl-font-families-body-text-xx-sm-normal:var(--pdl-font-weight-normal)var(--pdl-text-body-xx-sm-font-size)/var(--pdl-text-body-xx-sm-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-xx-sm-semibold:var(--pdl-font-weight-semibold)var(--pdl-text-body-xx-sm-font-size)/var(--pdl-text-body-xx-sm-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-xx-sm-bold:var(--pdl-font-weight-bold)var(--pdl-text-body-xx-sm-font-size)/var(--pdl-text-body-xx-sm-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-x-sm-normal:var(--pdl-font-weight-normal)var(--pdl-text-body-x-sm-font-size)/var(--pdl-text-body-x-sm-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-x-sm-semibold:var(--pdl-font-weight-semibold)var(--pdl-text-body-x-sm-font-size)/var(--pdl-text-body-x-sm-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-x-sm-bold:var(--pdl-font-weight-bold)var(--pdl-text-body-x-sm-font-size)/var(--pdl-text-body-x-sm-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-sm-normal:var(--pdl-font-weight-normal)var(--pdl-text-body-sm-font-size)/var(--pdl-text-body-sm-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-sm-semibold:var(--pdl-font-weight-semibold)var(--pdl-text-body-sm-font-size)/var(--pdl-text-body-sm-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-sm-bold:var(--pdl-font-weight-bold)var(--pdl-text-body-sm-font-size)/var(--pdl-text-body-sm-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-base-normal:var(--pdl-font-weight-normal)var(--pdl-text-body-base-font-size)/var(--pdl-text-body-base-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-base-semibold:var(--pdl-font-weight-semibold)var(--pdl-text-body-base-font-size)/var(--pdl-text-body-base-line-height)var(--pdl-font-family-web);--pdl-font-families-body-text-base-bold:var(--pdl-font-weight-bold)var(--pdl-text-body-base-font-size)/var(--pdl-text-body-base-line-height)var(--pdl-font-family-web);--pdl-font-families-heading-base-bold:var(--pdl-font-weight-bold)var(--pdl-text-heading-base-font-size)/var(--pdl-text-heading-base-line-height)var(--pdl-font-family-web);--pdl-font-families-heading-md-bold:var(--pdl-font-weight-bold)var(--pdl-text-heading-md-font-size)/var(--pdl-text-heading-md-line-height)var(--pdl-font-family-web);--pdl-font-families-meta-text:400 .688rem/1rem var(--pdl-font-family-web);--pdl-motion-duration-fast:.15s;--ease-in-sine:cubic-bezier(.47,0,.745,.715);--ease-out-sine:cubic-bezier(.39,.575,.565,1);--ease-in-out-sine:cubic-bezier(.445,.05,.55,.95);--ease-in-quad:cubic-bezier(.55,.085,.68,.53);--ease-out-quad:cubic-bezier(.25,.46,.45,.94);--ease-in-out-quad:cubic-bezier(.455,.03,.515,.955);--ease-in-cubic:cubic-bezier(.55,.055,.675,.19);--ease-out-cubic:cubic-bezier(.215,.61,.355,1);--ease-in-out-cubic:cubic-bezier(.645,.045,.355,1);--ease-in-quart:cubic-bezier(.895,.03,.685,.22);--ease-out-quart:cubic-bezier(.165,.84,.44,1);--ease-in-out-quart:cubic-bezier(.77,0,.175,1);--ease-in-quint:cubic-bezier(.755,.05,.855,.06);--ease-out-quint:cubic-bezier(.23,1,.32,1);--ease-in-out-quint:cubic-bezier(.86,0,.07,1);--ease-in-expo:cubic-bezier(.95,.05,.795,.035);--ease-out-expo:cubic-bezier(.19,1,.22,1);--ease-in-out-expo:cubic-bezier(1,0,0,1);--ease-in-circ:cubic-bezier(.6,.04,.98,.335);--ease-out-circ:cubic-bezier(.075,.82,.165,1);--ease-in-out-circ:cubic-bezier(.785,.135,.15,.86);--ease-in-back:cubic-bezier(.6,-.28,.735,.045);--ease-out-back:cubic-bezier(.175,.885,.32,1.275);--ease-in-out-back:cubic-bezier(.68,-.55,.265,1.55);--white-a5:#ffffff0d;--white-a10:#ffffff1a;--white-a20:#fff3;--white-a30:#ffffff4d;--white-a40:#fff6;--white-a50:#ffffff80;--white-a60:#fff9;--black-a5:#0000000d;--black-a10:#0000001a;--black-a20:#0003;--black-a30:#0000004d;--black-a40:#0006;--black-a50:#00000080;--black-a60:#0009;--pdl-size-0:0rem;--pl-size-px:1px;--pdl-size-2:.125rem;--pdl-size-4:.25rem;--pdl-size-8:.5rem;--pdl-size-12:.75rem;--pdl-size-16:1rem;--pdl-size-20:1.25rem;--pdl-size-24:1.5rem;--pdl-size-32:2rem;--pdl-size-40:2.5rem;--pdl-size-48:3rem;--pdl-size-64:4rem;--pdl-size-80:5rem;--pdl-size-96:6rem}:root{--pdl-fg-white:var(--neutral-1);--pdl-action-focus-ring-primary-base:0 0 0 1px var(--neutral-11);--pdl-action-focus-ring-primary-outer:0 0 0 1px var(--neutral-1),0 0 0 2px var(--neutral-11);--pdl-action-focus-ring-danger-base:0 0 0 1px var(--pdl-error-base);--pdl-box-shadow-base:0 0 6px 1px #0000001a}@media (prefers-color-scheme:dark){:root:not(.light):not(.dark){--pdl-fg-white:var(--neutral-12);--pdl-action-focus-ring-primary-base:0 0 0 1px var(--neutral-11);--pdl-action-focus-ring-primary-outer:0 0 0 1px var(--neutral-1),0 0 0 2px var(--neutral-11);--pdl-action-focus-ring-danger-base:0 0 0 2px var(--pdl-error-base);--pdl-box-shadow-base:0 0 6px 1px #0000001a}}:root{--pdl-comp-tab-state-default-bg:transparent;--pdl-comp-tab-border-bottom:2px solid transparent;--pdl-comp-switch-outer-width:40px;--pdl-comp-switch-inner-dimension:16px;--pdl-comp-overlay-min-width:200px;--pdl-comp-modal-motion-scale:.98;--pdl-comp-modal-desktop-max-height:600px;--pdl-comp-modal-max-width:550px;--pdl-comp-modal-box-shadow:0 0 8px 0 #00000015;--pdl-comp-loading-spinner-speed:1s;--pdl-comp-code-block-body-bg:#181818;--pdl-comp-checkbox-state-checked-border:transparent;--pdl-comp-button-theme-primary-disabled-fg-opacity:.5;--pdl-comp-button-theme-primary-disabled-fg:#ffffff80;--pdl-comp-avatar-theme-rounded-border-radius:30%;--pdl-comp-toast-box-shadow:var(--pdl-box-shadow-base);--pdl-comp-textarea-transition:border-color var(--pdl-motion-duration-fast);--pdl-comp-text-input-transition:background-color,var(--pdl-motion-duration-fast),border-color var(--pdl-motion-duration-fast),color var(--pdl-motion-duration-fast);--pdl-comp-switch-border-radius:var(--pdl-sizing-radius-pill);--pdl-comp-switch-inner-transition:var(--pdl-motion-duration-fast);--pdl-comp-rate-notification-border-radius:var(--pdl-sizing-radius-pill);--pdl-comp-radio-border-radius:var(--pdl-sizing-radius-circle);--pdl-comp-radio-transition:background-color,var(--pdl-motion-duration-fast),border-color var(--pdl-motion-duration-fast);--pdl-comp-overlay-box-shadow:var(--pdl-box-shadow-base);--pdl-comp-modal-motion-speed:var(--pdl-motion-duration-fast);--pdl-comp-loading-spinner-size-sm:var(--pdl-sizing-icon-sm);--pdl-comp-dropdown-transition:background-color,var(--pdl-motion-duration-fast),border-color var(--pdl-motion-duration-fast),color var(--pdl-motion-duration-fast);--pdl-comp-chip-transition:background-color,var(--pdl-motion-duration-fast),border-color var(--pdl-motion-duration-fast);--pdl-comp-checkbox-transition:background-color,var(--pdl-motion-duration-fast),border-color var(--pdl-motion-duration-fast),color var(--pdl-motion-duration-fast);--pdl-comp-button-transition:background-color,var(--pdl-motion-duration-fast),border-color var(--pdl-motion-duration-fast);--pdl-comp-button-border-radius:var(--pdl-sizing-radius-pill);--pdl-comp-button-round-transition:background-color,var(--pdl-motion-duration-fast);--pdl-comp-button-round-border-radius:var(--pdl-sizing-radius-pill);--pdl-comp-avatar-theme-circle-border-radius:var(--pdl-sizing-radius-pill);--pdl-comp-attachment-close-button-border-radius:var(--pdl-sizing-radius-circle);--pdl-comp-anchor-transition:var(--pdl-motion-duration-fast);--pdl-comp-toast-theme-warning-fg:var(--pdl-warning-on-warning);--pdl-comp-toast-theme-warning-bg:var(--pdl-warning-base);--pdl-comp-toast-theme-error-fg:var(--pdl-error-on-error);--pdl-comp-toast-theme-error-bg:var(--pdl-error-base);--pdl-comp-toast-theme-success-fg:var(--pdl-success-on-success);--pdl-comp-toast-theme-success-bg:var(--pdl-success-base);--pdl-comp-toast-theme-base-fg:var(--pdl-fg-reverse);--pdl-comp-toast-theme-base-bg:var(--pdl-bg-reverse);--pdl-comp-toast-padding:var(--pdl-spacing-x-sm)var(--pdl-spacing-sm);--pdl-comp-toast-gap:var(--pdl-spacing-x-sm);--pdl-comp-toast-border-radius:var(--pdl-sizing-radius-md);--pdl-comp-toast-font:var(--pdl-font-families-body-text-sm-normal);--pdl-comp-textarea-state-padding-y:var(--pdl-spacing-sm);--pdl-comp-textarea-state-error-border:var(--pdl-action-error-border);--pdl-comp-textarea-state-disabled-border:var(--pdl-action-disabled-border);--pdl-comp-textarea-state-disabled-fg:var(--pdl-action-disabled-fg);--pdl-comp-textarea-state-disabled-bg:var(--pdl-action-disabled-bg);--pdl-comp-textarea-state-hover-border:var(--pdl-action-hover-border-accent);--pdl-comp-textarea-state-default-fg-placeholder:var(--pdl-action-default-fg-placeholder);--pdl-comp-textarea-state-default-border:var(--pdl-action-default-border);--pdl-comp-textarea-state-default-fg:var(--pdl-action-default-fg);--pdl-comp-textarea-state-default-bg:var(--pdl-action-default-bg);--pdl-comp-textarea-border-radius:var(--pdl-sizing-radius-md);--pdl-comp-textarea-padding-y:var(--pdl-spacing-x-sm);--pdl-comp-textarea-padding-x:var(--pdl-spacing-sm);--pdl-comp-textarea-height:var(--pdl-sizing-input-height-xx-lg);--pdl-comp-textarea-font:var(--pdl-font-families-body-text-base-normal);--pdl-comp-text-input-state-error-border:var(--pdl-action-error-border);--pdl-comp-text-input-state-disabled-border:var(--pdl-action-disabled-border);--pdl-comp-text-input-state-disabled-fg:var(--pdl-action-disabled-fg);--pdl-comp-text-input-state-disabled-bg:var(--pdl-action-disabled-bg);--pdl-comp-text-input-state-hover-border:var(--pdl-action-hover-border-accent);--pdl-comp-text-input-state-default-fg-placeholder:var(--pdl-action-default-fg-placeholder);--pdl-comp-text-input-state-default-border:var(--pdl-action-default-border);--pdl-comp-text-input-state-default-fg:var(--pdl-action-default-fg);--pdl-comp-text-input-state-default-bg:var(--pdl-action-default-bg);--pdl-comp-text-input-border-radius:var(--pdl-sizing-radius-md);--pdl-comp-text-input-padding-x:var(--pdl-spacing-sm);--pdl-comp-text-input-height:var(--pdl-sizing-input-height-x-lg);--pdl-comp-text-input-font:var(--pdl-font-families-body-text-base-normal);--pdl-comp-tags-gap:var(--pdl-spacing-x-sm);--pdl-comp-tag-padding-y:var(--pdl-spacing-x-sm);--pdl-comp-tag-padding-x:var(--pdl-spacing-xxx-sm);--pdl-comp-tag-border-radius:var(--pdl-sizing-radius-sm);--pdl-comp-tag-fg:var(--pdl-fg-base);--pdl-comp-tag-bg:var(--neutral-a3);--pdl-comp-tag-font:var(--pdl-font-families-body-text-xx-sm-semibold);--pdl-comp-tab-state-active-border-color-bottom:var(--pdl-accent-emphasis);--pdl-comp-tab-state-hover-bg:var(--pdl-bg-faint);--pdl-comp-tab-state-default-border-color-bottom:var(--pdl-border-emphasis);--pdl-comp-tab-state-default-fg:var(--pdl-fg-base);--pdl-comp-tab-gap:var(--pdl-spacing-xx-sm);--pdl-comp-tab-height:var(--pdl-sizing-input-height-x-lg);--pdl-comp-tab-font:var(--pdl-font-families-body-text-base-semibold);--pdl-comp-switch-outer-state-checked-disabled-bg:var(--pdl-action-checked-disabled-bg);--pdl-comp-switch-outer-state-disabled-bg:var(--pdl-bg-muted);--pdl-comp-switch-outer-state-default-bg:var(--pdl-bg-emphasis);--pdl-comp-switch-outer-height:var(--pdl-sizing-input-height-md);--pdl-comp-switch-inner-state-checked-disabled-bg:var(--pdl-action-checked-disabled-fg);--pdl-comp-switch-inner-state-checked-bg:var(--pdl-accent-on-accent);--pdl-comp-switch-inner-state-disabled-bg:var(--pdl-bg-faint);--pdl-comp-switch-inner-state-default-bg:var(--pdl-accent-on-accent);--pdl-comp-switch-inner-position:var(--pdl-spacing-xx-sm);--pdl-comp-rate-notification-padding-y:var(--pdl-spacing-xxx-sm);--pdl-comp-rate-notification-padding-x:var(--pdl-spacing-x-sm);--pdl-comp-rate-notification-fg:var(--pdl-warning-on-warning);--pdl-comp-rate-notification-bg:var(--pdl-warning-base);--pdl-comp-rate-notification-font:var(--pdl-font-families-body-text-xx-sm-semibold);--pdl-comp-radio-state-checked-disabled-border:var(--pdl-action-checked-disabled-border);--pdl-comp-radio-state-checked-disabled-fg:var(--pdl-action-checked-disabled-fg);--pdl-comp-radio-state-checked-disabled-bg:var(--pdl-action-disabled-bg);--pdl-comp-radio-state-checked-bg:var(--pdl-action-default-bg);--pdl-comp-radio-state-disabled-border:var(--pdl-action-disabled-border);--pdl-comp-radio-state-disabled-bg:var(--pdl-action-disabled-bg);--pdl-comp-radio-state-default-border:var(--pdl-action-default-border);--pdl-comp-radio-state-default-bg:var(--pdl-action-default-bg);--pdl-comp-radio-text-fg:var(--pdl-action-default-fg);--pdl-comp-radio-gap:var(--pdl-spacing-x-sm);--pdl-comp-radio-dimension:var(--pdl-sizing-input-height-sm);--pdl-comp-radio-font:var(--pdl-font-families-body-text-base-normal);--pdl-comp-overlay-border-radius:var(--pdl-sizing-radius-lg);--pdl-comp-overlay-border:var(--pdl-border-base);--pdl-comp-modal-border:1px solid var(--pdl-border-base);--pdl-comp-modal-divider-bg:var(--pdl-border-emphasis);--pdl-comp-modal-background-bg:var(--pdl-bg-reverse);--pdl-comp-modal-motion-translate-y:var(--pdl-spacing-sm);--pdl-comp-modal-footer-padding:var(--pdl-spacing-md);--pdl-comp-modal-footer-buttons-gap:var(--pdl-spacing-x-sm);--pdl-comp-modal-body-padding:var(--pdl-spacing-xx-sm)var(--pdl-spacing-md);--pdl-comp-modal-body-gap:var(--pdl-spacing-x-sm);--pdl-comp-modal-subtitle-fg:var(--pdl-fg-muted);--pdl-comp-modal-header-padding:var(--pdl-spacing-md)var(--pdl-spacing-md)var(--pdl-spacing-x-sm)var(--pdl-spacing-md);--pdl-comp-modal-header-gap:var(--pdl-spacing-x-sm);--pdl-comp-modal-desktop-border-radius:var(--pdl-sizing-radius-lg);--pdl-comp-modal-mobile-border-radius:var(--pdl-sizing-radius-lg)var(--pdl-sizing-radius-lg)0 0;--pdl-comp-modal-padding-top:var(--pdl-spacing-xx-lg);--pdl-comp-modal-close-btn-right:var(--pdl-spacing-sm);--pdl-comp-modal-close-btn-top:var(--pdl-spacing-sm);--pdl-comp-modal-bg:var(--pdl-bg-base);--pdl-comp-meta-text-fg:var(--pdl-fg-subtle);--pdl-comp-meta-text-font:var(--pdl-font-families-meta-text);--pdl-comp-message-note-theme-error-fg:var(--pdl-error-base);--pdl-comp-message-note-theme-neutral-fg:var(--pdl-fg-muted);--pdl-comp-message-note-font:var(--pdl-font-families-body-text-x-sm-normal);--pdl-comp-message-bubble-theme-response-fg:var(--pdl-fg-base);--pdl-comp-message-bubble-theme-response-bg:var(--pdl-bg-faint);--pdl-comp-message-bubble-theme-prompt-fg:var(--pdl-accent-on-accent);--pdl-comp-message-bubble-theme-prompt-bg:var(--pdl-accent-base);--pdl-comp-message-bubble-gap:var(--pdl-spacing-x-sm);--pdl-comp-message-bubble-padding:var(--pdl-spacing-x-sm)var(--pdl-spacing-md);--pdl-comp-message-bubble-border-radius:var(--pdl-sizing-radius-lg);--pdl-comp-message-bubble-font:var(--pdl-font-families-body-text-base-normal);--pdl-comp-message-gap:var(--pdl-spacing-x-sm);--pdl-comp-loading-spinner-theme-secondary-fg:var(--pdl-fg-base);--pdl-comp-loading-spinner-theme-primary-fg:var(--pdl-accent-base);--pdl-comp-loading-spinner-size-lg:var(--pdl-sizing-icon-lg);--pdl-comp-loading-spinner-size-md:var(--pdl-sizing-icon-md);--pdl-comp-label-state-error-fg:var(--pdl-error-base);--pdl-comp-label-state-disabled-fg:var(--pdl-action-disabled-fg);--pdl-comp-label-state-default-fg:var(--pdl-action-default-fg);--pdl-comp-label-optional-padding-left:var(--pdl-spacing-xx-sm);--pdl-comp-label-optional-color:var(--pdl-fg-subtle);--pdl-comp-label-optional-font:var(--pdl-font-families-body-text-sm-normal);--pdl-comp-label-required-padding-left:var(--pdl-spacing-xxx-sm);--pdl-comp-label-required-color:var(--pdl-error-base);--pdl-comp-label-description-fg:var(--pdl-fg-subtle);--pdl-comp-label-font:var(--pdl-font-families-body-text-base-semibold);--pdl-comp-inline-notification-theme-warning-bg:var(--pdl-warning-subtle);--pdl-comp-inline-notification-theme-warning-fg:var(--pdl-fg-base);--pdl-comp-inline-notification-theme-info-bg:var(--pdl-bg-muted);--pdl-comp-inline-notification-theme-info-fg:var(--pdl-fg-base);--pdl-comp-inline-notification-content-gap:var(--pdl-spacing-x-sm);--pdl-comp-inline-notification-gap:var(--pdl-spacing-md);--pdl-comp-inline-notification-padding:var(--pdl-spacing-md);--pdl-comp-inline-notification-border-radius:var(--pdl-sizing-radius-md);--pdl-comp-inline-notification-font:var(--pdl-font-families-body-text-x-sm-normal);--pdl-comp-heading-size-md:var(--pdl-font-families-heading-md-bold);--pdl-comp-heading-size-base:var(--pdl-font-families-heading-base-bold);--pdl-comp-heading-theme-base:var(--pdl-fg-base);--pdl-comp-form-note-state-error-fg:var(--pdl-error-base);--pdl-comp-form-note-state-default-fg:var(--pdl-fg-subtle);--pdl-comp-form-note-font:var(--pdl-font-families-body-text-sm-normal);--pdl-comp-dropdown-state-error-border:var(--pdl-action-error-border);--pdl-comp-dropdown-state-disabled-border:var(--pdl-action-disabled-border);--pdl-comp-dropdown-state-disabled-fg:var(--pdl-action-disabled-fg);--pdl-comp-dropdown-state-disabled-bg:var(--pdl-action-disabled-bg);--pdl-comp-dropdown-state-hover-border:var(--pdl-action-hover-border);--pdl-comp-dropdown-state-default-fg-placeholder:var(--pdl-action-default-fg-placeholder);--pdl-comp-dropdown-state-default-border:var(--pdl-action-default-border);--pdl-comp-dropdown-state-default-fg:var(--pdl-action-default-fg);--pdl-comp-dropdown-state-default-bg:var(--pdl-action-default-bg);--pdl-comp-dropdown-border-radius:var(--pdl-sizing-radius-md);--pdl-comp-dropdown-padding-x:var(--pdl-spacing-sm);--pdl-comp-dropdown-height:var(--pdl-sizing-input-height-x-lg);--pdl-comp-dropdown-font:var(--pdl-font-families-body-text-base-normal);--pdl-comp-divider-theme-emphasis:var(--pdl-border-emphasis);--pdl-comp-divider-theme-base:var(--pdl-border-base);--pdl-comp-code-block-header-padding-y:var(--pdl-spacing-x-sm);--pdl-comp-code-block-header-padding-x:var(--pdl-spacing-md);--pdl-comp-code-block-header-border-radius:var(--pdl-sizing-radius-lg)var(--pdl-sizing-radius-lg)0 0;--pdl-comp-code-block-header-fg:var(--pdl-fg-base);--pdl-comp-code-block-header-bg:var(--pdl-bg-muted);--pdl-comp-chip-state-active-bg:var(--pdl-bg-subtle);--pdl-comp-chip-state-hover-border:var(--pdl-action-hover-border);--pdl-comp-chip-state-hover-bg:var(--pdl-bg-faint);--pdl-comp-chip-state-default-border:var(--pdl-action-default-border);--pdl-comp-chip-state-default-fg:var(--pdl-fg-base);--pdl-comp-chip-state-default-bg:var(--pdl-bg-base);--pdl-comp-chip-border-radius:var(--pdl-sizing-radius-md);--pdl-comp-chip-height:var(--pdl-sizing-input-height-lg);--pdl-comp-chip-gap:var(--pdl-spacing-xx-sm);--pdl-comp-chip-padding-x:var(--pdl-spacing-x-sm);--pdl-comp-chip-font:var(--pdl-font-families-body-text-sm-semibold);--pdl-comp-checkbox-state-checked-disabled-border:var(--pdl-action-checked-disabled-border);--pdl-comp-checkbox-state-checked-disabled-fg:var(--pdl-action-checked-disabled-fg);--pdl-comp-checkbox-state-checked-disabled-bg:var(--pdl-action-checked-disabled-bg);--pdl-comp-checkbox-state-checked-fg:var(--pdl-action-checked-fg);--pdl-comp-checkbox-state-disabled-border:var(--pdl-action-disabled-border);--pdl-comp-checkbox-state-disabled-bg:var(--pdl-action-disabled-bg);--pdl-comp-checkbox-state-default-border:var(--pdl-action-default-border);--pdl-comp-checkbox-state-default-bg:var(--pdl-action-default-bg);--pdl-comp-checkbox-text-fg:var(--pdl-action-default-fg);--pdl-comp-checkbox-border-radius:var(--pdl-sizing-radius-sm);--pdl-comp-checkbox-gap:var(--pdl-spacing-x-sm);--pdl-comp-checkbox-dimension:var(--pdl-sizing-input-height-sm);--pdl-comp-checkbox-font:var(--pdl-font-families-body-text-base-normal);--pdl-comp-card-padding:var(--pdl-spacing-md);--pdl-comp-card-bg:var(--pdl-bg-faint);--pdl-comp-card-border-radius:var(--pdl-sizing-radius-lg);--pdl-comp-button-theme-danger-disabled-fg:var(--pdl-error-subtle);--pdl-comp-button-theme-danger-hover-bg:var(--pdl-bg-subtle);--pdl-comp-button-theme-danger-fg:var(--pdl-error-base);--pdl-comp-button-theme-ghost-disabled-fg:var(--pdl-action-disabled-fg);--pdl-comp-button-theme-ghost-hover-bg:var(--neutral-a3);--pdl-comp-button-theme-ghost-fg:var(--pdl-fg-base);--pdl-comp-button-theme-outline-disabled-border:var(--pdl-action-disabled-border);--pdl-comp-button-theme-outline-disabled-fg:var(--pdl-action-disabled-fg);--pdl-comp-button-theme-outline-disabled-bg:var(--pdl-bg-base);--pdl-comp-button-theme-outline-hover-bg:var(--pdl-bg-muted);--pdl-comp-button-theme-outline-border:var(--pdl-action-default-border);--pdl-comp-button-theme-outline-fg:var(--pdl-fg-base);--pdl-comp-button-theme-secondary-disabled-fg:var(--pdl-action-disabled-fg);--pdl-comp-button-theme-secondary-disabled-bg:var(--pdl-action-disabled-bg);--pdl-comp-button-theme-secondary-hover-bg:var(--pdl-bg-subtle);--pdl-comp-button-theme-secondary-fg:var(--pdl-fg-base);--pdl-comp-button-theme-secondary-bg:var(--pdl-bg-muted);--pdl-comp-button-theme-primary-disabled-bg:var(--pdl-accent-subtle);--pdl-comp-button-theme-primary-hover-bg:var(--pdl-accent-emphasis);--pdl-comp-button-theme-primary-fg:var(--pdl-accent-on-accent);--pdl-comp-button-theme-primary-bg:var(--pdl-accent-base);--pdl-comp-button-x-sm-gap:var(--pdl-spacing-xx-sm);--pdl-comp-button-x-sm-padding-x:var(--pdl-spacing-x-sm);--pdl-comp-button-x-sm-height:var(--pdl-sizing-input-height-md);--pdl-comp-button-x-sm-font:var(--pdl-font-families-body-text-x-sm-semibold);--pdl-comp-button-sm-gap:var(--pdl-spacing-xx-sm);--pdl-comp-button-sm-padding-x:var(--pdl-spacing-md);--pdl-comp-button-sm-height:var(--pdl-sizing-input-height-lg);--pdl-comp-button-sm-font:var(--pdl-font-families-body-text-sm-semibold);--pdl-comp-button-md-gap:var(--pdl-spacing-x-sm);--pdl-comp-button-md-padding-x:var(--pdl-spacing-md);--pdl-comp-button-md-height:var(--pdl-sizing-input-height-x-lg);--pdl-comp-button-md-font:var(--pdl-font-families-body-text-base-semibold);--pdl-comp-button-round-theme-ghost-disabled-fg:var(--pdl-action-disabled-fg);--pdl-comp-button-round-theme-ghost-hover-bg:var(--pdl-bg-subtle);--pdl-comp-button-round-theme-ghost-fg:var(--pdl-fg-base);--pdl-comp-button-round-theme-secondary-disabled-fg:var(--pdl-action-disabled-fg);--pdl-comp-button-round-theme-secondary-disabled-bg:var(--pdl-action-disabled-bg);--pdl-comp-button-round-theme-secondary-hover-bg:var(--pdl-bg-subtle);--pdl-comp-button-round-theme-secondary-fg:var(--pdl-fg-base);--pdl-comp-button-round-theme-secondary-bg:var(--pdl-bg-muted);--pdl-comp-button-round-theme-primary-disabled-fg:var(--pdl-action-disabled-fg);--pdl-comp-button-round-theme-primary-disabled-bg:var(--pdl-action-disabled-bg);--pdl-comp-button-round-theme-primary-hover-bg:var(--pdl-accent-emphasis);--pdl-comp-button-round-theme-primary-fg:var(--pdl-accent-on-accent);--pdl-comp-button-round-theme-primary-bg:var(--pdl-accent-base);--pdl-comp-button-round-sm-dimension:var(--pdl-sizing-input-height-lg);--pdl-comp-button-round-md-dimension:var(--pdl-sizing-input-height-x-lg);--pdl-comp-button-round-dimension:var(--pdl-sizing-input-height-x-lg);--pdl-comp-body-text-size-x-sm-bold:var(--pdl-font-families-body-text-x-sm-bold);--pdl-comp-body-text-size-x-sm-semibold:var(--pdl-font-families-body-text-x-sm-semibold);--pdl-comp-body-text-size-x-sm-normal:var(--pdl-font-families-body-text-x-sm-normal);--pdl-comp-body-text-size-sm-bold:var(--pdl-font-families-body-text-sm-bold);--pdl-comp-body-text-size-sm-semibold:var(--pdl-font-families-body-text-sm-semibold);--pdl-comp-body-text-size-sm-normal:var(--pdl-font-families-body-text-sm-normal);--pdl-comp-body-text-size-base-bold:var(--pdl-font-families-body-text-base-bold);--pdl-comp-body-text-size-base-semibold:var(--pdl-font-families-body-text-base-semibold);--pdl-comp-body-text-size-base-normal:var(--pdl-font-families-body-text-base-normal);--pdl-comp-body-text-theme-muted:var(--pdl-fg-muted);--pdl-comp-body-text-theme-base:var(--pdl-fg-base);--pdl-comp-banner-theme-error-fg:var(--pdl-error-on-error);--pdl-comp-banner-theme-error-bg:var(--pdl-error-base);--pdl-comp-banner-theme-warning-fg:var(--pdl-warning-on-warning);--pdl-comp-banner-theme-warning-bg:var(--pdl-warning-base);--pdl-comp-banner-theme-success-fg:var(--pdl-success-on-success);--pdl-comp-banner-theme-success-bg:var(--pdl-success-base);--pdl-comp-banner-theme-info-fg:var(--pdl-fg-reverse);--pdl-comp-banner-theme-info-bg:var(--pdl-bg-reverse);--pdl-comp-banner-spacing-gap:var(--pdl-spacing-x-sm);--pdl-comp-banner-spacing-padding-y:var(--pdl-spacing-x-sm);--pdl-comp-banner-spacing-padding-x:var(--pdl-spacing-xxx-lg);--pdl-comp-banner-font:var(--pdl-font-families-body-text-sm-normal);--pdl-comp-avatar-size-x-lg:var(--pdl-sizing-image-x-lg);--pdl-comp-avatar-size-lg:var(--pdl-sizing-image-lg);--pdl-comp-avatar-size-md:var(--pdl-sizing-image-md);--pdl-comp-avatar-size-sm:var(--pdl-sizing-image-sm);--pdl-comp-avatar-size-x-sm:var(--pdl-sizing-image-x-sm);--pdl-comp-avatar-size-xx-sm:var(--pdl-sizing-image-xx-sm);--pdl-comp-attachment-file-data-fg:var(--pdl-fg-subtle);--pdl-comp-attachment-file-content-gap:var(--pdl-spacing-xx-sm);--pdl-comp-attachment-file-border-color:var(--pdl-border-base);--pdl-comp-attachment-file-padding-right:var(--pdl-spacing-md);--pdl-comp-attachment-file-padding-left:var(--pdl-spacing-x-sm);--pdl-comp-attachment-file-border-radius:var(--pdl-sizing-radius-lg);--pdl-comp-attachment-file-bg:var(--pdl-bg-faint);--pdl-comp-attachment-file-fg:var(--pdl-fg-base);--pdl-comp-attachment-image-border-radius:var(--pdl-sizing-radius-lg);--pdl-comp-attachment-image-border-color:var(--pdl-border-base);--pdl-comp-attachment-close-button-border-color:var(--pdl-border-base);--pdl-comp-attachment-close-button-dimension:var(--pdl-sizing-input-height-lg);--pdl-comp-attachment-close-button-bg:var(--pdl-bg-base);--pdl-comp-attachment-close-button-fg:var(--pdl-fg-base);--pdl-comp-anchor-gap:var(--pdl-spacing-xx-sm);--pdl-comp-tab-state-active-fg:var(--pdl-link-theme-primary-default-fg);--pdl-comp-switch-outer-state-checked-bg:var(--pdl-action-checked-bg);--pdl-comp-radio-state-checked-border:var(--pdl-action-checked-border);--pdl-comp-radio-state-checked-fg:var(--pdl-action-checked-bg);--pdl-comp-checkbox-state-checked-bg:var(--pdl-action-checked-bg);--pdl-comp-anchor-disabled-fg:var(--pdl-link-disabled-fg);--pdl-comp-anchor-theme-danger-default-fg:var(--pdl-link-theme-danger-default-fg);--pdl-comp-anchor-theme-primary-default-fg:var(--pdl-link-theme-primary-default-fg)}*{box-sizing:border-box}body{background-color:#fff;background-color:var(--pdl-bg-base);color:#0d0d0d;font-family:var(--pdl-font-family-web);margin:0;padding:0}@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:after,:before{--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-font-weight:initial;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial}}}@layer theme{:root{--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--spacing-4:.25rem;--spacing-12:.75rem;--spacing-16:1rem;--spacing-24:1.5rem;--spacing-48:3rem;--spacing-320:20rem;--spacing-512:32rem;--radius-12:var(--pdl-sizing-radius-12);--color-neutral-1:var(--neutral-1);--color-neutral-2:var(--neutral-2);--color-neutral-6:var(--neutral-6);--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--font-weight-black:800;--text-body-xx-sm:var(--pdl-text-body-xx-sm-font-size);--text-body-xx-sm--line-height:var(--pdl-text-body-xx-sm-line-height);--text-body-xx-sm--letter-spacing:var(--pdl-text-body-xx-sm-letter-spacing);--text-body-xx-sm--font-weight:var(--font-weight-normal);--text-body-x-sm:var(--pdl-text-body-x-sm-font-size);--text-body-x-sm--line-height:var(--pdl-text-body-x-sm-line-height);--text-body-x-sm--letter-spacing:var(--pdl-text-body-x-sm-letter-spacing);--text-body-x-sm--font-weight:var(--font-weight-normal);--text-body-sm:var(--pdl-text-body-sm-font-size);--text-body-sm--line-height:var(--pdl-text-body-sm-line-height);--text-body-sm--letter-spacing:var(--pdl-text-body-sm-letter-spacing);--text-body-sm--font-weight:var(--font-weight-normal);--text-body-base:var(--pdl-text-body-base-font-size);--text-body-base--line-height:var(--pdl-text-body-base-line-height);--text-body-base--letter-spacing:var(--pdl-text-body-base-letter-spacing);--text-body-base--font-weight:var(--font-weight-normal);--text-body-lg:var(--pdl-text-body-lg-font-size);--text-body-lg--line-height:var(--pdl-text-body-lg-line-height);--text-body-lg--letter-spacing:var(--pdl-text-body-lg-letter-spacing);--text-body-lg--font-weight:var(--font-weight-normal);--text-heading-xx-sm:var(--pdl-text-heading-xx-sm-font-size);--text-heading-xx-sm--line-height:var(--pdl-text-heading-xx-sm-line-height);--text-heading-xx-sm--letter-spacing:var(--pdl-text-heading-xx-sm-letter-spacing);--text-heading-xx-sm--font-weight:var(--font-weight-bold);--text-heading-x-sm:var(--pdl-text-heading-x-sm-font-size);--text-heading-x-sm--line-height:var(--pdl-text-heading-x-sm-line-height);--text-heading-x-sm--letter-spacing:var(--pdl-text-heading-x-sm-letter-spacing);--text-heading-x-sm--font-weight:var(--font-weight-bold);--text-heading-sm:var(--pdl-text-heading-sm-font-size);--text-heading-sm--line-height:var(--pdl-text-heading-sm-line-height);--text-heading-sm--letter-spacing:var(--pdl-text-heading-sm-letter-spacing);--text-heading-sm--font-weight:var(--font-weight-bold);--text-heading-base:var(--pdl-text-heading-base-font-size);--text-heading-base--line-height:var(--pdl-text-heading-base-line-height);--text-heading-base--letter-spacing:var(--pdl-text-heading-base-letter-spacing);--text-heading-base--font-weight:var(--font-weight-bold);--text-heading-md:var(--pdl-text-heading-md-font-size);--text-heading-md--line-height:var(--pdl-text-heading-md-line-height);--text-heading-md--letter-spacing:var(--pdl-text-heading-md-letter-spacing);--text-heading-md--font-weight:var(--font-weight-bold);--text-heading-lg:var(--pdl-text-heading-lg-font-size);--text-heading-lg--line-height:var(--pdl-text-heading-lg-line-height);--text-heading-lg--letter-spacing:var(--pdl-text-heading-lg-letter-spacing);--text-heading-lg--font-weight:var(--font-weight-bold);--text-heading-x-lg:var(--pdl-text-heading-x-lg-font-size);--text-heading-x-lg--line-height:var(--pdl-text-heading-x-lg-line-height);--text-heading-x-lg--letter-spacing:var(--pdl-text-heading-x-lg-letter-spacing);--text-heading-x-lg--font-weight:var(--font-weight-bold);--text-display-base:var(--pdl-text-display-base-font-size);--text-display-base--line-height:var(--pdl-text-display-base-line-height);--text-display-base--letter-spacing:var(--pdl-text-display-base-letter-spacing);--text-display-base--font-weight:var(--font-weight-bold)}}:root{--shadow-black:#0000001a;--shadow-black-dark:#00000080;--shadow-gray-bubble:#f1f2f2d9;--button-hover:linear-gradient(#0b0b360d 0 0);--fade-left:linear-gradient(to left,transparent 0%,#ffffff80 40%,var(--pdl-bg-base)80%,var(--pdl-bg-base)100%);--fade-right:linear-gradient(to right,transparent 0%,#ffffff80 40%,var(--pdl-bg-base)80%,var(--pdl-bg-base)100%);--fade-right-gradual:linear-gradient(to right,transparent 0%,#ffffff80 60%,var(--pdl-bg-base)90%,var(--pdl-bg-base)100%);--fade-bottom-gradual:linear-gradient(to bottom,transparent 0%,#ffffff80 60%,var(--pdl-bg-base)90%,var(--pdl-bg-base)100%);--code-block-bg:#101010;--fg-base--ignore-light-mode:#000;--scrollbar-thumb:#0000001a;--scrollbar-thumb--ignore-light-mode:#ffffff1a;--full-height-without-keyboard:100vh;--full-height:calc(var(--full-height-without-keyboard) - env(keyboard-inset-height,0px));--header-height:3.125rem;--desktop-static-page-max-width:62.5rem;--desktop-page-wrapper-max-width:100rem;--desktop-reading-column-max-width:48rem;--regular-button-height:32px;--large-button-height:46px;--display-dark-only:none;--display-light-only: ;--z-index-base:0;--z-index-elevated:1;--z-index-floating:2;--z-index-overlay:3;--z-index-sidebar:4;--z-index-modal:5;--z-index-image-viewer:6;--z-index-floating-on-modal:7;--z-index-toast:51;--chat-bubble-font-families-text-base-normal:400 1.0625rem/1.625rem var(--pdl-font-family-web);color-scheme:light}@supports (height:100dvh){:root{--full-height-without-keyboard:100dvh}}@media (prefers-color-scheme:dark){:root:not(.light):not(.dark){--shadow-black:#ffffff08;--shadow-black-dark:#ffffff80;--shadow-gray-bubble:#262626d9;--button-hover:linear-gradient(#e1e1fa21 0 0);--fade-left:linear-gradient(to left,transparent 0%,#18181880 40%,var(--pdl-bg-base)80%,var(--pdl-bg-base)100%);--fade-right:linear-gradient(to right,transparent 0%,#18181880 40%,var(--pdl-bg-base)80%,var(--pdl-bg-base)100%);--fade-right-gradual:linear-gradient(to right,transparent 0%,#18181880 60%,var(--pdl-bg-base)90%,var(--pdl-bg-base)100%);--fade-bottom-gradual:linear-gradient(to bottom,transparent 0%,#18181880 60%,var(--pdl-bg-base)90%,var(--pdl-bg-base)100%);--code-block-bg:#101010;--fg-base--ignore-light-mode:#000;--scrollbar-thumb:#ffffff1a;--display-light-only:none;--display-dark-only: ;color-scheme:dark}}@media only screen and not (any-pointer:fine){html{-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none}}@media screen and (min-width:685px){*{scrollbar-width:thin;scrollbar-color:var(--pdl-bg-muted)var(--pdl-bg-base)}}body{background:var(--pdl-bg-base);color:var(--pdl-fg-base);font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.4375;overflow-x:hidden}html{font-size:100%;overflow:hidden}#__next,body,html{height:calc(100vh - env(keyboard-inset-height,0px));height:var(--full-height);margin:0;padding:0}button,input,textarea{font-family:inherit}h1,li,p{margin:0;padding:0}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}button{cursor:pointer}svg{height:var(--pdl-sizing-icon-lg)}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}.LoadingDots_wrapper__lgbbJ{display:flex;flex-direction:column;align-items:center;gap:var(--pdl-spacing-x-sm)}.LoadingDots_loaderCenteredWrapper___XFdp{justify-content:center;height:100%;width:100%}.LoadingDots_loader__ZPZ3v{width:8px;height:8px;border-radius:50%;background-color:var(--pdl-accent-on-accent);box-shadow:16px 0 var(--pdl-accent-on-accent),-16px 0 var(--pdl-accent-on-accent);position:relative;animation:LoadingDots_flash__eGpGh .5s ease-out infinite alternate}@keyframes LoadingDots_flash__eGpGh{0%{background-color:var(--pdl-fg-subtle);box-shadow:16px 0 var(--pdl-fg-subtle),-16px 0 var(--pdl-accent-on-accent)}50%{background-color:var(--pdl-accent-on-accent);box-shadow:16px 0 var(--pdl-fg-subtle),-16px 0 var(--pdl-fg-subtle)}to{background-color:var(--pdl-fg-subtle);box-shadow:16px 0 var(--pdl-accent-on-accent),-16px 0 var(--pdl-fg-subtle)}}.DesktopAppNavbarWrapper_container__p2jdD{height:var(--full-height);--desktop-header-height:0px;--margin-from-left:4.275rem}.Toast_toastOverlay__RCgER{position:fixed;top:20px;display:flex;flex-direction:column;gap:var(--pdl-spacing-x-sm);width:100%;align-items:center;z-index:var(--z-index-toast);pointer-events:none}@media only screen and (max-width:684px){.Toast_toastOverlay__RCgER{width:-moz-available;width:-webkit-fill-available;width:stretch;margin-left:var(--pdl-spacing-md);margin-right:var(--pdl-spacing-md)}}.Button_buttonBase__Bv9Vx{display:flex;flex-direction:row;border:none;gap:6px;align-items:center;justify-content:center;cursor:pointer;font-weight:450;font-size:inherit;text-align:center;padding:.6em var(--pdl-spacing-md);margin:0;border-radius:1.5em}.Button_iconOnly__poDNY{padding:.6em}.Button_flat__dcKQ1{background:transparent;color:var(--pdl-fg-base);fill:var(--pdl-fg-base)}.Button_buttonBase__Bv9Vx svg{width:1.5em;height:1.5em;fill:currentColor}.Button_buttonBase__Bv9Vx:disabled{opacity:.5;cursor:default}.Button_buttonBase__Bv9Vx:hover{background-image:var(--button-hover)}.ToggleSidebarButton_button__2yFLU{font-size:1rem;height:2.5em;width:2.5em;padding:0!important}.ToggleSidebarButton_iconContainer__3fv_h{position:relative}.ToggleSidebarButton_hamburgerIcon__ldis6{fill:var(--pdl-fg-base)!important}.ToggleSidebarButton_button__2yFLU{display:none}@media only screen and (max-width:999px){.ToggleSidebarButton_button__2yFLU{display:inline-block}}.ToggleSidebarCollapseButton_button__LKLlm.ToggleSidebarCollapseButton_button__LKLlm{font-size:1rem;height:2.5em;width:2.5em;padding:0}.ToggleSidebarCollapseButton_hamburgerIcon__VuiyV{fill:var(--pdl-fg-base)!important}@media only screen and (max-width:999px){.ToggleSidebarCollapseButton_button__LKLlm.ToggleSidebarCollapseButton_button__LKLlm{display:none}}.MainNavbarLeftItem_sidebarButton__qgJEa.MainNavbarLeftItem_sidebarButton__qgJEa{display:none;pointer-events:none;margin-left:-4.5rem}.MainNavbarLeftItem_collapseButton__8_iCL.MainNavbarLeftItem_collapseButton__8_iCL{display:flex;display:var(--display-collapsed,flex)}@media only screen and (max-width:999px){.MainNavbarLeftItem_sidebarButton__qgJEa.MainNavbarLeftItem_sidebarButton__qgJEa{display:block;margin-left:0;pointer-events:auto}.MainNavbarLeftItem_collapseButton__8_iCL.MainNavbarLeftItem_collapseButton__8_iCL{display:none}}.SidebarItem_item__24u_X{font:var(--pdl-font-families-body-text-base-semibold);color:var(--pdl-fg-base)}.SidebarItem_item__24u_X:hover{background-image:var(--button-hover)}.SidebarItem_link__2LgCM{padding:.75rem var(--pdl-spacing-md);display:flex;gap:var(--pdl-spacing-x-sm);align-items:center}.SidebarItem_iconContainer__r24sc{position:relative;flex-shrink:0;display:flex;justify-content:center;align-items:center;width:2.375rem;height:2.375rem}.SidebarItem_iconContainer__r24sc:empty{display:none}.SidebarItem_iconContainer__r24sc svg{width:var(--sidebar-icon-size);height:var(--sidebar-icon-size);fill:var(--pdl-fg-base)}.SidebarItem_label__Ug6_M{display:block;display:var(--display-not-collapsed,block);width:100%}.button_root__TL8nv{border-radius:var(--pdl-comp-button-border-radius);transition:var(--pdl-comp-button-transition);border:1px solid transparent;position:relative;display:inline-flex;justify-content:center;align-items:center;background-color:transparent;flex:none;box-sizing:border-box;height:auto;padding-top:0;padding-bottom:0;text-align:center}@media (prefers-reduced-motion:reduce){.button_root__TL8nv{transition:none}}.button_root__TL8nv:focus-visible{outline:none}.button_center__RsQ_o{justify-content:center}.button_isDisabled__pJu5B{cursor:default;pointer-events:none}.button_md__qAqrS{padding-left:var(--pdl-comp-button-md-padding-x);padding-right:var(--pdl-comp-button-md-padding-x);font:var(--pdl-comp-button-md-font);line-height:1.1;min-height:var(--pdl-comp-button-md-height);gap:var(--pdl-comp-button-md-gap);padding-top:.5rem;padding-bottom:.5rem}.button_sm__hWzjK{padding-left:var(--pdl-comp-button-sm-padding-x);padding-right:var(--pdl-comp-button-sm-padding-x);font:var(--pdl-comp-button-sm-font);line-height:1.1;min-height:var(--pdl-comp-button-sm-height);gap:var(--pdl-comp-button-sm-gap);padding-top:.375rem;padding-bottom:.375rem}.button_sm__hWzjK svg{width:var(--pdl-sizing-icon-sm);height:var(--pdl-sizing-icon-sm)}.button_outline__s90zE{background-color:transparent;color:var(--pdl-comp-button-theme-outline-fg);border-color:var(--pdl-comp-button-theme-outline-border)}.button_outline__s90zE:hover{background-color:var(--pdl-comp-button-theme-outline-hover-bg)}.button_outline__s90zE:focus-visible{outline:none;box-shadow:var(--pdl-action-focus-ring-primary-outer)}.button_ghost__YsMI5{color:var(--pdl-comp-button-theme-ghost-fg)}.button_ghost__YsMI5:hover{background-color:var(--pdl-comp-button-theme-ghost-hover-bg)}.button_ghost__YsMI5.button_isDisabled__pJu5B{background-color:inherit;color:var(--pdl-comp-button-theme-ghost-disabled-fg)}.button_ghost__YsMI5:focus-visible{outline:none;box-shadow:var(--pdl-action-focus-ring-primary-outer)}.button_root__TL8nv svg{fill:currentColor;stroke:none}.button_showIconOnly-always__05Gb5{padding:0}.button_showIconOnly-always__05Gb5.button_sm__hWzjK{width:var(--pdl-comp-button-sm-height);height:var(--pdl-comp-button-sm-height)}.button_showIconOnly-always__05Gb5 .button_label__mCaDf{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.HeaderBar_header__ydlc6{display:grid;background-color:var(--pdl-bg-faint);min-height:var(--header-height);max-height:var(--header-height);border-bottom:1px solid var(--pdl-border-base);align-items:center}.BaseNavbar_navbar__IqOxl{grid-template-columns:1fr 2fr 1fr}.BaseNavbar_leftNavItem__dm85A{justify-self:start}.BaseNavbar_rightNavItem__3DfWJ{justify-self:end}.BaseNavbar_leftNavItem__dm85A,.BaseNavbar_rightNavItem__3DfWJ{padding:0 var(--pdl-spacing-md)}.BaseNavbar_titleItem__IQ3_j{justify-self:center}.BaseNavbar_headerTitle__DF3y3{font:var(--pdl-font-families-heading-base-bold);font-weight:700}.DropdownMenuButton_wrapper__uc04T{position:relative}.SidebarSection_section__uBaAP{display:flex;flex-direction:column;border-bottom:1px solid var(--pdl-border-base);background-color:var(--pdl-bg-base)}.SidebarSection_section__uBaAP li+li,.SidebarSection_section__uBaAP li+section,.SidebarSection_section__uBaAP section+li{border-top:1px solid var(--pdl-border-base)}.ChatHistoryListItem_mainCol__UeBNt.ChatHistoryListItem_mainCol__UeBNt{display:flex;flex-direction:column;min-height:2.5rem}.ChatHistoryListItem_maxFlexGrow__VROr5{flex-grow:1;min-width:0}.ChatHistoryListItem_previewText__onOvU{gap:var(--pdl-spacing-x-sm);flex-grow:1}.ChatHistoryListItem_seenPreviewText__TSd4u{color:var(--pdl-fg-muted);font:var(--pdl-font-families-body-text-sm-normal)}.ChatHistoryListItem_flexWithCenteredItems__Xmy6y{display:flex;align-items:center}.ChatHistoryListItem_contentRow__U2Xfj{display:flex;align-items:center;justify-content:space-between;gap:var(--pdl-spacing-xx-sm)}.ChatHistoryListItem_textOverflow__vMchf{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ChatHistoryListItem_overflowButton___YxUV{color:var(--pdl-fg-muted);font:var(--pdl-font-families-body-text-base-normal)}.ChatHistoryListItem_overflowButton___YxUV>svg{fill:var(--pdl-fg-muted)!important;stroke:none!important}.ChatHistoryListItem_overflowButton___YxUV[aria-expanded=false]{display:none}@media (hover:none){.ChatHistoryListItem_overflowButton___YxUV[aria-expanded=false]{display:flex}}.ChatHistoryListItem_title___QZlH{color:var(--pdl-fg-base);flex-grow:1}.ChatHistoryListItem_seenTitle__yGou5{font:var(--pdl-font-families-body-text-base-normal)}.ChatHistoryListItem_formattedDateTime__Q__S8{font:var(--pdl-font-families-body-text-x-sm-normal);color:var(--pdl-fg-muted);max-width:12ch}.ChatHistoryListItem_wrapper__zuPNb:hover .ChatHistoryListItem_formattedDateTime__Q__S8{display:none}.ChatHistoryListItem_wrapper__zuPNb:hover .ChatHistoryListItem_overflowButton___YxUV{display:flex}.ChatHistoryListItem_rightSection__ohn5u{display:flex;align-items:center}.ChatHistoryListItem_topRow__2InEV{display:flex;align-items:center;justify-content:space-between;gap:var(--pdl-spacing-xx-sm)}.ChatSwitcher_hideCollapsed__6b8nz{display:block;display:var(--display-not-collapsed,block)}.ChatSwitcher_viewAllChatsItem__Lql_M{display:flex;justify-content:center;align-items:center;font:var(--pdl-font-families-body-text-sm-semibold);gap:var(--pdl-spacing-xx-sm)}.SidebarCard_item__Hbnmq{background-color:var(--pdl-bg-faint);border-radius:var(--pdl-sizing-radius-md)}.SidebarCard_link__ot_pN{display:flex;flex-direction:column;align-items:flex-start;padding:var(--pdl-spacing-x-sm);gap:var(--pdl-spacing-xx-sm);font:var(--pdl-font-families-body-text-sm-semibold)}.SidebarCard_iconContainer__6STF1{justify-content:center;align-items:center;display:flex;width:1.75rem;height:1.75rem}.SidebarCard_label__T8cVn{display:flex;align-items:center;align-self:stretch;flex:1 1}.SidebarCard_iconContainer__6STF1>svg{width:var(--sidebar-icon-size);height:var(--sidebar-icon-size)}@media screen and (min-width:999px){.SidebarCard_label__T8cVn{display:flex;display:var(--display-not-collapsed,flex)}.SidebarCard_item__Hbnmq:hover{background-image:var(--button-hover)}}.ManageBotsCardSection_labelIcon__EjW_j{margin-left:auto}.SidebarCardSection_sidebarCardSection__kn_gQ{display:grid;grid-template-columns:1fr 1fr;padding:12px var(--pdl-spacing-md);grid-gap:var(--pdl-spacing-x-sm);gap:var(--pdl-spacing-x-sm);margin:0;background-color:var(--pdl-bg-base)}.SidebarCardSection_sidebarCardSection__kn_gQ>li+li,section.SidebarCardSection_sidebarCardSection__kn_gQ[data-collapsed]{border-top:0}.FollowTwitterLink_followLink__Af7j7{align-items:center;justify-content:center;display:flex;gap:var(--pdl-spacing-x-sm);flex-direction:row;align-self:stretch}.FollowTwitterLink_text__TZe22{font-size:.9375rem;color:var(--pdl-fg-base);font-weight:450}.FollowTwitterLink_twitterIconWhite__27i3t{height:1.125rem;display:block;display:var(--display-dark-only,block)}.FollowTwitterLink_twitterIconBlack__SS_7V{height:1.125rem;display:block;display:var(--display-light-only,block)}.JoinDiscordLink_followLink__S4jP_{align-items:center;justify-content:center;display:flex;gap:var(--pdl-spacing-x-sm);flex-direction:row;align-self:stretch}.JoinDiscordLink_text__UwpyP{font-size:.9375rem;color:var(--pdl-fg-base);font-weight:450}.JoinDiscordLink_discordIcon__Xw13A{stroke-width:0;height:1.125rem}.LinksSection_linksSection__RdqvF{color:var(--pdl-fg-subtle);font:var(--pdl-font-families-body-text-sm-normal)}.LinksSection_link__Z9CvZ:hover{text-decoration:underline}.SidebarFooter_footer__3egHX{display:flex;display:var(--display-not-collapsed,flex);flex-direction:column;gap:var(--pdl-spacing-x-sm);padding:var(--pdl-spacing-md);justify-content:flex-end;background-color:var(--pdl-bg-base)}@media only screen and (max-width:999px){.SidebarFooter_footer__3egHX{display:flex}}.PoeLogo_lightLogo__XWN_1{display:block;display:var(--display-light-only,block)}.PoeLogo_darkLogo__4KLOp{display:block;display:var(--display-dark-only,block)}.PoeLogo_logoWrapper__x7XQY{display:block;position:relative;height:1em;width:3.5481986368062324em}.SidebarHeaderLogo_symbolLogoLink__t2vjv[data-collapsed]{display:none}.SidebarHeader_headerBar__3sK8Z{display:flex;justify-content:space-between;padding:0 var(--pdl-spacing-md);font-size:1.6875rem;gap:var(--pdl-spacing-xxx-sm)}.SidebarHeader_sidebarCollapseButton__Uv2AE{display:flex;display:var(--display-not-collapsed,flex);margin-left:auto}@media only screen and (max-width:999px){.SidebarHeader_sidebarCollapseButton__Uv2AE{display:none}}.MainLeftSidebar_sidebarContainer__yL1iH{height:100%;display:flex;flex-direction:column;position:relative}.MainLeftSidebar_sidebar__C6HpK{display:flex;flex-direction:column;padding:0;margin:0;z-index:var(--z-index-elevated);list-style-type:none;overflow-y:auto;gap:var(--pdl-spacing-xx-sm);background-color:var(--pdl-bg-subtle)}.MainLeftSidebar_sidebarContainer__yL1iH section+section{border-top:1px solid var(--pdl-border-base)}.AnnouncementWrapper_container__Z51yh{height:calc(100% - var(--desktop-header-height));display:flex;flex-direction:column}.SidebarLayout_layoutWrapper__mPYi4{display:flex;width:100vw;--center-column-min-width:min(475px,35vw);--compact-sidebar-width:4.275rem;--default-sidebar-width:min(18.75rem,75vw);--extra-wide-sidebar-width:calc(100vw - var(--center-column-min-width))}.SidebarLayout_layoutWrapperOverflow__0hyZ4{position:relative;overflow:hidden;height:var(--full-height)}.SidebarLayout_layoutWrapper__mPYi4:not([data-collapsed=true]){--display-collapsed:none;--left-menu-sidebar-width:var(--default-sidebar-width)}.SidebarLayout_sidebar__SXeDJ{background-color:var(--pdl-bg-base);width:var(--sidebar-width);height:100%;overflow-y:hidden;display:flex;flex-direction:column}.SidebarLayout_wrapper__LeEqV{height:100%;display:flex;flex-direction:column;align-items:stretch;overflow-x:hidden}:not([data-collapsed=true]) .SidebarLayout_left__k163a{--sidebar-width:var(--default-sidebar-width)}.SidebarLayout_left__k163a{border-right:1px solid var(--pdl-border-base);transition:margin-left .2s ease-in-out;--sidebar-icon-size:1.75rem}.SidebarLayout_main__0ZApe{flex:1;display:flex;flex-direction:column;align-items:stretch;height:100%;overflow-x:hidden}.SidebarLayout_mainOverlay__DNumc{position:fixed;inset:0 0 0 0;inset:var(--desktop-header-height,0) 0 0 0;z-index:var(--z-index-overlay);pointer-events:none;background-color:rgba(0,0,0,.5);opacity:0;transition:opacity .2s ease-in-out}@media only screen and (max-width:999px){.SidebarLayout_left__k163a{position:absolute;left:0;z-index:var(--z-index-sidebar)}.SidebarLayout_left__k163a[data-sidebar-state="0"]{margin-left:calc(-1 * var(--sidebar-width))}}@media (prefers-reduced-motion:reduce){.SidebarLayout_left__k163a,.SidebarLayout_mainOverlay__DNumc{transition:none}}.ToggleGroupBotSelector_toggle_group_bot_selector__t_yr7{border:none;transition:var(--pdl-comp-chip-transition);border-radius:10px;padding:3px 8px 3px 3px;color:var(--pdl-fg-muted);font:var(--pdl-font-families-body-text-sm-normal);font-weight:500;white-space:nowrap;line-height:1;background-color:transparent;display:inline-flex;align-items:center;justify-content:center;gap:6px;order:0;flex-grow:1}.ToggleGroupBotSelector_toggle_group_bot_selector__t_yr7:hover{background-color:var(--pdl-comp-button-theme-secondary-bg);color:var(--pdl-fg-base)}.ToggleGroupBotSelector_toggle_group_bot_selector__t_yr7:focus-visible{outline:none;background-color:var(--pdl-comp-button-theme-secondary-bg);color:var(--pdl-fg-base);box-shadow:var(--pdl-action-focus-ring-primary-outer)}.ToggleGroupBotSelector_toggle_group_bot_selector__t_yr7[data-state=on]{background-color:var(--pdl-comp-button-theme-secondary-hover-bg);color:var(--pdl-fg-base)}.ToggleGroupBotSelector_toggle_group_bot_selector__t_yr7 [data-pdl-avatar]{width:var(--pdl-comp-avatar-size-x-sm);height:var(--pdl-comp-avatar-size-x-sm)}.Avatar_root__rwLF0{overflow:hidden;display:block;flex:none;box-sizing:border-box;border-radius:9999px;border-radius:var(--avatar-radius,9999px);background-color:var(--neutral-3);position:relative}.Avatar_root__rwLF0 img{--avatar-img-inset:var(--avatar-inset,0px);position:absolute;top:0;top:var(--avatar-img-inset);left:0;left:var(--avatar-img-inset);right:0;right:var(--avatar-img-inset);bottom:0;bottom:var(--avatar-img-inset);width:calc(100% - 0px * 2);width:calc(100% - var(--avatar-img-inset) * 2);height:calc(100% - 0px * 2);height:calc(100% - var(--avatar-img-inset) * 2);border-radius:calc(9999px - 0px);border-radius:calc(var(--avatar-radius, 9999px) - var(--avatar-img-inset))}.Avatar_rounded__qlug0{--avatar-radius:var(--pdl-comp-avatar-theme-rounded-border-radius)}.Avatar_hasBorder__BIKm9{position:relative;--avatar-inset:var(--avatar-border-width,1px)}.Avatar_hasBorder__BIKm9:after{content:"";position:absolute;inset:0;border-radius:var(--avatar-radius);box-shadow:inset 0 0 0 1px var(--avatar-border-color,var(--pdl-border-base));box-shadow:inset 0 0 0 var(--avatar-border-width,1px) var(--avatar-border-color,var(--pdl-border-base));pointer-events:none}.Avatar_x-sm__sqGK5{width:var(--pdl-comp-avatar-size-x-sm);height:var(--pdl-comp-avatar-size-x-sm)}.Avatar_sm__gAFzf{width:var(--pdl-comp-avatar-size-sm);height:var(--pdl-comp-avatar-size-sm)}.BotSelectorHomeMain_botPillWrapper___6pXq{position:relative;max-width:100%}.BotSelectorHomeMain_botPillWrapperScroll__9hLfI{display:flex;gap:var(--pdl-spacing-x-sm);font:var(--pdl-font-families-body-text-sm-normal);max-width:100%;overflow-x:auto;align-items:center;padding:var(--pdl-spacing-xx-sm);margin-bottom:-6px}@media screen and (max-width:48rem){.BotSelectorHomeMain_botPillWrapperShadow__6EckD{position:fixed;top:0;right:0;bottom:0;width:8%;background:linear-gradient(to right,#ffffff00,var(--pdl-bg-base))}.BotSelectorHomeMain_botPillWrapperScroll__9hLfI{margin:0 calc(var(--pdl-spacing-md) * -1);padding:0 var(--pdl-spacing-md);scroll-behavior:smooth}.BotSelectorHomeMain_botPillWrapperScroll__9hLfI::-webkit-scrollbar{display:none}}.ChatMessageFileInputButton_input__svNx4{display:none}.GrowingTextArea_growWrap__im5W3{display:grid}.GrowingTextArea_growWrap__im5W3:after{content:attr(data-replicated-value) " ";white-space:pre-wrap;word-break:break-word;visibility:hidden;overflow:hidden}.GrowingTextArea_textArea__ZWQbP{resize:none;overflow-y:auto}.GrowingTextArea_growWrap__im5W3:after,.GrowingTextArea_textArea__ZWQbP{padding:0;grid-area:1/1/2/2}.GrowingTextArea_hidden__xLW0K{position:absolute;white-space:nowrap;visibility:hidden;height:0}.ChatMessageVoiceInputButton_button__NjXno,.ChatMessageVoiceInputButton_container__B5Uev{position:relative}.ChatMessageInputContainer_inputContainer__s2AGa{position:relative;width:auto;padding:var(--pdl-spacing-x-sm);background-color:var(--pdl-bg-faint);display:grid;grid-gap:var(--pdl-spacing-xxx-sm);gap:var(--pdl-spacing-xxx-sm);grid-template-columns:auto 1fr auto;grid-template-rows:1fr;grid-template-areas:"input input input" "left . right";justify-items:stretch;align-items:flex-start;border:1px solid var(--pdl-border-base);border-radius:var(--pdl-sizing-radius-lg);cursor:text;flex:1}.ChatMessageInputContainer_actionContainerBase__8BKrX{display:flex;flex-direction:row;gap:var(--pdl-spacing-x-sm);align-items:center}.ChatMessageInputContainer_actionContainerLeft__dIwkm{grid-area:left}.ChatMessageInputContainer_actionContainerRight__fyfsX{grid-area:right}.ChatMessageInputContainer_inputContainer__s2AGa .ChatMessageInputContainer_textArea__fNi6E{grid-area:input;padding:var(--pdl-spacing-xx-sm) var(--pdl-spacing-md) var(--pdl-spacing-xxx-sm) var(--pdl-spacing-x-sm);box-sizing:border-box}.ChatMessageInputContainer_inputContainer__s2AGa .ChatMessageInputContainer_textArea__fNi6E:after,.ChatMessageInputContainer_inputContainer__s2AGa .ChatMessageInputContainer_textArea__fNi6E>textArea{font:var(--pdl-comp-body-text-size-base-normal)}.ChatMessageInputContainer_inputContainer__s2AGa [data-button-file-input] svg,.ChatMessageInputContainer_inputContainer__s2AGa [data-button-send] svg,.ChatMessageInputContainer_inputContainer__s2AGa [data-button-voice-input] svg{width:var(--pdl-sizing-icon-md)!important;height:var(--pdl-sizing-icon-md)!important}.ChatMessageInputContainer_textArea__fNi6E{flex-grow:1;padding:.625rem 0 .78125rem 1rem}.ChatMessageInputContainer_textArea__fNi6E:after,.ChatMessageInputContainer_textArea__fNi6E>textArea{background-color:transparent;font-size:.9375rem;line-height:1.09375rem;border:none;padding:0;margin:0;max-height:50vh;overflow-x:hidden}.ChatMessageInputContainer_textArea__fNi6E>textArea::-moz-placeholder{color:var(--pdl-fg-subtle);text-overflow:ellipsis;overflow:hidden}.ChatMessageInputContainer_textArea__fNi6E>textArea::placeholder{color:var(--pdl-fg-subtle);text-overflow:ellipsis;overflow:hidden}.ChatMessageInputContainer_textArea__fNi6E>textArea:focus{outline:none}.ChatMessageInputContainer_textArea__fNi6E>textArea:-moz-placeholder{white-space:nowrap;text-overflow:ellipsis}.ChatMessageInputContainer_textArea__fNi6E>textArea:placeholder-shown{white-space:nowrap;text-overflow:ellipsis}.ChatDragDropTarget_dropTarget__1WrAL{display:none}.ChatHomeMain_container__l4uRf{display:flex;flex-direction:column;align-items:center;align-self:center;width:100%;margin-top:calc(20% - var(--header-height));gap:var(--pdl-spacing-md)}.ChatHomeMain_centered__SoOYo{width:min(var(--desktop-reading-column-max-width),100%);align-self:center;display:flex;flex-direction:column;margin-bottom:7.5rem}.ChatHomeMain_centeredWide__Bt1jJ{width:min(var(--desktop-static-page-max-width),100%);align-self:center;display:flex;flex-direction:column}.ChatHomeMain_logo__OZxiw{font-size:3.5rem;margin:36px 0}.ChatHomeMain_inputContainer__9mgRh{width:100%;padding:0 var(--pdl-spacing-x-sm)}.ChatHomeMain_exploreBotsCarousel__wddju{padding-bottom:var(--pdl-spacing-x-lg)}.ChatHomeMain_logoWrapper__3Vhf6{position:relative;width:100%;display:flex;justify-content:center;align-items:center}.BadgeNotification_badge_notification__Uvwm4{--badge-size:24px;--badge-background:var(--pdl-accent-base);--badge-color:var(--pdl-accent-on-accent);--badge-font:var(--pdl-font-families-body-text-sm);--badge-padding:5px;--badge-position-x:calc(var(--badge-transform-x, 0px) + var(--badge-offset-x, 0px));--badge-position-y:calc(var(--badge-transform-y, 0px) + var(--badge-offset-y, 0px));box-sizing:border-box;display:inline-flex;flex:none;align-items:center;justify-content:center;border-radius:999px;min-width:24px;min-width:var(--badge-size);height:24px;height:var(--badge-size);background-color:var(--badge-background);color:var(--badge-color);font:var(--badge-font);line-height:24px;line-height:var(--badge-size);padding:0 5px;padding:0 var(--badge-padding);transform-origin:50% 50%;transform-origin:var(--badge-origin-x,50%) var(--badge-origin-y,50%);transform:translate(calc(0px + 0px),calc(0px + 0px));transform:translate(var(--badge-position-x),var(--badge-position-y))}.BadgeNotification_badge_notification__Uvwm4[aria-hidden=true]{display:none}.BadgeNotification_badge_notification__Uvwm4[data-size=sm]{--badge-size:var(--pdl-sizing-20);--badge-font:var(--pdl-font-families-body-text-xx-sm-normal);--badge-padding:var(--pdl-spacing-xx-sm)}.BadgeNotification_badge_notification__Uvwm4:not([data-position=inline]){position:absolute;top:var(--badge-top);left:var(--badge-left);bottom:var(--badge-bottom);right:var(--badge-right);--badge-origin-x:50%;--badge-origin-y:50%}.BadgeNotification_badge_notification__Uvwm4[data-position=top-right]{--badge-transform-x:50%;--badge-transform-y:-50%;--badge-top:0px;--badge-right:0px;--badge-origin-x:33%;--badge-origin-y:66%}header.HomePageMainNavbar_navbar__VoEbp{background-color:transparent;border:none}.MainColumn_scrollSection__A9NHB{align-self:stretch;display:flex;flex-direction:column;padding:0 var(--pdl-spacing-md)}.MainColumn_scrollSectionOverflow__FbPqw{height:100%;overflow-y:scroll;overflow-x:hidden}.MainColumn_column__UEunw{width:min(var(--desktop-reading-column-max-width),100%);flex:1;align-self:center;display:flex;flex-direction:column}.MainColumn_noMaxWidth__8pWAi{width:100%}</style><link rel="stylesheet" href="./代码解析 - Poe_files/cd6f3030df5b939e.css" data-n-g="" media="all" onload="this.media=&#39;all&#39;"><link rel="stylesheet" href="./代码解析 - Poe_files/d21573b90a9427ee.css" data-n-p="" media="all" onload="this.media=&#39;all&#39;"><link rel="stylesheet" href="./代码解析 - Poe_files/b49e458a2879a4a9.css" data-n-p="" media="all" onload="this.media=&#39;all&#39;"><link rel="stylesheet" href="./代码解析 - Poe_files/7c7b04b8a5df94c3.css" data-n-p="" media="all" onload="this.media=&#39;all&#39;"><link rel="stylesheet" href="./代码解析 - Poe_files/00005aac92340ce1.css" media="all" onload="this.media=&#39;all&#39;"><noscript data-n-css=""></noscript><link rel="stylesheet" type="text/css" href="./代码解析 - Poe_files/cb2b9c7ef8f58a96.css"><link rel="stylesheet" type="text/css" href="./代码解析 - Poe_files/93e693f6fbfefcf4.css"><link rel="stylesheet" type="text/css" href="./代码解析 - Poe_files/ec0fc4ae45a4a098.css"><script src="./代码解析 - Poe_files/otBannerSdk.js" async="" type="text/javascript"></script><style id="onetrust-style">#onetrust-banner-sdk{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}#onetrust-banner-sdk .onetrust-vendors-list-handler{cursor:pointer;color:#1f96db;font-size:inherit;font-weight:bold;text-decoration:none;margin-left:5px}#onetrust-banner-sdk .onetrust-vendors-list-handler:hover{color:#1f96db}#onetrust-banner-sdk:focus{outline:2px solid #000;outline-offset:-2px}#onetrust-banner-sdk a:focus{outline:2px solid #000}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{outline-offset:1px}#onetrust-banner-sdk.ot-bnr-w-logo .ot-bnr-logo{height:64px;width:64px}#onetrust-banner-sdk .ot-tcf2-vendor-count.ot-text-bold{font-weight:bold}#onetrust-banner-sdk .ot-close-icon,#onetrust-pc-sdk .ot-close-icon,#ot-sync-ntfy .ot-close-icon{background-size:contain;background-repeat:no-repeat;background-position:center;height:12px;width:12px}#onetrust-banner-sdk .powered-by-logo,#onetrust-banner-sdk .ot-pc-footer-logo a,#onetrust-pc-sdk .powered-by-logo,#onetrust-pc-sdk .ot-pc-footer-logo a,#ot-sync-ntfy .powered-by-logo,#ot-sync-ntfy .ot-pc-footer-logo a{background-size:contain;background-repeat:no-repeat;background-position:center;height:25px;width:152px;display:block;text-decoration:none;font-size:.75em}#onetrust-banner-sdk .powered-by-logo:hover,#onetrust-banner-sdk .ot-pc-footer-logo a:hover,#onetrust-pc-sdk .powered-by-logo:hover,#onetrust-pc-sdk .ot-pc-footer-logo a:hover,#ot-sync-ntfy .powered-by-logo:hover,#ot-sync-ntfy .ot-pc-footer-logo a:hover{color:#565656}#onetrust-banner-sdk h3 *,#onetrust-banner-sdk h4 *,#onetrust-banner-sdk h6 *,#onetrust-banner-sdk button *,#onetrust-banner-sdk a[data-parent-id] *,#onetrust-pc-sdk h3 *,#onetrust-pc-sdk h4 *,#onetrust-pc-sdk h6 *,#onetrust-pc-sdk button *,#onetrust-pc-sdk a[data-parent-id] *,#ot-sync-ntfy h3 *,#ot-sync-ntfy h4 *,#ot-sync-ntfy h6 *,#ot-sync-ntfy button *,#ot-sync-ntfy a[data-parent-id] *{font-size:inherit;font-weight:inherit;color:inherit}#onetrust-banner-sdk .ot-hide,#onetrust-pc-sdk .ot-hide,#ot-sync-ntfy .ot-hide{display:none !important}#onetrust-banner-sdk button.ot-link-btn:hover,#onetrust-pc-sdk button.ot-link-btn:hover,#ot-sync-ntfy button.ot-link-btn:hover{text-decoration:underline;opacity:1}#onetrust-pc-sdk .ot-sdk-row .ot-sdk-column{padding:0}#onetrust-pc-sdk .ot-sdk-container{padding-right:0}#onetrust-pc-sdk .ot-sdk-row{flex-direction:initial;width:100%}#onetrust-pc-sdk [type=checkbox]:checked,#onetrust-pc-sdk [type=checkbox]:not(:checked){pointer-events:initial}#onetrust-pc-sdk [type=checkbox]:disabled+label::before,#onetrust-pc-sdk [type=checkbox]:disabled+label:after,#onetrust-pc-sdk [type=checkbox]:disabled+label{pointer-events:none;opacity:.7}#onetrust-pc-sdk #vendor-list-content{transform:translate3d(0, 0, 0)}#onetrust-pc-sdk li input[type=checkbox]{z-index:1}#onetrust-pc-sdk li .ot-checkbox label{z-index:2}#onetrust-pc-sdk li .ot-checkbox input[type=checkbox]{height:auto;width:auto}#onetrust-pc-sdk li .host-title a,#onetrust-pc-sdk li .ot-host-name a,#onetrust-pc-sdk li .accordion-text,#onetrust-pc-sdk li .ot-acc-txt{z-index:2;position:relative}#onetrust-pc-sdk input{margin:3px .1ex}#onetrust-pc-sdk .pc-logo,#onetrust-pc-sdk .ot-pc-logo{height:60px;width:180px;background-position:center;background-size:contain;background-repeat:no-repeat;display:inline-flex;justify-content:center;align-items:center}#onetrust-pc-sdk .pc-logo img,#onetrust-pc-sdk .ot-pc-logo img{max-height:100%;max-width:100%}#onetrust-pc-sdk .screen-reader-only,#onetrust-pc-sdk .ot-scrn-rdr,.ot-sdk-cookie-policy .screen-reader-only,.ot-sdk-cookie-policy .ot-scrn-rdr{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}#onetrust-pc-sdk.ot-fade-in,.onetrust-pc-dark-filter.ot-fade-in,#onetrust-banner-sdk.ot-fade-in{animation-name:onetrust-fade-in;animation-duration:400ms;animation-timing-function:ease-in-out}#onetrust-pc-sdk.ot-hide{display:none !important}.onetrust-pc-dark-filter.ot-hide{display:none !important}#ot-sdk-btn.ot-sdk-show-settings,#ot-sdk-btn.optanon-show-settings{color:#68b631;border:1px solid #68b631;height:auto;white-space:normal;word-wrap:break-word;padding:.8em 2em;font-size:.8em;line-height:1.2;cursor:pointer;-moz-transition:.1s ease;-o-transition:.1s ease;-webkit-transition:1s ease;transition:.1s ease}#ot-sdk-btn.ot-sdk-show-settings:hover,#ot-sdk-btn.optanon-show-settings:hover{color:#fff;background-color:#68b631}.onetrust-pc-dark-filter{background:rgba(0,0,0,.5);z-index:2147483646;width:100%;height:100%;overflow:hidden;position:fixed;top:0;bottom:0;left:0}@keyframes onetrust-fade-in{0%{opacity:0}100%{opacity:1}}.ot-cookie-label{text-decoration:underline}@media only screen and (min-width: 426px)and (max-width: 896px)and (orientation: landscape){#onetrust-pc-sdk p{font-size:.75em}}#onetrust-banner-sdk .banner-option-input:focus+label{outline:1px solid #000;outline-style:auto}.category-vendors-list-handler+a:focus,.category-vendors-list-handler+a:focus-visible{outline:2px solid #000}#onetrust-pc-sdk .ot-userid-title{margin-top:10px}#onetrust-pc-sdk .ot-userid-title>span,#onetrust-pc-sdk .ot-userid-timestamp>span{font-weight:700}#onetrust-pc-sdk .ot-userid-desc{font-style:italic}#onetrust-pc-sdk .ot-host-desc a{pointer-events:initial}#onetrust-pc-sdk .ot-ven-hdr>p a{position:relative;z-index:2;pointer-events:initial}#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info a,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info a{margin-right:auto}#onetrust-pc-sdk .ot-pc-footer-logo img{width:136px;height:16px}#onetrust-pc-sdk .ot-pur-vdr-count{font-weight:400;font-size:.7rem;padding-top:3px;display:block}#onetrust-banner-sdk .ot-optout-signal,#onetrust-pc-sdk .ot-optout-signal{border:1px solid #32ae88;border-radius:3px;padding:5px;margin-bottom:10px;background-color:#f9fffa;font-size:.85rem;line-height:2}#onetrust-banner-sdk .ot-optout-signal .ot-optout-icon,#onetrust-pc-sdk .ot-optout-signal .ot-optout-icon{display:inline;margin-right:5px}#onetrust-banner-sdk .ot-optout-signal svg,#onetrust-pc-sdk .ot-optout-signal svg{height:20px;width:30px;transform:scale(0.5)}#onetrust-banner-sdk .ot-optout-signal svg path,#onetrust-pc-sdk .ot-optout-signal svg path{fill:#32ae88}#onetrust-consent-sdk .ot-general-modal{overflow:hidden;position:fixed;margin:0 auto;top:50%;left:50%;width:40%;padding:1.5rem;max-width:575px;min-width:575px;z-index:2147483647;border-radius:2.5px;transform:translate(-50%, -50%)}#onetrust-consent-sdk .ot-signature-health-group{margin-top:1rem;padding-left:1.25rem;padding-right:1.25rem;margin-bottom:.625rem;width:calc(100% - 2.5rem)}#onetrust-consent-sdk .ot-signature-health-group .ot-signature-health-form{gap:.5rem}#onetrust-consent-sdk .ot-signature-health .ot-signature-health-form{width:70%;gap:.35rem}#onetrust-consent-sdk .ot-signature-health .ot-signature-input{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}#onetrust-consent-sdk .ot-signature-health .ot-signature-subtitle{font-size:1.125rem}#onetrust-consent-sdk .ot-signature-health .ot-signature-group-title{font-size:1.25rem;font-weight:bold}#onetrust-consent-sdk .ot-signature-health,#onetrust-consent-sdk .ot-signature-health-group{display:flex;flex-direction:column;gap:1rem}#onetrust-consent-sdk .ot-signature-health .ot-signature-cont,#onetrust-consent-sdk .ot-signature-health-group .ot-signature-cont{display:flex;flex-direction:column;gap:.25rem}#onetrust-consent-sdk .ot-signature-health .ot-signature-paragraph,#onetrust-consent-sdk .ot-signature-health-group .ot-signature-paragraph{margin:0;line-height:20px;font-size:max(14px,.875rem)}#onetrust-consent-sdk .ot-signature-health .ot-health-signature-error,#onetrust-consent-sdk .ot-signature-health-group .ot-health-signature-error{color:#4d4d4d;font-size:min(12px,.75rem)}#onetrust-consent-sdk .ot-signature-health .ot-signature-buttons-cont,#onetrust-consent-sdk .ot-signature-health-group .ot-signature-buttons-cont{margin-top:max(.75rem,2%);gap:1rem;display:flex;justify-content:flex-end}#onetrust-consent-sdk .ot-signature-health .ot-signature-button,#onetrust-consent-sdk .ot-signature-health-group .ot-signature-button{flex:1;height:auto;color:#fff;cursor:pointer;line-height:1.2;min-width:125px;font-weight:600;font-size:.813em;border-radius:2px;padding:12px 10px;white-space:normal;word-wrap:break-word;word-break:break-word;background-color:#68b631;border:2px solid #68b631}#onetrust-consent-sdk .ot-signature-health .ot-signature-button.reject,#onetrust-consent-sdk .ot-signature-health-group .ot-signature-button.reject{background-color:#fff}#onetrust-consent-sdk .ot-input-field-cont{display:flex;flex-direction:column;gap:.5rem}#onetrust-consent-sdk .ot-input-field-cont .ot-signature-input{width:65%}#onetrust-consent-sdk .ot-signature-health-form{display:flex;flex-direction:column}#onetrust-consent-sdk .ot-signature-health-form .ot-signature-label{margin-bottom:0;line-height:20px;font-size:max(14px,.875rem)}@media only screen and (max-width: 600px){#onetrust-consent-sdk .ot-general-modal{min-width:100%}#onetrust-consent-sdk .ot-signature-health .ot-signature-health-form{width:100%}#onetrust-consent-sdk .ot-input-field-cont .ot-signature-input{width:100%}}#onetrust-banner-sdk,#onetrust-pc-sdk,#ot-sdk-cookie-policy,#ot-sync-ntfy{font-size:16px}#onetrust-banner-sdk *,#onetrust-banner-sdk ::after,#onetrust-banner-sdk ::before,#onetrust-pc-sdk *,#onetrust-pc-sdk ::after,#onetrust-pc-sdk ::before,#ot-sdk-cookie-policy *,#ot-sdk-cookie-policy ::after,#ot-sdk-cookie-policy ::before,#ot-sync-ntfy *,#ot-sync-ntfy ::after,#ot-sync-ntfy ::before{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}#onetrust-banner-sdk div,#onetrust-banner-sdk span,#onetrust-banner-sdk h1,#onetrust-banner-sdk h2,#onetrust-banner-sdk h3,#onetrust-banner-sdk h4,#onetrust-banner-sdk h5,#onetrust-banner-sdk h6,#onetrust-banner-sdk p,#onetrust-banner-sdk img,#onetrust-banner-sdk svg,#onetrust-banner-sdk button,#onetrust-banner-sdk section,#onetrust-banner-sdk a,#onetrust-banner-sdk label,#onetrust-banner-sdk input,#onetrust-banner-sdk ul,#onetrust-banner-sdk li,#onetrust-banner-sdk nav,#onetrust-banner-sdk table,#onetrust-banner-sdk thead,#onetrust-banner-sdk tr,#onetrust-banner-sdk td,#onetrust-banner-sdk tbody,#onetrust-banner-sdk .ot-main-content,#onetrust-banner-sdk .ot-toggle,#onetrust-banner-sdk #ot-content,#onetrust-banner-sdk #ot-pc-content,#onetrust-banner-sdk .checkbox,#onetrust-pc-sdk div,#onetrust-pc-sdk span,#onetrust-pc-sdk h1,#onetrust-pc-sdk h2,#onetrust-pc-sdk h3,#onetrust-pc-sdk h4,#onetrust-pc-sdk h5,#onetrust-pc-sdk h6,#onetrust-pc-sdk p,#onetrust-pc-sdk img,#onetrust-pc-sdk svg,#onetrust-pc-sdk button,#onetrust-pc-sdk section,#onetrust-pc-sdk a,#onetrust-pc-sdk label,#onetrust-pc-sdk input,#onetrust-pc-sdk ul,#onetrust-pc-sdk li,#onetrust-pc-sdk nav,#onetrust-pc-sdk table,#onetrust-pc-sdk thead,#onetrust-pc-sdk tr,#onetrust-pc-sdk td,#onetrust-pc-sdk tbody,#onetrust-pc-sdk .ot-main-content,#onetrust-pc-sdk .ot-toggle,#onetrust-pc-sdk #ot-content,#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk .checkbox,#ot-sdk-cookie-policy div,#ot-sdk-cookie-policy span,#ot-sdk-cookie-policy h1,#ot-sdk-cookie-policy h2,#ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy h5,#ot-sdk-cookie-policy h6,#ot-sdk-cookie-policy p,#ot-sdk-cookie-policy img,#ot-sdk-cookie-policy svg,#ot-sdk-cookie-policy button,#ot-sdk-cookie-policy section,#ot-sdk-cookie-policy a,#ot-sdk-cookie-policy label,#ot-sdk-cookie-policy input,#ot-sdk-cookie-policy ul,#ot-sdk-cookie-policy li,#ot-sdk-cookie-policy nav,#ot-sdk-cookie-policy table,#ot-sdk-cookie-policy thead,#ot-sdk-cookie-policy tr,#ot-sdk-cookie-policy td,#ot-sdk-cookie-policy tbody,#ot-sdk-cookie-policy .ot-main-content,#ot-sdk-cookie-policy .ot-toggle,#ot-sdk-cookie-policy #ot-content,#ot-sdk-cookie-policy #ot-pc-content,#ot-sdk-cookie-policy .checkbox,#ot-sync-ntfy div,#ot-sync-ntfy span,#ot-sync-ntfy h1,#ot-sync-ntfy h2,#ot-sync-ntfy h3,#ot-sync-ntfy h4,#ot-sync-ntfy h5,#ot-sync-ntfy h6,#ot-sync-ntfy p,#ot-sync-ntfy img,#ot-sync-ntfy svg,#ot-sync-ntfy button,#ot-sync-ntfy section,#ot-sync-ntfy a,#ot-sync-ntfy label,#ot-sync-ntfy input,#ot-sync-ntfy ul,#ot-sync-ntfy li,#ot-sync-ntfy nav,#ot-sync-ntfy table,#ot-sync-ntfy thead,#ot-sync-ntfy tr,#ot-sync-ntfy td,#ot-sync-ntfy tbody,#ot-sync-ntfy .ot-main-content,#ot-sync-ntfy .ot-toggle,#ot-sync-ntfy #ot-content,#ot-sync-ntfy #ot-pc-content,#ot-sync-ntfy .checkbox{font-family:inherit;font-weight:normal;-webkit-font-smoothing:auto;letter-spacing:normal;line-height:normal;padding:0;margin:0;height:auto;min-height:0;max-height:none;width:auto;min-width:0;max-width:none;border-radius:0;border:none;clear:none;float:none;position:static;bottom:auto;left:auto;right:auto;top:auto;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;white-space:normal;background:none;overflow:visible;vertical-align:baseline;visibility:visible;z-index:auto;box-shadow:none}#onetrust-banner-sdk label:before,#onetrust-banner-sdk label:after,#onetrust-banner-sdk .checkbox:after,#onetrust-banner-sdk .checkbox:before,#onetrust-pc-sdk label:before,#onetrust-pc-sdk label:after,#onetrust-pc-sdk .checkbox:after,#onetrust-pc-sdk .checkbox:before,#ot-sdk-cookie-policy label:before,#ot-sdk-cookie-policy label:after,#ot-sdk-cookie-policy .checkbox:after,#ot-sdk-cookie-policy .checkbox:before,#ot-sync-ntfy label:before,#ot-sync-ntfy label:after,#ot-sync-ntfy .checkbox:after,#ot-sync-ntfy .checkbox:before{content:"";content:none}#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{position:relative;width:100%;max-width:100%;margin:0 auto;padding:0 20px;box-sizing:border-box}#onetrust-banner-sdk .ot-sdk-column,#onetrust-banner-sdk .ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-column,#onetrust-pc-sdk .ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-column,#ot-sdk-cookie-policy .ot-sdk-columns{width:100%;float:left;box-sizing:border-box;padding:0;display:initial}@media(min-width: 400px){#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{width:90%;padding:0}}@media(min-width: 550px){#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{width:100%}#onetrust-banner-sdk .ot-sdk-column,#onetrust-banner-sdk .ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-column,#onetrust-pc-sdk .ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-column,#ot-sdk-cookie-policy .ot-sdk-columns{margin-left:4%}#onetrust-banner-sdk .ot-sdk-column:first-child,#onetrust-banner-sdk .ot-sdk-columns:first-child,#onetrust-pc-sdk .ot-sdk-column:first-child,#onetrust-pc-sdk .ot-sdk-columns:first-child,#ot-sdk-cookie-policy .ot-sdk-column:first-child,#ot-sdk-cookie-policy .ot-sdk-columns:first-child{margin-left:0}#onetrust-banner-sdk .ot-sdk-two.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-two.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-two.ot-sdk-columns{width:13.3333333333%}#onetrust-banner-sdk .ot-sdk-three.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-three.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-three.ot-sdk-columns{width:22%}#onetrust-banner-sdk .ot-sdk-four.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-four.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-four.ot-sdk-columns{width:30.6666666667%}#onetrust-banner-sdk .ot-sdk-eight.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-eight.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-eight.ot-sdk-columns{width:65.3333333333%}#onetrust-banner-sdk .ot-sdk-nine.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-nine.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-nine.ot-sdk-columns{width:74%}#onetrust-banner-sdk .ot-sdk-ten.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-ten.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-ten.ot-sdk-columns{width:82.6666666667%}#onetrust-banner-sdk .ot-sdk-eleven.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-eleven.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-eleven.ot-sdk-columns{width:91.3333333333%}#onetrust-banner-sdk .ot-sdk-twelve.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-twelve.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-twelve.ot-sdk-columns{width:100%;margin-left:0}}#onetrust-banner-sdk h1,#onetrust-banner-sdk h2,#onetrust-banner-sdk h3,#onetrust-banner-sdk h4,#onetrust-banner-sdk h5,#onetrust-banner-sdk h6,#onetrust-pc-sdk h1,#onetrust-pc-sdk h2,#onetrust-pc-sdk h3,#onetrust-pc-sdk h4,#onetrust-pc-sdk h5,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h1,#ot-sdk-cookie-policy h2,#ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy h5,#ot-sdk-cookie-policy h6{margin-top:0;font-weight:600;font-family:inherit}#onetrust-banner-sdk h1,#onetrust-pc-sdk h1,#ot-sdk-cookie-policy h1{font-size:1.5rem;line-height:1.2}#onetrust-banner-sdk h2,#onetrust-pc-sdk h2,#ot-sdk-cookie-policy h2{font-size:1.5rem;line-height:1.25}#onetrust-banner-sdk h3,#onetrust-pc-sdk h3,#ot-sdk-cookie-policy h3{font-size:1.5rem;line-height:1.3}#onetrust-banner-sdk h4,#onetrust-pc-sdk h4,#ot-sdk-cookie-policy h4{font-size:1.5rem;line-height:1.35}#onetrust-banner-sdk h5,#onetrust-pc-sdk h5,#ot-sdk-cookie-policy h5{font-size:1.5rem;line-height:1.5}#onetrust-banner-sdk h6,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h6{font-size:1.5rem;line-height:1.6}@media(min-width: 550px){#onetrust-banner-sdk h1,#onetrust-pc-sdk h1,#ot-sdk-cookie-policy h1{font-size:1.5rem}#onetrust-banner-sdk h2,#onetrust-pc-sdk h2,#ot-sdk-cookie-policy h2{font-size:1.5rem}#onetrust-banner-sdk h3,#onetrust-pc-sdk h3,#ot-sdk-cookie-policy h3{font-size:1.5rem}#onetrust-banner-sdk h4,#onetrust-pc-sdk h4,#ot-sdk-cookie-policy h4{font-size:1.5rem}#onetrust-banner-sdk h5,#onetrust-pc-sdk h5,#ot-sdk-cookie-policy h5{font-size:1.5rem}#onetrust-banner-sdk h6,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h6{font-size:1.5rem}}#onetrust-banner-sdk p,#onetrust-pc-sdk p,#ot-sdk-cookie-policy p{margin:0 0 1em 0;font-family:inherit;line-height:normal}#onetrust-banner-sdk a,#onetrust-pc-sdk a,#ot-sdk-cookie-policy a{color:#565656;text-decoration:underline}#onetrust-banner-sdk a:hover,#onetrust-pc-sdk a:hover,#ot-sdk-cookie-policy a:hover{color:#565656;text-decoration:none}#onetrust-banner-sdk .ot-sdk-button,#onetrust-banner-sdk button,#onetrust-pc-sdk .ot-sdk-button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy .ot-sdk-button,#ot-sdk-cookie-policy button{margin-bottom:1rem;font-family:inherit}#onetrust-banner-sdk .ot-sdk-button,#onetrust-banner-sdk button,#onetrust-pc-sdk .ot-sdk-button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy .ot-sdk-button,#ot-sdk-cookie-policy button{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:.9em;font-weight:400;line-height:38px;letter-spacing:.01em;text-decoration:none;white-space:nowrap;background-color:rgba(0,0,0,0);border-radius:2px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}#onetrust-banner-sdk .ot-sdk-button:hover,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:not(.ot-link-btn):hover,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:not(.ot-link-btn):focus,#onetrust-pc-sdk .ot-sdk-button:hover,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:not(.ot-link-btn):hover,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:not(.ot-link-btn):focus,#ot-sdk-cookie-policy .ot-sdk-button:hover,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:not(.ot-link-btn):hover,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:not(.ot-link-btn):focus{color:#333;border-color:#888;opacity:.7}#onetrust-banner-sdk .ot-sdk-button:focus,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:focus,#onetrust-pc-sdk .ot-sdk-button:focus,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:focus,#ot-sdk-cookie-policy .ot-sdk-button:focus,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:focus{outline:2px solid #000}#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary,#onetrust-banner-sdk button.ot-sdk-button-primary,#onetrust-banner-sdk input[type=submit].ot-sdk-button-primary,#onetrust-banner-sdk input[type=reset].ot-sdk-button-primary,#onetrust-banner-sdk input[type=button].ot-sdk-button-primary,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary,#onetrust-pc-sdk button.ot-sdk-button-primary,#onetrust-pc-sdk input[type=submit].ot-sdk-button-primary,#onetrust-pc-sdk input[type=reset].ot-sdk-button-primary,#onetrust-pc-sdk input[type=button].ot-sdk-button-primary,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary,#ot-sdk-cookie-policy button.ot-sdk-button-primary,#ot-sdk-cookie-policy input[type=submit].ot-sdk-button-primary,#ot-sdk-cookie-policy input[type=reset].ot-sdk-button-primary,#ot-sdk-cookie-policy input[type=button].ot-sdk-button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary:hover,#onetrust-banner-sdk button.ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type=submit].ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type=reset].ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type=button].ot-sdk-button-primary:hover,#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary:focus,#onetrust-banner-sdk button.ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type=submit].ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type=reset].ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type=button].ot-sdk-button-primary:focus,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary:hover,#onetrust-pc-sdk button.ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type=submit].ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type=reset].ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type=button].ot-sdk-button-primary:hover,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary:focus,#onetrust-pc-sdk button.ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type=submit].ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type=reset].ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type=button].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary:hover,#ot-sdk-cookie-policy button.ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type=submit].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type=reset].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type=button].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary:focus,#ot-sdk-cookie-policy button.ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type=submit].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type=reset].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type=button].ot-sdk-button-primary:focus{color:#fff;background-color:#1eaedb;border-color:#1eaedb}#onetrust-banner-sdk input[type=text],#onetrust-pc-sdk input[type=text],#ot-sdk-cookie-policy input[type=text]{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}#onetrust-banner-sdk input[type=text],#onetrust-pc-sdk input[type=text],#ot-sdk-cookie-policy input[type=text]{-webkit-appearance:none;-moz-appearance:none;appearance:none}#onetrust-banner-sdk input[type=text]:focus,#onetrust-pc-sdk input[type=text]:focus,#ot-sdk-cookie-policy input[type=text]:focus{border:1px solid #000;outline:0}#onetrust-banner-sdk label,#onetrust-pc-sdk label,#ot-sdk-cookie-policy label{display:block;margin-bottom:.5rem;font-weight:600}#onetrust-banner-sdk input[type=checkbox],#onetrust-pc-sdk input[type=checkbox],#ot-sdk-cookie-policy input[type=checkbox]{display:inline}#onetrust-banner-sdk ul,#onetrust-pc-sdk ul,#ot-sdk-cookie-policy ul{list-style:circle inside}#onetrust-banner-sdk ul,#onetrust-pc-sdk ul,#ot-sdk-cookie-policy ul{padding-left:0;margin-top:0}#onetrust-banner-sdk ul ul,#onetrust-pc-sdk ul ul,#ot-sdk-cookie-policy ul ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}#onetrust-banner-sdk li,#onetrust-pc-sdk li,#ot-sdk-cookie-policy li{margin-bottom:1rem}#onetrust-banner-sdk th,#onetrust-banner-sdk td,#onetrust-pc-sdk th,#onetrust-pc-sdk td,#ot-sdk-cookie-policy th,#ot-sdk-cookie-policy td{padding:12px 15px;text-align:left;border-bottom:1px solid #e1e1e1}#onetrust-banner-sdk button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy button{margin-bottom:1rem;font-family:inherit}#onetrust-banner-sdk .ot-sdk-container:after,#onetrust-banner-sdk .ot-sdk-row:after,#onetrust-pc-sdk .ot-sdk-container:after,#onetrust-pc-sdk .ot-sdk-row:after,#ot-sdk-cookie-policy .ot-sdk-container:after,#ot-sdk-cookie-policy .ot-sdk-row:after{content:"";display:table;clear:both}#onetrust-banner-sdk .ot-sdk-row,#onetrust-pc-sdk .ot-sdk-row,#ot-sdk-cookie-policy .ot-sdk-row{margin:0;max-width:none;display:block}#onetrust-banner-sdk{box-shadow:0 0 18px rgba(0,0,0,.2)}#onetrust-banner-sdk.otFlat{position:fixed;z-index:2147483645;bottom:0;right:0;left:0;background-color:#fff;max-height:90%;overflow-x:hidden;overflow-y:auto}#onetrust-banner-sdk.otFlat.top{top:0px;bottom:auto}#onetrust-banner-sdk.otRelFont{font-size:1rem}#onetrust-banner-sdk>.ot-sdk-container{overflow:hidden}#onetrust-banner-sdk::-webkit-scrollbar{width:11px}#onetrust-banner-sdk::-webkit-scrollbar-thumb{border-radius:10px;background:#c1c1c1}#onetrust-banner-sdk{scrollbar-arrow-color:#c1c1c1;scrollbar-darkshadow-color:#c1c1c1;scrollbar-face-color:#c1c1c1;scrollbar-shadow-color:#c1c1c1}#onetrust-banner-sdk #onetrust-policy{margin:1.25em 0 .625em 2em;overflow:hidden}#onetrust-banner-sdk #onetrust-policy .ot-gv-list-handler{float:left;font-size:.82em;padding:0;margin-bottom:0;border:0;line-height:normal;height:auto;width:auto}#onetrust-banner-sdk #onetrust-policy-title{font-size:1.2em;line-height:1.3;margin-bottom:10px}#onetrust-banner-sdk #onetrust-policy-text{clear:both;text-align:left;font-size:.88em;line-height:1.4}#onetrust-banner-sdk #onetrust-policy-text *{font-size:inherit;line-height:inherit}#onetrust-banner-sdk #onetrust-policy-text a{font-weight:bold;margin-left:5px}#onetrust-banner-sdk #onetrust-policy-title,#onetrust-banner-sdk #onetrust-policy-text{color:dimgray;float:left}#onetrust-banner-sdk #onetrust-button-group-parent{min-height:1px;text-align:center}#onetrust-banner-sdk #onetrust-button-group{display:inline-block}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{background-color:#68b631;color:#fff;border-color:#68b631;margin-right:1em;min-width:125px;height:auto;white-space:normal;word-break:break-word;word-wrap:break-word;padding:12px 10px;line-height:1.2;font-size:.813em;font-weight:600}#onetrust-banner-sdk #onetrust-pc-btn-handler.cookie-setting-link{background-color:#fff;border:none;color:#68b631;text-decoration:underline;padding-left:0;padding-right:0}#onetrust-banner-sdk .onetrust-close-btn-ui{width:44px;height:44px;background-size:12px;border:none;position:relative;margin:auto;padding:0}#onetrust-banner-sdk .banner_logo{display:none}#onetrust-banner-sdk.ot-bnr-w-logo .ot-bnr-logo{position:absolute;top:50%;transform:translateY(-50%);left:0px}#onetrust-banner-sdk.ot-bnr-w-logo #onetrust-policy{margin-left:65px}#onetrust-banner-sdk .ot-b-addl-desc{clear:both;float:left;display:block}#onetrust-banner-sdk #banner-options{float:left;display:table;margin-right:0;margin-left:1em;width:calc(100% - 1em)}#onetrust-banner-sdk .banner-option-input{cursor:pointer;width:auto;height:auto;border:none;padding:0;padding-right:3px;margin:0 0 10px;font-size:.82em;line-height:1.4}#onetrust-banner-sdk .banner-option-input *{pointer-events:none;font-size:inherit;line-height:inherit}#onetrust-banner-sdk .banner-option-input[aria-expanded=true]~.banner-option-details{display:block;height:auto}#onetrust-banner-sdk .banner-option-input[aria-expanded=true] .ot-arrow-container{transform:rotate(90deg)}#onetrust-banner-sdk .banner-option{margin-bottom:12px;margin-left:0;border:none;float:left;padding:0}#onetrust-banner-sdk .banner-option:first-child{padding-left:2px}#onetrust-banner-sdk .banner-option:not(:first-child){padding:0;border:none}#onetrust-banner-sdk .banner-option-header{cursor:pointer;display:inline-block}#onetrust-banner-sdk .banner-option-header :first-child{color:dimgray;font-weight:bold;float:left}#onetrust-banner-sdk .banner-option-header .ot-arrow-container{display:inline-block;border-top:6px solid rgba(0,0,0,0);border-bottom:6px solid rgba(0,0,0,0);border-left:6px solid dimgray;margin-left:10px;vertical-align:middle}#onetrust-banner-sdk .banner-option-details{display:none;font-size:.83em;line-height:1.5;padding:10px 0px 5px 10px;margin-right:10px;height:0px}#onetrust-banner-sdk .banner-option-details *{font-size:inherit;line-height:inherit;color:dimgray}#onetrust-banner-sdk .ot-arrow-container,#onetrust-banner-sdk .banner-option-details{transition:all 300ms ease-in 0s;-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s}#onetrust-banner-sdk .ot-dpd-container{float:left}#onetrust-banner-sdk .ot-dpd-title{margin-bottom:10px}#onetrust-banner-sdk .ot-dpd-title,#onetrust-banner-sdk .ot-dpd-desc{font-size:.88em;line-height:1.4;color:dimgray}#onetrust-banner-sdk .ot-dpd-title *,#onetrust-banner-sdk .ot-dpd-desc *{font-size:inherit;line-height:inherit}#onetrust-banner-sdk.ot-iab-2 #onetrust-policy-text *{margin-bottom:0}#onetrust-banner-sdk.ot-iab-2 .onetrust-vendors-list-handler{display:block;margin-left:0;margin-top:5px;clear:both;margin-bottom:0;padding:0;border:0;height:auto;width:auto}#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group button{display:block}#onetrust-banner-sdk.ot-close-btn-link{padding-top:25px}#onetrust-banner-sdk.ot-close-btn-link #onetrust-close-btn-container{top:15px;transform:none;right:15px}#onetrust-banner-sdk.ot-close-btn-link #onetrust-close-btn-container button{padding:0;white-space:pre-wrap;border:none;height:auto;line-height:1.5;text-decoration:underline;font-size:.69em}#onetrust-banner-sdk #onetrust-policy-text,#onetrust-banner-sdk .ot-dpd-desc,#onetrust-banner-sdk .ot-b-addl-desc{font-size:.813em;line-height:1.5}#onetrust-banner-sdk .ot-dpd-desc{margin-bottom:10px}#onetrust-banner-sdk .ot-dpd-desc>.ot-b-addl-desc{margin-top:10px;margin-bottom:10px;font-size:1em}@media only screen and (max-width: 425px){#onetrust-banner-sdk #onetrust-close-btn-container{position:absolute;top:6px;right:2px}#onetrust-banner-sdk #onetrust-policy{margin-left:0;margin-top:3em}#onetrust-banner-sdk #onetrust-button-group{display:block}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{width:100%}#onetrust-banner-sdk .onetrust-close-btn-ui{top:auto;transform:none}#onetrust-banner-sdk #onetrust-policy-title{display:inline;float:none}#onetrust-banner-sdk #banner-options{margin:0;padding:0;width:100%}}@media only screen and (min-width: 426px)and (max-width: 896px){#onetrust-banner-sdk #onetrust-close-btn-container{position:absolute;top:0;right:0}#onetrust-banner-sdk #onetrust-policy{margin-left:1em;margin-right:1em}#onetrust-banner-sdk .onetrust-close-btn-ui{top:10px;right:10px}#onetrust-banner-sdk:not(.ot-iab-2) #onetrust-group-container{width:95%}#onetrust-banner-sdk.ot-iab-2 #onetrust-group-container{width:100%}#onetrust-banner-sdk.ot-bnr-w-logo #onetrust-button-group-parent{padding-left:50px}#onetrust-banner-sdk #onetrust-button-group-parent{width:100%;position:relative;margin-left:0}#onetrust-banner-sdk #onetrust-button-group button{display:inline-block}#onetrust-banner-sdk #onetrust-button-group{margin-right:0;text-align:center}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler{float:left}#onetrust-banner-sdk .has-reject-all-button #onetrust-reject-all-handler,#onetrust-banner-sdk .has-reject-all-button #onetrust-accept-btn-handler{float:right}#onetrust-banner-sdk .has-reject-all-button #onetrust-button-group{width:calc(100% - 2em);margin-right:0}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler.cookie-setting-link{padding-left:0px;text-align:left}#onetrust-banner-sdk.ot-buttons-fw .ot-sdk-three button{width:100%;text-align:center}#onetrust-banner-sdk.ot-buttons-fw #onetrust-button-group-parent button{float:none}#onetrust-banner-sdk.ot-buttons-fw #onetrust-pc-btn-handler.cookie-setting-link{text-align:center}}@media only screen and (min-width: 550px){#onetrust-banner-sdk .banner-option:not(:first-child){border-left:1px solid #d8d8d8;padding-left:25px}}@media only screen and (min-width: 425px)and (max-width: 550px){#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group,#onetrust-banner-sdk.ot-iab-2 #onetrust-policy,#onetrust-banner-sdk.ot-iab-2 .banner-option{width:100%}#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group #onetrust-accept-btn-handler,#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group #onetrust-reject-all-handler,#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group #onetrust-pc-btn-handler{width:100%}#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group #onetrust-accept-btn-handler,#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group #onetrust-reject-all-handler{float:left}}@media only screen and (min-width: 769px){#onetrust-banner-sdk #onetrust-button-group{margin-right:30%}#onetrust-banner-sdk #banner-options{margin-left:2em;margin-right:5em;margin-bottom:1.25em;width:calc(100% - 7em)}}@media only screen and (min-width: 897px)and (max-width: 1023px){#onetrust-banner-sdk.vertical-align-content #onetrust-button-group-parent{position:absolute;top:50%;left:75%;transform:translateY(-50%)}#onetrust-banner-sdk #onetrust-close-btn-container{top:50%;margin:auto;transform:translate(-50%, -50%);position:absolute;padding:0;right:0}#onetrust-banner-sdk #onetrust-close-btn-container button{position:relative;margin:0;right:-22px;top:2px}}@media only screen and (min-width: 1024px){#onetrust-banner-sdk #onetrust-close-btn-container{top:50%;margin:auto;transform:translate(-50%, -50%);position:absolute;right:0}#onetrust-banner-sdk #onetrust-close-btn-container button{right:-12px}#onetrust-banner-sdk #onetrust-policy{margin-left:2em}#onetrust-banner-sdk.vertical-align-content #onetrust-button-group-parent{position:absolute;top:50%;left:60%;transform:translateY(-50%)}#onetrust-banner-sdk .ot-optout-signal{width:50%}#onetrust-banner-sdk.ot-iab-2 #onetrust-policy-title{width:50%}#onetrust-banner-sdk.ot-iab-2 #onetrust-policy-text,#onetrust-banner-sdk.ot-iab-2 :not(.ot-dpd-desc)>.ot-b-addl-desc{margin-bottom:1em;width:50%;border-right:1px solid #d8d8d8;padding-right:1rem}#onetrust-banner-sdk.ot-iab-2 #onetrust-policy-text{margin-bottom:0;padding-bottom:1em}#onetrust-banner-sdk.ot-iab-2 :not(.ot-dpd-desc)>.ot-b-addl-desc{margin-bottom:0;padding-bottom:1em}#onetrust-banner-sdk.ot-iab-2 .ot-dpd-container{width:45%;padding-left:1rem;display:inline-block;float:none}#onetrust-banner-sdk.ot-iab-2 .ot-dpd-title{line-height:1.7}#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group-parent{left:auto;right:4%;margin-left:0}#onetrust-banner-sdk.ot-iab-2 #onetrust-button-group button{display:block}#onetrust-banner-sdk:not(.ot-iab-2) #onetrust-button-group-parent{margin:auto;width:30%}#onetrust-banner-sdk:not(.ot-iab-2) #onetrust-group-container{width:60%}#onetrust-banner-sdk #onetrust-button-group{margin-right:auto}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{margin-top:1em}}@media only screen and (min-width: 890px){#onetrust-banner-sdk.ot-buttons-fw:not(.ot-iab-2) #onetrust-button-group-parent{padding-left:3%;padding-right:4%;margin-left:0}#onetrust-banner-sdk.ot-buttons-fw:not(.ot-iab-2) #onetrust-button-group{margin-right:0;margin-top:1.25em;width:100%}#onetrust-banner-sdk.ot-buttons-fw:not(.ot-iab-2) #onetrust-button-group button{width:100%;margin-bottom:5px;margin-top:5px}#onetrust-banner-sdk.ot-buttons-fw:not(.ot-iab-2) #onetrust-button-group button:last-of-type{margin-bottom:20px}}@media only screen and (min-width: 1280px){#onetrust-banner-sdk:not(.ot-iab-2) #onetrust-group-container{width:55%}#onetrust-banner-sdk:not(.ot-iab-2) #onetrust-button-group-parent{width:44%;padding-left:2%;padding-right:2%}#onetrust-banner-sdk:not(.ot-iab-2).vertical-align-content #onetrust-button-group-parent{position:absolute;left:55%}}
        #onetrust-consent-sdk #onetrust-banner-sdk {background-color: #FFFFFF;}
            #onetrust-consent-sdk #onetrust-policy-title,
                    #onetrust-consent-sdk #onetrust-policy-text,
                    #onetrust-consent-sdk .ot-b-addl-desc,
                    #onetrust-consent-sdk .ot-dpd-desc,
                    #onetrust-consent-sdk .ot-dpd-title,
                    #onetrust-consent-sdk #onetrust-policy-text *:not(.onetrust-vendors-list-handler),
                    #onetrust-consent-sdk .ot-dpd-desc *:not(.onetrust-vendors-list-handler),
                    #onetrust-consent-sdk #onetrust-banner-sdk #banner-options *,
                    #onetrust-banner-sdk .ot-cat-header,
                    #onetrust-banner-sdk .ot-optout-signal
                    {
                        color: #696969;
                    }
            #onetrust-consent-sdk #onetrust-banner-sdk .banner-option-details {
                    background-color: #E9E9E9;}
             #onetrust-consent-sdk #onetrust-banner-sdk a[href],
                    #onetrust-consent-sdk #onetrust-banner-sdk a[href] font,
                    #onetrust-consent-sdk #onetrust-banner-sdk .ot-link-btn
                        {
                            color: #3860BE;
                        }#onetrust-consent-sdk #onetrust-accept-btn-handler,
                         #onetrust-banner-sdk #onetrust-reject-all-handler {
                            background-color: #346E4A;border-color: #346E4A;
                color: #FFFFFF;
            }
            #onetrust-consent-sdk #onetrust-banner-sdk *:focus,
            #onetrust-consent-sdk #onetrust-banner-sdk:focus {
               outline-color: #000000;
               outline-width: 1px;
            }
            #onetrust-consent-sdk #onetrust-pc-btn-handler,
            #onetrust-consent-sdk #onetrust-pc-btn-handler.cookie-setting-link {
                color: #346E4A; border-color: #346E4A;
                background-color:
                #FFFFFF;
            }#onetrust-pc-sdk.otPcCenter{overflow:hidden;position:fixed;margin:0 auto;top:5%;right:0;left:0;width:40%;max-width:575px;min-width:575px;border-radius:2.5px;z-index:2147483647;background-color:#fff;-webkit-box-shadow:0px 2px 10px -3px #999;-moz-box-shadow:0px 2px 10px -3px #999;box-shadow:0px 2px 10px -3px #999}#onetrust-pc-sdk.otPcCenter[dir=rtl]{right:0;left:0}#onetrust-pc-sdk.otRelFont{font-size:1rem}#onetrust-pc-sdk .ot-optout-signal{margin-top:.625rem}#onetrust-pc-sdk #ot-addtl-venlst .ot-arw-cntr,#onetrust-pc-sdk #ot-addtl-venlst .ot-plus-minus,#onetrust-pc-sdk .ot-hide-tgl{visibility:hidden}#onetrust-pc-sdk #ot-addtl-venlst .ot-arw-cntr *,#onetrust-pc-sdk #ot-addtl-venlst .ot-plus-minus *,#onetrust-pc-sdk .ot-hide-tgl *{visibility:hidden}#onetrust-pc-sdk #ot-gn-venlst .ot-ven-item .ot-acc-hdr{min-height:40px}#onetrust-pc-sdk .ot-pc-header{height:39px;padding:10px 0 10px 30px;border-bottom:1px solid #e9e9e9}#onetrust-pc-sdk #ot-pc-title,#onetrust-pc-sdk #ot-category-title,#onetrust-pc-sdk .ot-cat-header,#onetrust-pc-sdk #ot-lst-title,#onetrust-pc-sdk .ot-ven-hdr .ot-ven-name,#onetrust-pc-sdk .ot-always-active{font-weight:bold;color:dimgray}#onetrust-pc-sdk .ot-always-active-group .ot-cat-header{width:55%;font-weight:700}#onetrust-pc-sdk .ot-cat-item p{clear:both;float:left;margin-top:10px;margin-bottom:5px;line-height:1.5;font-size:.812em;color:dimgray}#onetrust-pc-sdk .ot-close-icon{height:44px;width:44px;background-size:10px}#onetrust-pc-sdk #ot-pc-title{float:left;font-size:1em;line-height:1.5;margin-bottom:10px;margin-top:10px;width:100%}#onetrust-pc-sdk #accept-recommended-btn-handler{margin-right:10px;margin-bottom:25px;outline-offset:-1px}#onetrust-pc-sdk #ot-pc-desc{clear:both;width:100%;font-size:.812em;line-height:1.5;margin-bottom:25px}#onetrust-pc-sdk #ot-pc-desc a{margin-left:5px}#onetrust-pc-sdk #ot-pc-desc *{font-size:inherit;line-height:inherit}#onetrust-pc-sdk #ot-pc-desc ul li{padding:10px 0px}#onetrust-pc-sdk a{color:#656565;cursor:pointer}#onetrust-pc-sdk a:hover{color:#3860be}#onetrust-pc-sdk label{margin-bottom:0}#onetrust-pc-sdk #vdr-lst-dsc{font-size:.812em;line-height:1.5;padding:10px 15px 5px 15px}#onetrust-pc-sdk button{max-width:394px;padding:12px 30px;line-height:1;word-break:break-word;word-wrap:break-word;white-space:normal;font-weight:bold;height:auto}#onetrust-pc-sdk .ot-link-btn{padding:0;margin-bottom:0;border:0;font-weight:normal;line-height:normal;width:auto;height:auto}#onetrust-pc-sdk #ot-pc-content{position:absolute;overflow-y:scroll;padding-left:0px;padding-right:30px;top:60px;bottom:110px;margin:1px 3px 0 30px;width:calc(100% - 63px)}#onetrust-pc-sdk .ot-vs-list .ot-always-active,#onetrust-pc-sdk .ot-cat-grp .ot-always-active{float:right;clear:none;color:#3860be;margin:0;font-size:.813em;line-height:1.3}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar-track{margin-right:20px}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar{width:11px}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar-thumb{border-radius:10px;background:#d8d8d8}#onetrust-pc-sdk input[type=checkbox]:focus+.ot-acc-hdr{outline:#000 1px solid}#onetrust-pc-sdk .ot-pc-scrollbar{scrollbar-arrow-color:#d8d8d8;scrollbar-darkshadow-color:#d8d8d8;scrollbar-face-color:#d8d8d8;scrollbar-shadow-color:#d8d8d8}#onetrust-pc-sdk .save-preference-btn-handler{margin-right:20px}#onetrust-pc-sdk .ot-pc-refuse-all-handler{margin-right:10px}#onetrust-pc-sdk #ot-pc-desc .privacy-notice-link{margin-left:0;margin-right:8px}#onetrust-pc-sdk #ot-pc-desc .ot-imprint-handler{margin-left:0;margin-right:8px}#onetrust-pc-sdk .ot-subgrp-cntr{display:inline-block;clear:both;width:100%;padding-top:15px}#onetrust-pc-sdk .ot-switch+.ot-subgrp-cntr{padding-top:10px}#onetrust-pc-sdk ul.ot-subgrps{margin:0;font-size:initial}#onetrust-pc-sdk ul.ot-subgrps li p,#onetrust-pc-sdk ul.ot-subgrps li h5{font-size:.813em;line-height:1.4;color:dimgray}#onetrust-pc-sdk ul.ot-subgrps .ot-switch{min-height:auto}#onetrust-pc-sdk ul.ot-subgrps .ot-switch-nob{top:0}#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr{display:inline-block;width:100%}#onetrust-pc-sdk ul.ot-subgrps .ot-acc-txt{margin:0}#onetrust-pc-sdk ul.ot-subgrps li{padding:0;border:none}#onetrust-pc-sdk ul.ot-subgrps li h5{position:relative;top:5px;font-weight:bold;margin-bottom:0;float:left}#onetrust-pc-sdk li.ot-subgrp{margin-left:20px;overflow:auto}#onetrust-pc-sdk li.ot-subgrp>h5{width:calc(100% - 100px)}#onetrust-pc-sdk .ot-cat-item p>ul,#onetrust-pc-sdk li.ot-subgrp p>ul{margin:0px;list-style:disc;margin-left:15px;font-size:inherit}#onetrust-pc-sdk .ot-cat-item p>ul li,#onetrust-pc-sdk li.ot-subgrp p>ul li{font-size:inherit;padding-top:10px;padding-left:0px;padding-right:0px;border:none}#onetrust-pc-sdk .ot-cat-item p>ul li:last-child,#onetrust-pc-sdk li.ot-subgrp p>ul li:last-child{padding-bottom:10px}#onetrust-pc-sdk .ot-pc-logo{height:40px;width:120px}#onetrust-pc-sdk .ot-pc-footer{position:absolute;bottom:0px;width:100%;max-height:160px;border-top:1px solid #d8d8d8}#onetrust-pc-sdk.ot-ftr-stacked .ot-pc-refuse-all-handler{margin-bottom:0px}#onetrust-pc-sdk.ot-ftr-stacked #ot-pc-content{bottom:160px}#onetrust-pc-sdk.ot-ftr-stacked .ot-pc-footer button{width:100%;max-width:none}#onetrust-pc-sdk.ot-ftr-stacked .ot-btn-container{margin:0 30px;width:calc(100% - 60px);padding-right:0}#onetrust-pc-sdk .ot-pc-footer-logo{height:30px;width:100%;text-align:right;background:#f4f4f4}#onetrust-pc-sdk .ot-pc-footer-logo a{display:inline-block;margin-top:5px;margin-right:10px}#onetrust-pc-sdk[dir=rtl] .ot-pc-footer-logo{direction:rtl}#onetrust-pc-sdk[dir=rtl] .ot-pc-footer-logo a{margin-right:25px}#onetrust-pc-sdk .ot-tgl{float:right;position:relative;z-index:1}#onetrust-pc-sdk .ot-tgl input:checked+.ot-switch .ot-switch-nob{background-color:#468254;border:1px solid #fff}#onetrust-pc-sdk .ot-tgl input:checked+.ot-switch .ot-switch-nob:before{-webkit-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);background-color:#fff;border-color:#fff}#onetrust-pc-sdk .ot-tgl input:focus+.ot-switch{outline:#000 solid 1px}#onetrust-pc-sdk .ot-switch{position:relative;display:inline-block;width:45px;height:25px}#onetrust-pc-sdk .ot-switch-nob{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#767676;border:1px solid #ddd;transition:all .2s ease-in 0s;-moz-transition:all .2s ease-in 0s;-o-transition:all .2s ease-in 0s;-webkit-transition:all .2s ease-in 0s;border-radius:20px}#onetrust-pc-sdk .ot-switch-nob:before{position:absolute;content:"";height:18px;width:18px;bottom:3px;left:3px;background-color:#fff;-webkit-transition:.4s;transition:.4s;border-radius:20px}#onetrust-pc-sdk .ot-chkbox input:checked~label::before{background-color:#3860be}#onetrust-pc-sdk .ot-chkbox input+label::after{content:none;color:#fff}#onetrust-pc-sdk .ot-chkbox input:checked+label::after{content:""}#onetrust-pc-sdk .ot-chkbox input:focus+label::before{outline-style:solid;outline-width:2px;outline-style:auto}#onetrust-pc-sdk .ot-chkbox label{position:relative;display:inline-block;padding-left:30px;cursor:pointer;font-weight:500}#onetrust-pc-sdk .ot-chkbox label::before,#onetrust-pc-sdk .ot-chkbox label::after{position:absolute;content:"";display:inline-block;border-radius:3px}#onetrust-pc-sdk .ot-chkbox label::before{height:18px;width:18px;border:1px solid #3860be;left:0px;top:auto}#onetrust-pc-sdk .ot-chkbox label::after{height:5px;width:9px;border-left:3px solid;border-bottom:3px solid;transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);left:4px;top:5px}#onetrust-pc-sdk .ot-label-txt{display:none}#onetrust-pc-sdk .ot-chkbox input,#onetrust-pc-sdk .ot-tgl input{position:absolute;opacity:0;width:0;height:0}#onetrust-pc-sdk .ot-arw-cntr{float:right;position:relative;pointer-events:none}#onetrust-pc-sdk .ot-arw-cntr .ot-arw{width:16px;height:16px;margin-left:5px;color:dimgray;display:inline-block;vertical-align:middle;-webkit-transition:all 150ms ease-in 0s;-moz-transition:all 150ms ease-in 0s;-o-transition:all 150ms ease-in 0s;transition:all 150ms ease-in 0s}#onetrust-pc-sdk input:checked~.ot-acc-hdr .ot-arw,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-arw-cntr svg{transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg)}#onetrust-pc-sdk input[type=checkbox]:focus+.ot-acc-hdr{outline:#000 1px solid}#onetrust-pc-sdk .ot-tgl-cntr,#onetrust-pc-sdk .ot-arw-cntr{display:inline-block}#onetrust-pc-sdk .ot-tgl-cntr{width:45px;float:right;margin-top:2px}#onetrust-pc-sdk #ot-lst-cnt .ot-tgl-cntr{margin-top:10px}#onetrust-pc-sdk .ot-always-active-subgroup{width:auto;padding-left:0px !important;top:3px;position:relative}#onetrust-pc-sdk .ot-label-status{padding-left:5px;font-size:.75em;display:none}#onetrust-pc-sdk .ot-arw-cntr{margin-top:-1px}#onetrust-pc-sdk .ot-arw-cntr svg{-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s;transition:all 300ms ease-in 0s;height:10px;width:10px}#onetrust-pc-sdk input:checked~.ot-acc-hdr .ot-arw{transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg)}#onetrust-pc-sdk .ot-arw{width:10px;margin-left:15px;transition:all 300ms ease-in 0s;-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s}#onetrust-pc-sdk .ot-vlst-cntr{margin-bottom:0}#onetrust-pc-sdk .ot-hlst-cntr{margin-top:5px;display:inline-block;width:100%}#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a,#onetrust-pc-sdk .category-host-list-handler{clear:both;color:#3860be;margin-left:0;font-size:.813em;text-decoration:none;float:left;overflow:hidden}#onetrust-pc-sdk .category-vendors-list-handler:hover,#onetrust-pc-sdk .category-vendors-list-handler+a:hover,#onetrust-pc-sdk .category-host-list-handler:hover{text-decoration-line:underline}#onetrust-pc-sdk .category-vendors-list-handler+a{clear:none}#onetrust-pc-sdk .ot-vlst-cntr .ot-ext-lnk,#onetrust-pc-sdk .ot-ven-hdr .ot-ext-lnk{display:inline-block;height:13px;width:13px;background-repeat:no-repeat;margin-left:1px;margin-top:6px;cursor:pointer}#onetrust-pc-sdk .ot-ven-hdr .ot-ext-lnk{margin-bottom:-1px}#onetrust-pc-sdk .back-btn-handler{font-size:1em;text-decoration:none}#onetrust-pc-sdk .back-btn-handler:hover{opacity:.6}#onetrust-pc-sdk #ot-lst-title h3{display:inline-block;word-break:break-word;word-wrap:break-word;margin-bottom:0;color:#656565;font-size:1em;font-weight:bold;margin-left:15px}#onetrust-pc-sdk #ot-lst-title{margin:10px 0 10px 0px;font-size:1em;text-align:left}#onetrust-pc-sdk #ot-pc-hdr{margin:0 0 0 30px;height:auto;width:auto}#onetrust-pc-sdk #ot-pc-hdr input::placeholder{color:#d4d4d4;font-style:italic}#onetrust-pc-sdk #vendor-search-handler{height:31px;width:100%;border-radius:50px;font-size:.8em;padding-right:35px;padding-left:15px;float:left;margin-left:15px}#onetrust-pc-sdk .ot-ven-name{display:block;width:auto;padding-right:5px}#onetrust-pc-sdk #ot-lst-cnt{overflow-y:auto;margin-left:20px;margin-right:7px;width:calc(100% - 27px);max-height:calc(100% - 80px);height:100%;transform:translate3d(0, 0, 0)}#onetrust-pc-sdk #ot-pc-lst{width:100%;bottom:100px;position:absolute;top:60px}#onetrust-pc-sdk #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr .ot-arw-cntr,#onetrust-pc-sdk #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr .ot-arw-cntr *{visibility:hidden}#onetrust-pc-sdk #ot-pc-lst .ot-tgl-cntr{right:12px;position:absolute}#onetrust-pc-sdk #ot-pc-lst .ot-arw-cntr{float:right;position:relative}#onetrust-pc-sdk #ot-pc-lst .ot-arw{margin-left:10px}#onetrust-pc-sdk #ot-pc-lst .ot-acc-hdr{overflow:hidden;cursor:pointer}#onetrust-pc-sdk .ot-vlst-cntr{overflow:hidden}#onetrust-pc-sdk #ot-sel-blk{overflow:hidden;width:100%;position:sticky;position:-webkit-sticky;top:0;z-index:3}#onetrust-pc-sdk #ot-back-arw{height:12px;width:12px}#onetrust-pc-sdk .ot-lst-subhdr{width:100%;display:inline-block}#onetrust-pc-sdk .ot-search-cntr{float:left;width:78%;position:relative}#onetrust-pc-sdk .ot-search-cntr>svg{width:30px;height:30px;position:absolute;float:left;right:-15px}#onetrust-pc-sdk .ot-fltr-cntr{float:right;right:50px;position:relative}#onetrust-pc-sdk #filter-btn-handler{background-color:#3860be;border-radius:17px;display:inline-block;position:relative;width:32px;height:32px;-moz-transition:.1s ease;-o-transition:.1s ease;-webkit-transition:1s ease;transition:.1s ease;padding:0;margin:0}#onetrust-pc-sdk #filter-btn-handler:hover{background-color:#3860be}#onetrust-pc-sdk #filter-btn-handler svg{width:12px;height:12px;margin:3px 10px 0 10px;display:block;position:static;right:auto;top:auto}#onetrust-pc-sdk .ot-ven-link,#onetrust-pc-sdk .ot-ven-legclaim-link{color:#3860be;text-decoration:none;font-weight:100;display:inline-block;padding-top:10px;transform:translate(0, 1%);-o-transform:translate(0, 1%);-ms-transform:translate(0, 1%);-webkit-transform:translate(0, 1%);position:relative;z-index:2}#onetrust-pc-sdk .ot-ven-link *,#onetrust-pc-sdk .ot-ven-legclaim-link *{font-size:inherit}#onetrust-pc-sdk .ot-ven-link:hover,#onetrust-pc-sdk .ot-ven-legclaim-link:hover{text-decoration:underline}#onetrust-pc-sdk .ot-ven-hdr{width:calc(100% - 160px);height:auto;float:left;word-break:break-word;word-wrap:break-word;vertical-align:middle;padding-bottom:3px}#onetrust-pc-sdk .ot-ven-link,#onetrust-pc-sdk .ot-ven-legclaim-link{letter-spacing:.03em;font-size:.75em;font-weight:400}#onetrust-pc-sdk .ot-ven-dets{border-radius:2px;background-color:#f8f8f8}#onetrust-pc-sdk .ot-ven-dets li:first-child p:first-child{border-top:none}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:not(:first-child){border-top:1px solid #ddd !important}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p{display:inline-block}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p:nth-of-type(odd){width:30%}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p:nth-of-type(even){width:50%;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc p,#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc h4{padding-top:5px;padding-bottom:5px;display:block}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc h4{display:inline-block}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc p:nth-last-child(-n+1){padding-bottom:10px}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc p:nth-child(-n+2):not(.disc-pur){padding-top:10px}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc .disc-pur-cont{display:inline}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc .disc-pur{position:relative;width:50% !important;word-break:break-word;word-wrap:break-word;left:calc(30% + 17px)}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc .disc-pur:nth-child(-n+1){position:static}#onetrust-pc-sdk .ot-ven-dets p,#onetrust-pc-sdk .ot-ven-dets h4,#onetrust-pc-sdk .ot-ven-dets span{font-size:.69em;text-align:left;vertical-align:middle;word-break:break-word;word-wrap:break-word;margin:0;padding-bottom:10px;padding-left:15px;color:#2e3644}#onetrust-pc-sdk .ot-ven-dets h4{padding-top:5px}#onetrust-pc-sdk .ot-ven-dets span{color:dimgray;padding:0;vertical-align:baseline}#onetrust-pc-sdk .ot-ven-dets .ot-ven-pur h4{border-top:1px solid #e9e9e9;border-bottom:1px solid #e9e9e9;padding-bottom:5px;margin-bottom:5px;font-weight:bold}#onetrust-pc-sdk #ot-host-lst .ot-sel-all{float:right;position:relative;margin-right:42px;top:10px}#onetrust-pc-sdk #ot-host-lst .ot-sel-all input[type=checkbox]{width:auto;height:auto}#onetrust-pc-sdk #ot-host-lst .ot-sel-all label{height:20px;width:20px;padding-left:0px}#onetrust-pc-sdk #ot-host-lst .ot-acc-txt{overflow:hidden;width:95%}#onetrust-pc-sdk .ot-host-hdr{position:relative;z-index:1;pointer-events:none;width:calc(100% - 125px);float:left}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-desc{display:inline-block;width:90%}#onetrust-pc-sdk .ot-host-name{pointer-events:none}#onetrust-pc-sdk .ot-host-hdr>a{text-decoration:underline;font-size:.82em;position:relative;z-index:2;float:left;margin-bottom:5px;pointer-events:initial}#onetrust-pc-sdk .ot-host-name+a{margin-top:5px}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-name a,#onetrust-pc-sdk .ot-host-desc,#onetrust-pc-sdk .ot-host-info{color:dimgray;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-name a{font-weight:bold;font-size:.82em;line-height:1.3}#onetrust-pc-sdk .ot-host-name a{font-size:1em}#onetrust-pc-sdk .ot-host-expand{margin-top:3px;margin-bottom:3px;clear:both;display:block;color:#3860be;font-size:.72em;font-weight:normal}#onetrust-pc-sdk .ot-host-expand *{font-size:inherit}#onetrust-pc-sdk .ot-host-desc,#onetrust-pc-sdk .ot-host-info{font-size:.688em;line-height:1.4;font-weight:normal}#onetrust-pc-sdk .ot-host-desc{margin-top:10px}#onetrust-pc-sdk .ot-host-opt{margin:0;font-size:inherit;display:inline-block;width:100%}#onetrust-pc-sdk .ot-host-opt li>div div{font-size:.8em;padding:5px 0}#onetrust-pc-sdk .ot-host-opt li>div div:nth-child(1){width:30%;float:left}#onetrust-pc-sdk .ot-host-opt li>div div:nth-child(2){width:70%;float:left;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-host-info{border:none;display:inline-block;width:calc(100% - 10px);padding:10px;margin-bottom:10px;background-color:#f8f8f8}#onetrust-pc-sdk .ot-host-info>div{overflow:auto}#onetrust-pc-sdk #no-results{text-align:center;margin-top:30px}#onetrust-pc-sdk #no-results p{font-size:1em;color:#2e3644;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk #no-results p span{font-weight:bold}#onetrust-pc-sdk #ot-fltr-modal{width:100%;height:auto;display:none;-moz-transition:.2s ease;-o-transition:.2s ease;-webkit-transition:2s ease;transition:.2s ease;overflow:hidden;opacity:1;right:0}#onetrust-pc-sdk #ot-fltr-modal .ot-label-txt{display:inline-block;font-size:.85em;color:dimgray}#onetrust-pc-sdk #ot-fltr-cnt{z-index:2147483646;background-color:#fff;position:absolute;height:90%;max-height:300px;width:325px;left:210px;margin-top:10px;margin-bottom:20px;padding-right:10px;border-radius:3px;-webkit-box-shadow:0px 0px 12px 2px #c7c5c7;-moz-box-shadow:0px 0px 12px 2px #c7c5c7;box-shadow:0px 0px 12px 2px #c7c5c7}#onetrust-pc-sdk .ot-fltr-scrlcnt{overflow-y:auto;overflow-x:hidden;clear:both;max-height:calc(100% - 60px)}#onetrust-pc-sdk #ot-anchor{border:12px solid rgba(0,0,0,0);display:none;position:absolute;z-index:2147483647;right:55px;top:75px;transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);background-color:#fff;-webkit-box-shadow:-3px -3px 5px -2px #c7c5c7;-moz-box-shadow:-3px -3px 5px -2px #c7c5c7;box-shadow:-3px -3px 5px -2px #c7c5c7}#onetrust-pc-sdk .ot-fltr-btns{margin-left:15px}#onetrust-pc-sdk #filter-apply-handler{margin-right:15px}#onetrust-pc-sdk .ot-fltr-opt{margin-bottom:25px;margin-left:15px;width:75%;position:relative}#onetrust-pc-sdk .ot-fltr-opt p{display:inline-block;margin:0;font-size:.9em;color:#2e3644}#onetrust-pc-sdk .ot-chkbox label span{font-size:.85em;color:dimgray}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]+label::after{content:none;color:#fff}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]:checked+label::after{content:""}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]:focus+label::before{outline-style:solid;outline-width:2px;outline-style:auto}#onetrust-pc-sdk #ot-selall-vencntr,#onetrust-pc-sdk #ot-selall-adtlvencntr,#onetrust-pc-sdk #ot-selall-hostcntr,#onetrust-pc-sdk #ot-selall-licntr,#onetrust-pc-sdk #ot-selall-gnvencntr{right:15px;position:relative;width:20px;height:20px;float:right}#onetrust-pc-sdk #ot-selall-vencntr label,#onetrust-pc-sdk #ot-selall-adtlvencntr label,#onetrust-pc-sdk #ot-selall-hostcntr label,#onetrust-pc-sdk #ot-selall-licntr label,#onetrust-pc-sdk #ot-selall-gnvencntr label{float:left;padding-left:0}#onetrust-pc-sdk #ot-ven-lst:first-child{border-top:1px solid #e2e2e2}#onetrust-pc-sdk ul{list-style:none;padding:0}#onetrust-pc-sdk ul li{position:relative;margin:0;padding:15px 15px 15px 10px;border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk ul li h3{font-size:.75em;color:#656565;margin:0;display:inline-block;width:70%;height:auto;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk ul li p{margin:0;font-size:.7em}#onetrust-pc-sdk ul li input[type=checkbox]{position:absolute;cursor:pointer;width:100%;height:100%;opacity:0;margin:0;top:0;left:0}#onetrust-pc-sdk .ot-cat-item>button:focus,#onetrust-pc-sdk .ot-acc-cntr>button:focus,#onetrust-pc-sdk li>button:focus{outline:#000 solid 2px}#onetrust-pc-sdk .ot-cat-item>button,#onetrust-pc-sdk .ot-acc-cntr>button,#onetrust-pc-sdk li>button{position:absolute;cursor:pointer;width:100%;height:100%;margin:0;top:0;left:0;z-index:1;max-width:none;border:none}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=false]~.ot-acc-txt,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=false]~.ot-acc-txt,#onetrust-pc-sdk li>button[aria-expanded=false]~.ot-acc-txt{margin-top:0;max-height:0;opacity:0;overflow:hidden;width:100%;transition:.25s ease-out;display:none}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=true]~.ot-acc-txt,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=true]~.ot-acc-txt,#onetrust-pc-sdk li>button[aria-expanded=true]~.ot-acc-txt{transition:.1s ease-in;margin-top:10px;width:100%;overflow:auto;display:block}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=true]~.ot-acc-grpcntr,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=true]~.ot-acc-grpcntr,#onetrust-pc-sdk li>button[aria-expanded=true]~.ot-acc-grpcntr{width:auto;margin-top:0px;padding-bottom:10px}#onetrust-pc-sdk .ot-host-item>button:focus,#onetrust-pc-sdk .ot-ven-item>button:focus{outline:0;border:2px solid #000}#onetrust-pc-sdk .ot-hide-acc>button{pointer-events:none}#onetrust-pc-sdk .ot-hide-acc .ot-plus-minus>*,#onetrust-pc-sdk .ot-hide-acc .ot-arw-cntr>*{visibility:hidden}#onetrust-pc-sdk .ot-hide-acc .ot-acc-hdr{min-height:30px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt){padding-right:10px;width:calc(100% - 37px);margin-top:10px;max-height:calc(100% - 90px)}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk{background-color:#f9f9fc;border:1px solid #e2e2e2;width:calc(100% - 2px);padding-bottom:5px;padding-top:5px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk.ot-vnd-list-cnt{border:unset;background-color:unset}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk.ot-vnd-list-cnt .ot-sel-all-hdr{display:none}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk.ot-vnd-list-cnt .ot-sel-all{padding-right:.5rem}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk.ot-vnd-list-cnt .ot-sel-all .ot-chkbox{right:0}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-sel-all{padding-right:34px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-sel-all-chkbox{width:auto}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) ul li{border:1px solid #e2e2e2;margin-bottom:10px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-acc-cntr>.ot-acc-hdr{padding:10px 0 10px 15px}#onetrust-pc-sdk.ot-addtl-vendors .ot-sel-all-chkbox{float:right}#onetrust-pc-sdk.ot-addtl-vendors .ot-plus-minus~.ot-sel-all-chkbox{right:34px}#onetrust-pc-sdk.ot-addtl-vendors #ot-ven-lst:first-child{border-top:none}#onetrust-pc-sdk .ot-acc-cntr{position:relative;border-left:1px solid #e2e2e2;border-right:1px solid #e2e2e2;border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk .ot-acc-cntr input{z-index:1}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr{background-color:#f9f9fc;padding:5px 0 5px 15px;width:auto}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr .ot-plus-minus{vertical-align:middle;top:auto}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr .ot-arw-cntr{right:10px}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr input{z-index:2}#onetrust-pc-sdk .ot-acc-cntr.ot-add-tech .ot-acc-hdr{padding:10px 0 10px 15px}#onetrust-pc-sdk .ot-acc-cntr>input[type=checkbox]:checked~.ot-acc-hdr{border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-txt{padding-left:10px;padding-right:10px}#onetrust-pc-sdk .ot-acc-cntr button[aria-expanded=true]~.ot-acc-txt{width:auto}#onetrust-pc-sdk .ot-acc-cntr .ot-addtl-venbox{display:none}#onetrust-pc-sdk .ot-vlst-cntr{margin-bottom:0;width:100%}#onetrust-pc-sdk .ot-vensec-title{font-size:.813em;vertical-align:middle;display:inline-block}#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a{margin-left:0;margin-top:10px}#onetrust-pc-sdk #ot-selall-vencntr.line-through label::after,#onetrust-pc-sdk #ot-selall-adtlvencntr.line-through label::after,#onetrust-pc-sdk #ot-selall-licntr.line-through label::after,#onetrust-pc-sdk #ot-selall-hostcntr.line-through label::after,#onetrust-pc-sdk #ot-selall-gnvencntr.line-through label::after{height:auto;border-left:0;transform:none;-o-transform:none;-ms-transform:none;-webkit-transform:none;left:5px;top:9px}#onetrust-pc-sdk #ot-category-title{float:left;padding-bottom:10px;font-size:1em;width:100%}#onetrust-pc-sdk .ot-cat-grp{margin-top:10px}#onetrust-pc-sdk .ot-cat-item{line-height:1.1;margin-top:10px;display:inline-block;width:100%}#onetrust-pc-sdk .ot-btn-container{text-align:right}#onetrust-pc-sdk .ot-btn-container button{display:inline-block;font-size:.75em;letter-spacing:.08em;margin-top:19px}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon{position:absolute;top:10px;right:0;z-index:1;padding:0;background-color:rgba(0,0,0,0);border:none}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon svg{display:block;height:10px;width:10px}#onetrust-pc-sdk #clear-filters-handler{margin-top:20px;margin-bottom:10px;float:right;max-width:200px;text-decoration:none;color:#3860be;font-size:.9em;font-weight:bold;background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0);padding:1px}#onetrust-pc-sdk #clear-filters-handler:hover{color:#2285f7}#onetrust-pc-sdk #clear-filters-handler:focus{outline:#000 solid 1px}#onetrust-pc-sdk .ot-enbl-chr h4~.ot-tgl,#onetrust-pc-sdk .ot-enbl-chr h4~.ot-always-active{right:45px}#onetrust-pc-sdk .ot-enbl-chr h4~.ot-tgl+.ot-tgl{right:120px}#onetrust-pc-sdk .ot-enbl-chr .ot-pli-hdr.ot-leg-border-color span:first-child{width:90px}#onetrust-pc-sdk .ot-enbl-chr li.ot-subgrp>h5+.ot-tgl-cntr{padding-right:25px}#onetrust-pc-sdk .ot-plus-minus{width:20px;height:20px;font-size:1.5em;position:relative;display:inline-block;margin-right:5px;top:3px}#onetrust-pc-sdk .ot-plus-minus span{position:absolute;background:#27455c;border-radius:1px}#onetrust-pc-sdk .ot-plus-minus span:first-of-type{top:25%;bottom:25%;width:10%;left:45%}#onetrust-pc-sdk .ot-plus-minus span:last-of-type{left:25%;right:25%;height:10%;top:45%}#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-arw,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:first-of-type,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:last-of-type{transform:rotate(90deg)}#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:last-of-type{left:50%;right:50%}#onetrust-pc-sdk #ot-selall-vencntr label,#onetrust-pc-sdk #ot-selall-adtlvencntr label,#onetrust-pc-sdk #ot-selall-hostcntr label,#onetrust-pc-sdk #ot-selall-licntr label{position:relative;display:inline-block;width:20px;height:20px}#onetrust-pc-sdk .ot-host-item .ot-plus-minus,#onetrust-pc-sdk .ot-ven-item .ot-plus-minus{float:left;margin-right:8px;top:10px}#onetrust-pc-sdk .ot-ven-item ul{list-style:none inside;font-size:100%;margin:0}#onetrust-pc-sdk .ot-ven-item ul li{margin:0 !important;padding:0;border:none !important}#onetrust-pc-sdk .ot-pli-hdr{color:#77808e;overflow:hidden;padding-top:7.5px;padding-bottom:7.5px;width:calc(100% - 2px);border-top-left-radius:3px;border-top-right-radius:3px}#onetrust-pc-sdk .ot-pli-hdr span:first-child{top:50%;transform:translateY(50%);max-width:90px}#onetrust-pc-sdk .ot-pli-hdr span:last-child{padding-right:10px;max-width:95px;text-align:center}#onetrust-pc-sdk .ot-li-title{float:right;font-size:.813em}#onetrust-pc-sdk .ot-pli-hdr.ot-leg-border-color{background-color:#f4f4f4;border:1px solid #d8d8d8}#onetrust-pc-sdk .ot-pli-hdr.ot-leg-border-color span:first-child{text-align:left;width:70px}#onetrust-pc-sdk li.ot-subgrp>h5,#onetrust-pc-sdk .ot-cat-header{width:calc(100% - 130px)}#onetrust-pc-sdk li.ot-subgrp>h5+.ot-tgl-cntr{padding-left:13px}#onetrust-pc-sdk .ot-acc-grpcntr .ot-acc-grpdesc{margin-bottom:5px}#onetrust-pc-sdk .ot-acc-grpcntr .ot-subgrp-cntr{border-top:1px solid #d8d8d8}#onetrust-pc-sdk .ot-acc-grpcntr .ot-vlst-cntr+.ot-subgrp-cntr{border-top:none}#onetrust-pc-sdk .ot-acc-hdr .ot-arw-cntr+.ot-tgl-cntr,#onetrust-pc-sdk .ot-acc-txt h4+.ot-tgl-cntr{padding-left:13px}#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-subgrp>h5,#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-cat-header{width:calc(100% - 145px)}#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item h5+.ot-tgl-cntr,#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-cat-header+.ot-tgl{padding-left:28px}#onetrust-pc-sdk .ot-sel-all-hdr,#onetrust-pc-sdk .ot-sel-all-chkbox{display:inline-block;width:100%;position:relative}#onetrust-pc-sdk .ot-sel-all-chkbox{z-index:1}#onetrust-pc-sdk .ot-sel-all{margin:0;position:relative;padding-right:23px;float:right}#onetrust-pc-sdk .ot-consent-hdr,#onetrust-pc-sdk .ot-li-hdr{float:right;font-size:.812em;line-height:normal;text-align:center;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-li-hdr{max-width:100px;padding-right:10px}#onetrust-pc-sdk .ot-consent-hdr{max-width:55px}#onetrust-pc-sdk #ot-selall-licntr{display:block;width:21px;height:auto;float:right;position:relative;right:80px}#onetrust-pc-sdk #ot-selall-licntr label{position:absolute}#onetrust-pc-sdk .ot-ven-ctgl{margin-left:66px}#onetrust-pc-sdk .ot-ven-litgl+.ot-arw-cntr{margin-left:81px}#onetrust-pc-sdk .ot-enbl-chr .ot-host-cnt .ot-tgl-cntr{width:auto}#onetrust-pc-sdk #ot-lst-cnt:not(.ot-host-cnt) .ot-tgl-cntr{width:auto;top:auto;height:20px}#onetrust-pc-sdk #ot-lst-cnt .ot-chkbox{position:relative;display:inline-block;width:20px;height:20px}#onetrust-pc-sdk #ot-lst-cnt .ot-chkbox label{position:absolute;padding:0;width:20px;height:20px}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info-cntr{border:1px solid #d8d8d8;padding:.75rem 2rem;padding-bottom:0;width:auto;margin-top:.5rem}#onetrust-pc-sdk .ot-acc-grpdesc+.ot-leg-btn-container{padding-left:20px;padding-right:20px;width:calc(100% - 40px);margin-bottom:5px}#onetrust-pc-sdk .ot-subgrp .ot-leg-btn-container{margin-bottom:5px}#onetrust-pc-sdk #ot-ven-lst .ot-leg-btn-container{margin-top:10px}#onetrust-pc-sdk .ot-leg-btn-container{display:inline-block;width:100%;margin-bottom:10px}#onetrust-pc-sdk .ot-leg-btn-container button{height:auto;padding:6.5px 8px;margin-bottom:0;letter-spacing:0;font-size:.75em;line-height:normal}#onetrust-pc-sdk .ot-leg-btn-container svg{display:none;height:14px;width:14px;padding-right:5px;vertical-align:sub}#onetrust-pc-sdk .ot-active-leg-btn{cursor:default;pointer-events:none}#onetrust-pc-sdk .ot-active-leg-btn svg{display:inline-block}#onetrust-pc-sdk .ot-remove-objection-handler{text-decoration:underline;padding:0;font-size:.75em;font-weight:600;line-height:1;padding-left:10px}#onetrust-pc-sdk .ot-obj-leg-btn-handler span{font-weight:bold;text-align:center;font-size:inherit;line-height:1.5}#onetrust-pc-sdk.ot-close-btn-link #close-pc-btn-handler{border:none;height:auto;line-height:1.5;text-decoration:underline;font-size:.69em;background:none;right:15px;top:15px;width:auto;font-weight:normal}#onetrust-pc-sdk .ot-pgph-link{font-size:.813em !important;margin-top:5px;position:relative}#onetrust-pc-sdk .ot-pgph-link.ot-pgph-link-subgroup{margin-bottom:1rem}#onetrust-pc-sdk .ot-pgph-contr{margin:0 2.5rem}#onetrust-pc-sdk .ot-pgph-title{font-size:1.18rem;margin-bottom:2rem}#onetrust-pc-sdk .ot-pgph-desc{font-size:1rem;font-weight:400;margin-bottom:2rem;line-height:1.5rem}#onetrust-pc-sdk .ot-pgph-desc:not(:last-child):after{content:"";width:96%;display:block;margin:0 auto;padding-bottom:2rem;border-bottom:1px solid #e9e9e9}#onetrust-pc-sdk .ot-cat-header{float:left;font-weight:600;font-size:.875em;line-height:1.5;max-width:90%;vertical-align:middle}#onetrust-pc-sdk .ot-vnd-item>button:focus{outline:#000 solid 2px}#onetrust-pc-sdk .ot-vnd-item>button{position:absolute;cursor:pointer;width:100%;height:100%;margin:0;top:0;left:0;z-index:1;max-width:none;border:none}#onetrust-pc-sdk .ot-vnd-item>button[aria-expanded=false]~.ot-acc-txt{margin-top:0;max-height:0;opacity:0;overflow:hidden;width:100%;transition:.25s ease-out;display:none}#onetrust-pc-sdk .ot-vnd-item>button[aria-expanded=true]~.ot-acc-txt{transition:.1s ease-in;margin-top:10px;width:100%;overflow:auto;display:block}#onetrust-pc-sdk .ot-vnd-item>button[aria-expanded=true]~.ot-acc-grpcntr{width:auto;margin-top:0px;padding-bottom:10px}#onetrust-pc-sdk .ot-accordion-layout.ot-cat-item{position:relative;border-radius:2px;margin:0;padding:0;border:1px solid #d8d8d8;border-top:none;width:calc(100% - 2px);float:left}#onetrust-pc-sdk .ot-accordion-layout.ot-cat-item:first-of-type{margin-top:10px;border-top:1px solid #d8d8d8}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc{padding-left:20px;padding-right:20px;width:calc(100% - 40px);font-size:.812em;margin-bottom:10px;margin-top:15px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc>ul{padding-top:10px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc>ul li{padding-top:0;line-height:1.5;padding-bottom:10px}#onetrust-pc-sdk .ot-accordion-layout div+.ot-acc-grpdesc{margin-top:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr:first-child{margin-top:10px}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr:last-child,#onetrust-pc-sdk .ot-accordion-layout .ot-hlst-cntr:last-child{margin-bottom:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-hdr{padding-top:11.5px;padding-bottom:11.5px;padding-left:20px;padding-right:20px;width:calc(100% - 40px);display:inline-block}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-txt{width:100%;padding:0}#onetrust-pc-sdk .ot-accordion-layout .ot-subgrp-cntr{padding-left:20px;padding-right:15px;padding-bottom:0;width:calc(100% - 35px)}#onetrust-pc-sdk .ot-accordion-layout .ot-subgrp{padding-right:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpcntr{z-index:1;position:relative}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header+.ot-arw-cntr{position:absolute;top:50%;transform:translateY(-50%);right:20px;margin-top:-2px}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header+.ot-arw-cntr .ot-arw{width:15px;height:20px;margin-left:5px;color:dimgray}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header{float:none;color:#2e3644;margin:0;display:inline-block;height:auto;word-wrap:break-word;min-height:inherit}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr,#onetrust-pc-sdk .ot-accordion-layout .ot-hlst-cntr{padding-left:20px;width:calc(100% - 20px);display:inline-block;margin-top:0;padding-bottom:2px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-hdr{position:relative;min-height:25px}#onetrust-pc-sdk .ot-accordion-layout h4~.ot-tgl,#onetrust-pc-sdk .ot-accordion-layout h4~.ot-always-active{position:absolute;top:50%;transform:translateY(-50%);right:20px}#onetrust-pc-sdk .ot-accordion-layout h4~.ot-tgl+.ot-tgl{right:95px}#onetrust-pc-sdk .ot-accordion-layout .category-vendors-list-handler,#onetrust-pc-sdk .ot-accordion-layout .category-vendors-list-handler+a{margin-top:5px}#onetrust-pc-sdk #ot-lst-cnt{margin-top:1rem;max-height:calc(100% - 96px)}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info-cntr{border:1px solid #d8d8d8;padding:.75rem 2rem;padding-bottom:0;width:auto;margin-top:.5rem}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info{margin-bottom:1rem;padding-left:.75rem;padding-right:.75rem;display:flex;flex-direction:column}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info[data-vnd-info-key*=DPOEmail]{border-top:1px solid #d8d8d8;padding-top:1rem}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info[data-vnd-info-key*=DPOLink]{border-bottom:1px solid #d8d8d8;padding-bottom:1rem}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info .ot-vnd-lbl{font-weight:bold;font-size:.85em;margin-bottom:.5rem}#onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info .ot-vnd-cnt{margin-left:.5rem;font-weight:500;font-size:.85rem}#onetrust-pc-sdk .ot-vs-list,#onetrust-pc-sdk .ot-vnd-serv{width:auto;padding:1rem 1.25rem;padding-bottom:0}#onetrust-pc-sdk .ot-vs-list .ot-vnd-serv-hdr-cntr,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-serv-hdr-cntr{padding-bottom:.75rem;border-bottom:1px solid #d8d8d8}#onetrust-pc-sdk .ot-vs-list .ot-vnd-serv-hdr-cntr .ot-vnd-serv-hdr,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-serv-hdr-cntr .ot-vnd-serv-hdr{font-weight:600;font-size:.95em;line-height:2;margin-left:.5rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item{border:none;margin:0;padding:0}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item button,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item button{outline:none;border-bottom:1px solid #d8d8d8}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item button[aria-expanded=true],#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item button[aria-expanded=true]{border-bottom:none}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item:first-child,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item:first-child{margin-top:.25rem;border-top:unset}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item:last-child,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item:last-child{margin-bottom:.5rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item:last-child button,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item:last-child button{border-bottom:none}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info-cntr,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info-cntr{border:1px solid #d8d8d8;padding:.75rem 1.75rem;padding-bottom:0;width:auto;margin-top:.5rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info{margin-bottom:1rem;padding-left:.75rem;padding-right:.75rem;display:flex;flex-direction:column}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info[data-vnd-info-key*=DPOEmail],#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info[data-vnd-info-key*=DPOEmail]{border-top:1px solid #d8d8d8;padding-top:1rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info[data-vnd-info-key*=DPOLink],#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info[data-vnd-info-key*=DPOLink]{border-bottom:1px solid #d8d8d8;padding-bottom:1rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info .ot-vnd-lbl,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info .ot-vnd-lbl{font-weight:bold;font-size:.85em;margin-bottom:.5rem}#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-vnd-info .ot-vnd-cnt,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info .ot-vnd-cnt{margin-left:.5rem;font-weight:500;font-size:.85rem}#onetrust-pc-sdk .ot-vs-list.ot-vnd-subgrp-cnt,#onetrust-pc-sdk .ot-vnd-serv.ot-vnd-subgrp-cnt{padding-left:40px}#onetrust-pc-sdk .ot-vs-list.ot-vnd-subgrp-cnt .ot-vnd-serv-hdr-cntr .ot-vnd-serv-hdr,#onetrust-pc-sdk .ot-vnd-serv.ot-vnd-subgrp-cnt .ot-vnd-serv-hdr-cntr .ot-vnd-serv-hdr{font-size:.8em}#onetrust-pc-sdk .ot-vs-list.ot-vnd-subgrp-cnt .ot-cat-header,#onetrust-pc-sdk .ot-vnd-serv.ot-vnd-subgrp-cnt .ot-cat-header{font-size:.8em}#onetrust-pc-sdk .ot-subgrp-cntr .ot-vnd-serv{margin-bottom:1rem;padding:1rem .95rem}#onetrust-pc-sdk .ot-subgrp-cntr .ot-vnd-serv .ot-vnd-serv-hdr-cntr{padding-bottom:.75rem;border-bottom:1px solid #d8d8d8}#onetrust-pc-sdk .ot-subgrp-cntr .ot-vnd-serv .ot-vnd-serv-hdr-cntr .ot-vnd-serv-hdr{font-weight:700;font-size:.8em;line-height:20px;margin-left:.82rem}#onetrust-pc-sdk .ot-subgrp-cntr .ot-cat-header{font-weight:700;font-size:.8em;line-height:20px}#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-vnd-serv .ot-vnd-lst-cont .ot-accordion-layout .ot-acc-hdr div.ot-chkbox{margin-left:.82rem}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr{padding:.7rem 0;margin:0;display:flex;width:100%;align-items:center;justify-content:space-between}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr div:first-child,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr div:first-child,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr div:first-child,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr div:first-child,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr div:first-child,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr div:first-child,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr div:first-child{margin-left:.5rem}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr div:last-child,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr div:last-child,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr div:last-child,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr div:last-child,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr div:last-child,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr div:last-child,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr div:last-child{margin-right:.5rem;margin-left:.5rem}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-always-active,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-always-active{position:relative;right:unset;top:unset;transform:unset}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-plus-minus,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-plus-minus{top:0}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-arw-cntr,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-arw-cntr{float:none;top:unset;right:unset;transform:unset;margin-top:-2px;position:relative}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-cat-header,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-cat-header{flex:1;margin:0 .5rem}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-tgl,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-tgl{position:relative;transform:none;right:0;top:0;float:none}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-chkbox{position:relative;margin:0 .5rem}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox label,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-chkbox label{padding:0}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox label::before,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-chkbox label::before{position:relative}#onetrust-pc-sdk .ot-vs-config .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk #ot-pc-lst .ot-vs-list .ot-vnd-item .ot-acc-hdr .ot-chkbox input,#onetrust-pc-sdk .ot-accordion-layout.ot-checkbox-consent .ot-acc-hdr .ot-chkbox input{position:absolute;cursor:pointer;width:100%;height:100%;opacity:0;margin:0;top:0;left:0;z-index:1}#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps li.ot-subgrp .ot-acc-hdr h5.ot-cat-header,#onetrust-pc-sdk .ot-subgrp-cntr ul.ot-subgrps li.ot-subgrp .ot-acc-hdr h4.ot-cat-header{margin:0}#onetrust-pc-sdk .ot-vs-config .ot-subgrp-cntr ul.ot-subgrps li.ot-subgrp h5{top:0;line-height:20px}#onetrust-pc-sdk .ot-vs-list{display:flex;flex-direction:column;padding:0;margin:.5rem 4px}#onetrust-pc-sdk .ot-vs-selc-all{display:flex;padding:0;float:unset;align-items:center;justify-content:flex-start}#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf{justify-content:flex-end}#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf.ot-caret-conf .ot-sel-all-chkbox{margin-right:48px}#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf .ot-sel-all-chkbox{margin:0;padding:0;margin-right:14px;justify-content:flex-end}#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf #ot-selall-vencntr.ot-chkbox,#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf #ot-selall-vencntr.ot-tgl{display:inline-block;right:unset;width:auto;height:auto;float:none}#onetrust-pc-sdk .ot-vs-selc-all.ot-toggle-conf #ot-selall-vencntr label{width:45px;height:25px}#onetrust-pc-sdk .ot-vs-selc-all .ot-sel-all-chkbox{margin-right:11px;margin-left:.75rem;display:flex;align-items:center}#onetrust-pc-sdk .ot-vs-selc-all .sel-all-hdr{margin:0 1.25rem;font-size:.812em;line-height:normal;text-align:center;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-vnd-list-cnt #ot-selall-vencntr.ot-chkbox{float:unset;right:0}#onetrust-pc-sdk[dir=rtl] #ot-back-arw,#onetrust-pc-sdk[dir=rtl] input~.ot-acc-hdr .ot-arw{transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg)}#onetrust-pc-sdk[dir=rtl] input:checked~.ot-acc-hdr .ot-arw{transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg);-webkit-transform:rotate(270deg)}#onetrust-pc-sdk[dir=rtl] .ot-chkbox label::after{transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-left:0;border-right:3px solid}#onetrust-pc-sdk[dir=rtl] .ot-search-cntr>svg{right:0}@media only screen and (max-width: 600px){#onetrust-pc-sdk.otPcCenter{left:0;min-width:100%;height:100%;top:0;border-radius:0}#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk.ot-ftr-stacked .ot-btn-container{margin:1px 3px 0 10px;padding-right:10px;width:calc(100% - 23px)}#onetrust-pc-sdk .ot-btn-container button{max-width:none;letter-spacing:.01em}#onetrust-pc-sdk #close-pc-btn-handler{top:10px;right:17px}#onetrust-pc-sdk p{font-size:.7em}#onetrust-pc-sdk #ot-pc-hdr{margin:10px 10px 0 5px;width:calc(100% - 15px)}#onetrust-pc-sdk .vendor-search-handler{font-size:1em}#onetrust-pc-sdk #ot-back-arw{margin-left:12px}#onetrust-pc-sdk #ot-lst-cnt{margin:0;padding:0 5px 0 10px;min-width:95%}#onetrust-pc-sdk .switch+p{max-width:80%}#onetrust-pc-sdk .ot-ftr-stacked button{width:100%}#onetrust-pc-sdk #ot-fltr-cnt{max-width:320px;width:90%;border-top-right-radius:0;border-bottom-right-radius:0;margin:0;margin-left:15px;left:auto;right:40px;top:85px}#onetrust-pc-sdk .ot-fltr-opt{margin-left:25px;margin-bottom:10px}#onetrust-pc-sdk .ot-pc-refuse-all-handler{margin-bottom:0}#onetrust-pc-sdk #ot-fltr-cnt{right:40px}}@media only screen and (max-width: 476px){#onetrust-pc-sdk .ot-fltr-cntr,#onetrust-pc-sdk #ot-fltr-cnt{right:10px}#onetrust-pc-sdk #ot-anchor{right:25px}#onetrust-pc-sdk button{width:100%}#onetrust-pc-sdk:not(.ot-addtl-vendors) #ot-pc-lst:not(.ot-enbl-chr) .ot-sel-all{padding-right:9px}#onetrust-pc-sdk:not(.ot-addtl-vendors) #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr{right:0}}@media only screen and (max-width: 896px)and (max-height: 425px)and (orientation: landscape){#onetrust-pc-sdk.otPcCenter{left:0;top:0;min-width:100%;height:100%;border-radius:0}#onetrust-pc-sdk .ot-pc-header{height:auto;min-height:20px}#onetrust-pc-sdk .ot-pc-header .ot-pc-logo{max-height:30px}#onetrust-pc-sdk .ot-pc-footer{max-height:60px;overflow-y:auto}#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk #ot-pc-lst{bottom:70px}#onetrust-pc-sdk.ot-ftr-stacked #ot-pc-content{bottom:70px}#onetrust-pc-sdk #ot-anchor{left:initial;right:50px}#onetrust-pc-sdk #ot-lst-title{margin-top:12px}#onetrust-pc-sdk #ot-lst-title *{font-size:inherit}#onetrust-pc-sdk #ot-pc-hdr input{margin-right:0;padding-right:45px}#onetrust-pc-sdk .switch+p{max-width:85%}#onetrust-pc-sdk #ot-sel-blk{position:static}#onetrust-pc-sdk #ot-pc-lst{overflow:auto}#onetrust-pc-sdk #ot-lst-cnt{max-height:none;overflow:initial}#onetrust-pc-sdk #ot-lst-cnt.no-results{height:auto}#onetrust-pc-sdk input{font-size:1em !important}#onetrust-pc-sdk p{font-size:.6em}#onetrust-pc-sdk #ot-fltr-modal{width:100%;top:0}#onetrust-pc-sdk ul li p,#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a,#onetrust-pc-sdk .category-host-list-handler{font-size:.6em}#onetrust-pc-sdk.ot-shw-fltr #ot-anchor{display:none !important}#onetrust-pc-sdk.ot-shw-fltr #ot-pc-lst{height:100% !important;overflow:hidden;top:0px}#onetrust-pc-sdk.ot-shw-fltr #ot-fltr-cnt{margin:0;height:100%;max-height:none;padding:10px;top:0;width:calc(100% - 20px);position:absolute;right:0;left:0;max-width:none}#onetrust-pc-sdk.ot-shw-fltr .ot-fltr-scrlcnt{max-height:calc(100% - 65px)}}
            #onetrust-consent-sdk #onetrust-pc-sdk,
                #onetrust-consent-sdk #ot-search-cntr,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-switch.ot-toggle,
                #onetrust-consent-sdk #onetrust-pc-sdk ot-grp-hdr1 .checkbox,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-title:after
                ,#onetrust-consent-sdk #onetrust-pc-sdk #ot-sel-blk,
                        #onetrust-consent-sdk #onetrust-pc-sdk #ot-fltr-cnt,
                        #onetrust-consent-sdk #onetrust-pc-sdk #ot-anchor {
                    background-color: #FFFFFF;
                }
               
            #onetrust-consent-sdk #onetrust-pc-sdk h3,
                #onetrust-consent-sdk #onetrust-pc-sdk h4,
                #onetrust-consent-sdk #onetrust-pc-sdk h5,
                #onetrust-consent-sdk #onetrust-pc-sdk h6,
                #onetrust-consent-sdk #onetrust-pc-sdk p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-ven-lst .ot-ven-opts p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-desc,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-title,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-li-title,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-sel-all-hdr span,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-fltr-modal #modal-header,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-checkbox label span,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-sel-blk p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-lst-title h3,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst .back-btn-handler p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst .ot-ven-name,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-ven-lst .consent-category,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-inactive-leg-btn,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-label-status,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-chkbox label span,
                #onetrust-consent-sdk #onetrust-pc-sdk #clear-filters-handler,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-optout-signal
                {
                    color: #696969;
                }
             #onetrust-consent-sdk #onetrust-pc-sdk .privacy-notice-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-pgph-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler + a,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-host-list-handler,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-ven-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-ven-legclaim-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-name a,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-acc-hdr .ot-host-expand,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info a,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-content #ot-pc-desc .ot-link-btn,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-vnd-serv .ot-vnd-item .ot-vnd-info a,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-lst-cnt .ot-vnd-info a
                    {
                        color: #3860BE;
                    }
            #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler:hover { text-decoration: underline;}
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-grpcntr.ot-acc-txt,
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-txt .ot-subgrp-tgl .ot-switch.ot-toggle
             {
                background-color: #F8F8F8;
            }
             #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-txt .ot-ven-dets
                            {
                                background-color: #F8F8F8;
                            }
        #onetrust-consent-sdk #onetrust-pc-sdk
            button:not(#clear-filters-handler):not(.ot-close-icon):not(#filter-btn-handler):not(.ot-remove-objection-handler):not(.ot-obj-leg-btn-handler):not([aria-expanded]):not(.ot-link-btn),
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-active-leg-btn {
                background-color: #346E4A;border-color: #346E4A;
                color: #FFFFFF;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-active-menu {
                border-color: #346E4A;
            }
            
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-remove-objection-handler{
                background-color: transparent;
                border: 1px solid transparent;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-inactive-leg-btn {
                background-color: #FFFFFF;
                color: #4D4D4D; border-color: #4D4D4D;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-tgl input:focus + .ot-switch, .ot-switch .ot-switch-nob, .ot-switch .ot-switch-nob:before,
            #onetrust-pc-sdk .ot-checkbox input[type="checkbox"]:focus + label::before,
            #onetrust-pc-sdk .ot-chkbox input[type="checkbox"]:focus + label::before {
                outline-color: #000000;
                outline-width: 1px;
            }
            #onetrust-pc-sdk .ot-host-item > button:focus, #onetrust-pc-sdk .ot-ven-item > button:focus {
                border: 1px solid #000000;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk *:focus,
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-vlst-cntr > a:focus {
               outline: 1px solid #000000;
            }#onetrust-pc-sdk .ot-vlst-cntr .ot-ext-lnk,  #onetrust-pc-sdk .ot-ven-hdr .ot-ext-lnk{
                    background-image: url('https://cdn.cookielaw.org/logos/static/ot_external_link.svg');
                }
            .ot-sdk-cookie-policy{font-family:inherit;font-size:16px}.ot-sdk-cookie-policy.otRelFont{font-size:1rem}.ot-sdk-cookie-policy h3,.ot-sdk-cookie-policy h4,.ot-sdk-cookie-policy h6,.ot-sdk-cookie-policy p,.ot-sdk-cookie-policy li,.ot-sdk-cookie-policy a,.ot-sdk-cookie-policy th,.ot-sdk-cookie-policy #cookie-policy-description,.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group,.ot-sdk-cookie-policy #cookie-policy-title{color:dimgray}.ot-sdk-cookie-policy #cookie-policy-description{margin-bottom:1em}.ot-sdk-cookie-policy h4{font-size:1.2em}.ot-sdk-cookie-policy h6{font-size:1em;margin-top:2em}.ot-sdk-cookie-policy th{min-width:75px}.ot-sdk-cookie-policy a,.ot-sdk-cookie-policy a:hover{background:#fff}.ot-sdk-cookie-policy thead{background-color:#f6f6f4;font-weight:bold}.ot-sdk-cookie-policy .ot-mobile-border{display:none}.ot-sdk-cookie-policy section{margin-bottom:2em}.ot-sdk-cookie-policy table{border-collapse:inherit}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy{font-family:inherit;font-size:1rem}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h6,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy p,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-title{color:dimgray}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description{margin-bottom:1em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup{margin-left:1.5em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group-desc,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-table-header,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy span,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td{font-size:.9em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td span,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td a{font-size:inherit}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group{font-size:1em;margin-bottom:.6em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-title{margin-bottom:1.2em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy>section{margin-bottom:1em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th{min-width:75px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a:hover{background:#fff}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead{background-color:#f6f6f4;font-weight:bold}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-mobile-border{display:none}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy section{margin-bottom:2em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup ul li{list-style:disc;margin-left:1.5em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup ul li h4{display:inline-block}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table{border-collapse:inherit;margin:auto;border:1px solid #d7d7d7;border-radius:5px;border-spacing:initial;width:100%;overflow:hidden}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table td{border-bottom:1px solid #d7d7d7;border-right:1px solid #d7d7d7}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td{border-bottom:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr th:last-child,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr td:last-child{border-right:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-host,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-cookies-type{width:25%}.ot-sdk-cookie-policy[dir=rtl]{text-align:left}#ot-sdk-cookie-policy h3{font-size:1.5em}@media only screen and (max-width: 530px){.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) table,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) thead,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tbody,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) th,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr{display:block}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) thead tr{position:absolute;top:-9999px;left:-9999px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr{margin:0 0 1em 0}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr:nth-child(odd),.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr:nth-child(odd) a{background:#f6f6f4}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td{border:none;border-bottom:1px solid #eee;position:relative;padding-left:50%}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td:before{position:absolute;height:100%;left:6px;width:40%;padding-right:10px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) .ot-mobile-border{display:inline-block;background-color:#e4e4e4;position:absolute;height:100%;top:0;left:45%;width:2px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td:before{content:attr(data-label);font-weight:bold}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) li{word-break:break-word;word-wrap:break-word}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table{overflow:hidden}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table td{border:none;border-bottom:1px solid #d7d7d7}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tbody,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tr{display:block}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-host,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-cookies-type{width:auto}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tr{margin:0 0 1em 0}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td:before{height:100%;width:40%;padding-right:10px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td:before{content:attr(data-label);font-weight:bold}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li{word-break:break-word;word-wrap:break-word}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead tr{position:absolute;top:-9999px;left:-9999px;z-index:-9999}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td{border-bottom:1px solid #d7d7d7;border-right:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td:last-child{border-bottom:0px}}
                
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h5,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h6,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy p,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy span,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description {
                        color: #696969;
                    }
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th {
                        color: #696969;
                    }
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group {
                        color: #696969;
                    }
                    
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-title {
                            color: #696969;
                        }
                    
            
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table th {
                            background-color: #F8F8F8;
                        }
                    
            .ot-floating-button__front{background-image:url('https://cdn.cookielaw.org/logos/static/ot_persistent_cookie.png')}</style><style type="text/css">.lf-progress {
  -webkit-appearance: none;
  -moz-apperance: none;
  width: 100%;
  /* margin: 0 10px; */
  height: 4px;
  border-radius: 3px;
  cursor: pointer;
}
.lf-progress:focus {
  outline: none;
  border: none;
}
.lf-progress::-moz-range-track {
  cursor: pointer;
  background: none;
  border: none;
  outline: none;
}
.lf-progress::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-moz-range-thumb {
  -moz-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-ms-track {
  width: 100%;
  height: 3px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.lf-progress::-ms-fill-lower {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-fill-upper {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-thumb {
  border: 0;
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress:focus::-ms-fill-lower {
  background: #ccc;
}
.lf-progress:focus::-ms-fill-upper {
  background: #ccc;
}
.lf-player-container :focus {
  outline: 0;
}
.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  opacity: 1;
  visibility: visible;
  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-player-btn-container {
  display: flex;
  align-items: center;
}
.lf-player-btn {
  cursor: pointer;
  fill: #999;
  width: 14px;
}

.lf-player-btn.active {
  fill: #555;
}

.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  background-color: #ffffff;
  opacity: 1;

  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
  padding: 10px;
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-arrow {
  position: absolute;
  z-index: -1;
  content: '';
  bottom: -9px;
  border-style: solid;
  border-width: 10px 10px 0px 10px;
}

.lf-left-align,
.lf-left-align .lfarrow {
  left: 0;
  right: unset;
}

.lf-right-align,
.lf-right-align .lf-arrow {
  right: 0;
  left: unset;
}

.lf-text-input {
  border: 1px #ccc solid;
  border-radius: 5px;
  padding: 3px;
  width: 60px;
  margin: 0;
}

.lf-color-picker {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  height: 90px;
}

.lf-color-selectors {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.lf-color-component {
  display: flex;
  flex-direction: row;
  font-size: 12px;
  align-items: center;
  justify-content: center;
}

.lf-color-component strong {
  width: 40px;
}

.lf-color-component input[type='range'] {
  margin: 0 0 0 10px;
}

.lf-color-component input[type='number'] {
  width: 50px;
  margin: 0 0 0 10px;
}

.lf-color-preview {
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding-left: 5px;
}

.lf-preview {
  height: 60px;
  width: 60px;
}

.lf-popover-snapshot {
  width: 150px;
}
.lf-popover-snapshot h5 {
  margin: 5px 0 10px 0;
  font-size: 0.75rem;
}
.lf-popover-snapshot a {
  display: block;
  text-decoration: none;
}
.lf-popover-snapshot a:before {
  content: '⥼';
  margin-right: 5px;
}
.lf-popover-snapshot .lf-note {
  display: block;
  margin-top: 10px;
  color: #999;
}
.lf-player-controls > div {
  margin-right: 5px;
  margin-left: 5px;
}
.lf-player-controls > div:first-child {
  margin-left: 0px;
}
.lf-player-controls > div:last-child {
  margin-right: 0px;
}
</style><link as="script" rel="prefetch" href="./代码解析 - Poe_files/7382-bfb2582ff5877819.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/leaderboard-ddeefee4c5ec4a6a.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/175675d1-8b5cc4e03f6becf7.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/8324-2b080a7e373799ad.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/6470-208cc49871f6f860.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/668-74b9d606f7594152.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/1193-e92c3dbe6d22144b.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/961-49c5e551f26d565f.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/324-533ea2a4268e8e9e.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/951-ad8e24d57ff9660f.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/665-aeac587230c6efce.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/1901-7fef5ce2e7a46203.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/9938-4dc9b9ff25077808.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/4056-0afe43cfe2bbf599.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/[chat]-4c5bdbc00719bffd.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/chats-5551f2ca351bf894.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/2191-dafbdfa05f43eaf4.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/explore-f2c44adfe00c3d5a.js"><script type="text/javascript" async="" src="./代码解析 - Poe_files/f.txt"></script><style type="text/css">.lf-progress {
  -webkit-appearance: none;
  -moz-apperance: none;
  width: 100%;
  /* margin: 0 10px; */
  height: 4px;
  border-radius: 3px;
  cursor: pointer;
}
.lf-progress:focus {
  outline: none;
  border: none;
}
.lf-progress::-moz-range-track {
  cursor: pointer;
  background: none;
  border: none;
  outline: none;
}
.lf-progress::-webkit-slider-thumb {
  -webkit-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-moz-range-thumb {
  -moz-appearance: none !important;
  height: 13px;
  width: 13px;
  border: 0;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress::-ms-track {
  width: 100%;
  height: 3px;
  cursor: pointer;
  background: transparent;
  border-color: transparent;
  color: transparent;
}
.lf-progress::-ms-fill-lower {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-fill-upper {
  background: #ccc;
  border-radius: 3px;
}
.lf-progress::-ms-thumb {
  border: 0;
  height: 15px;
  width: 15px;
  border-radius: 50%;
  background: #0fccce;
  cursor: pointer;
}
.lf-progress:focus::-ms-fill-lower {
  background: #ccc;
}
.lf-progress:focus::-ms-fill-upper {
  background: #ccc;
}
.lf-player-container :focus {
  outline: 0;
}
.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  opacity: 1;
  visibility: visible;
  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-player-btn-container {
  display: flex;
  align-items: center;
}
.lf-player-btn {
  cursor: pointer;
  fill: #999;
  width: 14px;
}

.lf-player-btn.active {
  fill: #555;
}

.lf-popover {
  position: relative;
}

.lf-popover-content {
  display: inline-block;
  position: absolute;
  background-color: #ffffff;
  opacity: 1;

  transform: translate(0, -10px);
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  transition: all 0.3s cubic-bezier(0.75, -0.02, 0.2, 0.97);
  padding: 10px;
}

.lf-popover-content.hidden {
  opacity: 0;
  visibility: hidden;
  transform: translate(0, 0px);
}

.lf-arrow {
  position: absolute;
  z-index: -1;
  content: '';
  bottom: -9px;
  border-style: solid;
  border-width: 10px 10px 0px 10px;
}

.lf-left-align,
.lf-left-align .lfarrow {
  left: 0;
  right: unset;
}

.lf-right-align,
.lf-right-align .lf-arrow {
  right: 0;
  left: unset;
}

.lf-text-input {
  border: 1px #ccc solid;
  border-radius: 5px;
  padding: 3px;
  width: 60px;
  margin: 0;
}

.lf-color-picker {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  height: 90px;
}

.lf-color-selectors {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.lf-color-component {
  display: flex;
  flex-direction: row;
  font-size: 12px;
  align-items: center;
  justify-content: center;
}

.lf-color-component strong {
  width: 40px;
}

.lf-color-component input[type='range'] {
  margin: 0 0 0 10px;
}

.lf-color-component input[type='number'] {
  width: 50px;
  margin: 0 0 0 10px;
}

.lf-color-preview {
  font-size: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding-left: 5px;
}

.lf-preview {
  height: 60px;
  width: 60px;
}

.lf-popover-snapshot {
  width: 150px;
}
.lf-popover-snapshot h5 {
  margin: 5px 0 10px 0;
  font-size: 0.75rem;
}
.lf-popover-snapshot a {
  display: block;
  text-decoration: none;
}
.lf-popover-snapshot a:before {
  content: '⥼';
  margin-right: 5px;
}
.lf-popover-snapshot .lf-note {
  display: block;
  margin-top: 10px;
  color: #999;
}
.lf-player-controls > div {
  margin-right: 5px;
  margin-left: 5px;
}
.lf-player-controls > div:first-child {
  margin-left: 0px;
}
.lf-player-controls > div:last-child {
  margin-right: 0px;
}
</style><link rel="stylesheet" type="text/css" href="./代码解析 - Poe_files/7b0102d9e00c5b93.css"><link rel="stylesheet" type="text/css" href="./代码解析 - Poe_files/05566368fb427fc9.css"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/4164-387f2a0459f85711.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/[handle]-d0d831b9e09c430f.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/3012-29dd0ef8856a121d.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/1523-c4a7674289a4c282.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/6639-27addccd8bd5c834.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/settings-ae4d703376ff810c.js"><link as="script" rel="prefetch" href="./代码解析 - Poe_files/creators-1a45fb67b43b2402.js"><link rel="stylesheet" type="text/css" href="./代码解析 - Poe_files/f932ab54fba05edf.css"></head><body data-new-gr-c-s-check-loaded="14.1258.0" data-gr-ext-installed="" data-new-gr-c-s-loaded="14.1258.0"><div id="__next"><div class="DesktopAppNavbarWrapper_container__p2jdD" data-desktop-app="false"><!--$--><div class="AnnouncementWrapper_container__Z51yh"><div class="SidebarLayout_layoutWrapper__mPYi4 SidebarLayout_layoutWrapperOverflow__0hyZ4" data-collapsed="true" data-is-resizing-window="false"><aside class="SidebarLayout_sidebar__SXeDJ SidebarLayout_left__k163a" data-dd-privacy="mask-user-input" data-sidebar-state="0"><!--$--><div data-dd-privacy="mask" class="SidebarLayout_wrapper__LeEqV"><div class="MainLeftSidebar_sidebarContainer__yL1iH"><header class="HeaderBar_header__ydlc6 SidebarHeader_headerBar__3sK8Z"><a class="PoeLogo_logoWrapper__x7XQY PoeLogo_logoWrapper__x7XQY SidebarHeaderLogo_fullLogoLink___yjya" data-collapsed="true" href="https://poe.com/"><img alt="Poe" loading="lazy" decoding="async" data-nimg="fill" class="PoeLogo_lightLogo__XWN_1" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="./代码解析 - Poe_files/poeFullMultibot.aa56caf5.svg"><img alt="Poe" loading="lazy" decoding="async" data-nimg="fill" class="PoeLogo_darkLogo__4KLOp" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="./代码解析 - Poe_files/poeFullWhiteMultibot.e2e2745a.svg"></a><a class="PoeLogo_logoWrapper__x7XQY PoeLogo_logoWrapper__x7XQY SidebarHeaderLogo_symbolLogoLink__t2vjv" data-collapsed="true" href="https://poe.com/"><img alt="Poe" loading="lazy" decoding="async" data-nimg="fill" class="PoeLogo_lightLogo__XWN_1" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="./代码解析 - Poe_files/poeSymbolMultibot.202ca782.svg"><img alt="Poe" loading="lazy" decoding="async" data-nimg="fill" class="PoeLogo_darkLogo__4KLOp" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="./代码解析 - Poe_files/poeSymbolWhiteMultibot.c6675cdd.svg"></a></header><menu class="MainLeftSidebar_sidebar__C6HpK"><section class="SidebarSection_section__uBaAP"><section data-collapsed="true" class="SidebarCardSection_sidebarCardSection__kn_gQ"><li class="SidebarCard_item__Hbnmq" data-collapsed="true"><a class="SidebarCard_link__ot_pN" href="https://poe.com/explore"><div class="SidebarCard_iconContainer__6STF1"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" style="height:28px;width:28px;display:block;flex:none"><path fill="currentColor" fill-rule="evenodd" d="M10.5 4a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M2 10.5a8.5 8.5 0 1 1 15.176 5.262l4.48 4.48a1 1 0 0 1-1.413 1.415l-4.481-4.481A8.5 8.5 0 0 1 2 10.5" clip-rule="evenodd"></path></svg></div><div class="SidebarCard_label__T8cVn">Explore<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" class="ManageBotsCardSection_labelIcon__EjW_j" style="height:18px;width:18px;display:block;flex:none"><path fill="currentColor" d="M8.38 21.5c.26 0 .51-.1.71-.29l8.5-8.5a.996.996 0 0 0 0-1.41l-8.5-8.5a.996.996 0 1 0-1.41 1.41L15.46 12l-7.79 7.8a.996.996 0 0 0 0 1.41c.2.19.45.29.71.29"></path></svg></div></a></li><li class="SidebarCard_item__Hbnmq" data-collapsed="true"><a class="SidebarCard_link__ot_pN" href="https://poe.com/chat/wgaucx684wqh5etiti#"><div class="SidebarCard_iconContainer__6STF1"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" style="height:28px;width:28px;display:block;flex:none"><path fill="currentColor" d="M13.561 12.412a1 1 0 0 1-1-1V10a1 1 0 1 1 2 0v1.412a1 1 0 0 1-1 1m-4.707 0a1 1 0 0 1-1-1V10a1 1 0 0 1 2 0v1.412a1 1 0 0 1-1 1m2.368 4.774a5.29 5.29 0 0 1-4.23-2.093 1 1 0 1 1 1.589-1.214 3.3 3.3 0 0 0 2.641 1.308 3.3 3.3 0 0 0 2.64-1.308 1.001 1.001 0 0 1 1.59 1.214 5.29 5.29 0 0 1-4.23 2.093M21.944 18.5h-1.5V17a1 1 0 1 0-2 0v1.5h-1.5a1 1 0 1 0 0 2h1.5V22a1 1 0 1 0 2 0v-1.5h1.5a1 1 0 1 0 0-2"></path><path fill="currentColor" d="M18.443 10.808v3.369c.314-.112.65-.177 1.001-.177s.686.065.999.177v-3.369c0-4.813-3.878-8.308-9.222-8.308S2 5.994 2 10.808V20.5a1 1 0 1 0 2 0v-9.692C4 7.094 6.97 4.5 11.222 4.5s7.221 2.594 7.221 6.308"></path></svg></div><div class="SidebarCard_label__T8cVn">Create<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" class="ManageBotsCardSection_labelIcon__EjW_j" style="height:18px;width:18px;display:block;flex:none"><path fill="currentColor" d="M13 4.5a1 1 0 1 0-2 0V11H4.5a1 1 0 1 0 0 2H11v6.5a1 1 0 1 0 2 0V13h6.5a1 1 0 1 0 0-2H13z"></path></svg></div></a></li></section><li class="SidebarItem_item__24u_X ChatSwitcher_hideCollapsed__6b8nz ChatHistoryListItem_wrapper__zuPNb" data-active="true"><a class="SidebarItem_link__2LgCM" tabindex="-1" href="https://poe.com/chat/wgaucx684wqh5etiti"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_sm__gAFzf Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" data-testid="chat-members-display-image" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-50-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div></div><div class="SidebarItem_label__Ug6_M ChatHistoryListItem_mainCol__UeBNt ChatHistoryListItem_maxFlexGrow__VROr5"><div class="ChatHistoryListItem_flexWithCenteredItems__Xmy6y"><div class="ChatHistoryListItem_maxFlexGrow__VROr5 ChatHistoryListItem_mainCol__UeBNt"><div class="ChatHistoryListItem_flexWithCenteredItems__Xmy6y ChatHistoryListItem_maxFlexGrow__VROr5 ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_topRow__2InEV"><p class="ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_title___QZlH ChatHistoryListItem_seenTitle__yGou5">代码解析</p><span class="ChatHistoryListItem_formattedDateTime__Q__S8">12:56 PM</span></div><div class="ChatHistoryListItem_contentRow__U2Xfj"><div class="ChatHistoryListItem_previewText__onOvU ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_seenPreviewText__TSd4u">GPT-5-Chat: 完全明白 ✅  

你现在只想：  
👉 **构建训练集图（静态特征，不需要 `requires_grad`）**  
用于模型训练输入（不更新 x、y、size、vt）。  
后续预测阶段再把这些设置成可导的。  

下面是你要的最终、干净、完整的 `build_dreamplace_hetero_graph()`，  
专注于：  
- 正确的图结构；  
- 节点特征（x, y, size, vt, leakage, cell_id）；  
- 可作为训练样本直接用（不传梯度）。

---

```python
import torch
import dgl
from dreamplace import PlaceDB, Params
from dreamplace.ops.place_io import suppress_output
from your_library.cell_reader import CellLibraryReader  # 修改为你的路径


def build_dreamplace_hetero_graph(params_json, device='cuda', lib_json_path=None):
    """
    Build a DGL heterograph from DREAMPlace PlaceDB.

    - 全部数值型 node/edge 特征写入 ndata/edata 中。
    - 非数值或复杂属性保存到 g.graph_aux。
    - 本函数仅构建训练集图，不创建梯度。
    """

    # ========= 1. 初始化 DREAMPlace =========
    params = Params.Params()
    with suppress_output():
        params.load(params_json)
        placedb = PlaceDB()
        placedb(params)

    num_nodes = placedb.num_physical_nodes
    reader = CellLibraryReader(lib_json_path)

    # ========= 2. 收集 Cell 信息 =========
    cell_id_to_type = {}
    cell_id_to_info = {}
    cell_internal_connect_map = {}

    for node_id in range(num_nodes):
        node_name = placedb.node_names[node_id]
        macro_name = placedb.rawdb.macroName(node_id)
        cell_info = reader.get_cell_info(macro_name)
        cell_internal_connect_map[node_id] = {}

        info = {
            "cell_name": "TERMINAL",
            "x": float(placedb.node_x[node_id]),
            "y": float(placedb.node_y[node_id]),
            "size": 0.0,
            "vt": 0.0,
            "leakage": 0.0
        }

        if cell_info:
            info["cell_name"] = cell_info["cell_name"]
            info["size"] = float(cell_info["size_value"])
            info["vt"] = float(cell_info["vt_id"])
            info["leakage"] = float(cell_info.get("leakage_power", 0.0))

        cell_id_to_type[node_id] = info["cell_name"]
        cell_id_to_info[node_id] = info

    print(f"[INFO] Collected {len(cell_id_to_info)} cells from PlaceDB")

    # ========= 3. 建立网络连接（driver → sink） =========
    def _b2s(v):
        return v.decode('utf-8') if isinstance(v, bytes) else str(v)

    src_net_pin, dst_net_pin = [], []

    for pins in placedb.net2pin_map:
        drivers, sinks = [], []
        dont_care_net_flag = False

        for pin_id in pins:
            dir_s = _b2s(placedb.pin_direct[pin_id]).strip().upper()
            if dir_s.startswith('O') or 'OUT' in dir_s:
                drivers.append(pin_id)
            elif dir_s.startswith('I') or 'IN' in dir_s:
                sinks.append(pin_id)
            elif dir_s in ('B', 'IO', 'INOUT'):
                drivers.append(pin_id)
                sinks.append(pin_id)

        if not drivers:
            continue

        for dpid in drivers:
            src_node = int(placedb.pin2node_map[dpid])
            src_name = _b2s(placedb.node_names[src_node])
            if src_name in ('clk', 'reset'):
                dont_care_net_flag = True
                break
            src_pin_name = _b2s(placedb.rawdb.macroPin(dpid).name())
            src_net_pin.append(f"{src_node}:{src_pin_name}")
            cell_internal_connect_map[src_node][src_pin_name] = "output"

        if dont_care_net_flag:
            continue

        for spid in sinks:
            dst_node = int(placedb.pin2node_map[spid])
            dst_pin_name = _b2s(placedb.rawdb.macroPin(spid).name())
            dst_net_pin.append(f"{dst_node}:{dst_pin_name}")
            cell_internal_connect_map[dst_node][dst_pin_name] = "input"

    print(f"[INFO] Parsed nets: {len(src_net_pin)} drivers, {len(dst_net_pin)} sinks")

    # ========= 4. 建立 pin 节点映射 =========
    pin_nodes = sorted(set(src_net_pin + dst_net_pin))
    pin2id = {name: idx for idx, name in enumerate(pin_nodes)}

    src_net_in = torch.tensor([pin2id[s] for s in src_net_pin], dtype=torch.long)
    dst_net_in = torch.tensor([pin2id[d] for d in dst_net_pin], dtype=torch.long)

    src_net_out = dst_net_in
    dst_net_out = src_net_in

    # ========= 5. 构建 Cell 内部连线 =========
    src_cell, dst_cell = [], []

    for node_id, pin_dir_map in cell_internal_connect_map.items():
        out_pins = [p for p, d in pin_dir_map.items() if d == "output"]
        in_pins = [p for p, d in pin_dir_map.items() if d == "input"]
        for op in out_pins:
            for ip in in_pins:
                src_name = f"{node_id}:{op}"
                dst_name = f"{node_id}:{ip}"
                if src_name in pin2id and dst_name in pin2id:
                    src_cell.append(pin2id[src_name])
                    dst_cell.append(pin2id[dst_name])

    src_cell = torch.tensor(src_cell, dtype=torch.long)
    dst_cell = torch.tensor(dst_cell, dtype=torch.long)

    # ========= 6. 构图 =========
    data_dict = {
        ('node', 'net_in', 'node'): (src_net_in, dst_net_in),
        ('node', 'net_out', 'node'): (src_net_out, dst_net_out),
        ('node', 'cell_out', 'node'): (src_cell, dst_cell)
    }

    g = dgl.heterograph(data_dict, num_nodes_dict={'node': len(pin_nodes)}, device=device)

    # ========= 7. 节点特征 =========
    n = len(pin_nodes)
    node_x = torch.zeros(n, dtype=torch.float32)
    node_y = torch.zeros(n, dtype=torch.float32)
    node_size = torch.zeros(n, dtype=torch.float32)
    node_vt = torch.zeros(n, dtype=torch.float32)
    node_leakage = torch.zeros(n, dtype=torch.float32)
    node_cell_id = torch.zeros(n, dtype=torch.long)

    for name, idx in pin2id.items():
        node_id_str, _ = name.split(":", 1)
        node_id = int(node_id_str)
        info = cell_id_to_info[node_id]

        node_x[idx] = info["x"]
        node_y[idx] = info["y"]
        node_size[idx] = info["size"]
        node_vt[idx] = info["vt"]
        node_leakage[idx] = info["leakage"]
        node_cell_id[idx] = node_id

    # 格式统一
    g.ndata["pos"] = torch.stack([node_x, node_y], dim=1).to(device)
    g.ndata["size"] = node_size.to(device)
    g.ndata["vt"] = node_vt.to(device)
    g.ndata["leakage"] = node_leakage.to(device)
    g.ndata["cell_id"] = node_cell_id.to(device)

    # 合并基本特征为 "feat"，用于模型输入
    g.ndata["feat"] = torch.cat(
        [g.ndata["pos"], g.ndata["vt"].unsqueeze(1), g.ndata["size"].unsqueeze(1)], dim=1
    )

    # ========= 8. 空 edge features =========
    for etype in ['net_in', 'net_out', 'cell_out']:
        ecount = g.num_edges(etype)
        g.edges[etype].data['ef'] = torch.empty((ecount, 0), dtype=torch.float32, device=device)

    # ========= 9. 附加图信息 =========
    g.graph_aux = {
        "pin_names": pin_nodes,
        "pin2id": pin2id,
        "cell_id_to_info": cell_id_to_info,
        "cell_internal_connect_map": cell_internal_connect_map,
        "cell_id_to_type": cell_id_to_type,
    }

    # ========= 10. 输出信息 =========
    print(g)
    print(f"节点数量: {g.num_nodes()}")
    print(f"net_in 边数量: {g.num_edges('net_in')}")
    print(f"cell_out 边数量: {g.num_edges('cell_out')}")

    # ========= 11. 清理 =========
    with suppress_output():
        del placedb
        del params
        del reader

    return g
```

---

## ✅ 生成完的图内容

| 键 | 内容 | 说明 |
|----|------|------|
| `g.ndata['feat']` | (N, 4)，结构 `[x, y, vt, size]` | 模型输入 |
| `g.ndata['leakage']` | (N,) | 辅助功耗信息 |
| `g.ndata['cell_id']` | (N,) | node_id 映射 |
| `g.graph_aux` | 各种原始信息字典 | 用于解释或导出 |

---

## 🔍 </div></div></div><div class="ChatHistoryListItem_rightSection__ohn5u"><div class="DropdownMenuButton_wrapper__uc04T"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatHistoryListItem_overflowButton___YxUV" type="button" aria-label="More actions" aria-expanded="false" data-theme="ghost"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div></div></div></a></li><li class="SidebarItem_item__24u_X ChatSwitcher_hideCollapsed__6b8nz ChatHistoryListItem_wrapper__zuPNb"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/chat/xgm9gqs4044skgg6fo"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_sm__gAFzf Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" data-testid="chat-members-display-image" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="./代码解析 - Poe_files/main-thumb-pb-3046-50-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg"></div></div><div class="SidebarItem_label__Ug6_M ChatHistoryListItem_mainCol__UeBNt ChatHistoryListItem_maxFlexGrow__VROr5"><div class="ChatHistoryListItem_flexWithCenteredItems__Xmy6y"><div class="ChatHistoryListItem_maxFlexGrow__VROr5 ChatHistoryListItem_mainCol__UeBNt"><div class="ChatHistoryListItem_flexWithCenteredItems__Xmy6y ChatHistoryListItem_maxFlexGrow__VROr5 ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_topRow__2InEV"><p class="ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_title___QZlH ChatHistoryListItem_seenTitle__yGou5">4090 vs 5080</p><span class="ChatHistoryListItem_formattedDateTime__Q__S8">Oct 21</span></div><div class="ChatHistoryListItem_contentRow__U2Xfj"><div class="ChatHistoryListItem_previewText__onOvU ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_seenPreviewText__TSd4u">GPT-5-Chat: 非常好，这个新的错误信息非常明确：  

```
ValueError: Missing cell_out edges for power calc!
```

出自你 `frontend.forward()` 函数的这一段代码：  

```python
# --- cell_out edges ---
if "cell_out" not in g.etypes or g.num_edges("cell_out") == 0:
    raise ValueError("Missing cell_out edges for power calc!")
```

也就是说：  
&gt; 你传进来的 batched 图 `g` 根本没有 `"cell_out"` 这种边类型（etype），或者这个 etype 对应的边数量是 0。

---

## ✅ 一、错误根因定位  

这个问题通常是以下几种情况之一：

### ### 🧩 1. CollateFn 里 batch 了异构图时丢了 `"cell_out"`  

DGL 的 `dgl.batch()` 会要求所有待合并的子图 **具有完全一致的节点类型和边类型集合**。  
如果某个小图里没有 `"cell_out"` 边，这个 type 在整个 batched graph 里 **就可能被压缩掉**（不会自动补空）。  

即使 DGL 没报错，也意味着这个 batched graph 的 `.etypes` 可能不包含 `"cell_out"`。  

👉 **验证方法：**

在你的 `frontend.forward()` 里打印过图信息：
```python
print(f"边类型: {g.etypes}")
```
你应该会看到输出类似：
```
边类型: ['net_in', 'net_out']   # ❌ 没有 'cell_out'
```

这就能确认问题了。

---

## 🧠 二、确认问题来源  

### 可能情况 A：  
你的某些子图确实没有 `"cell_out"` 边。

例如：
```python
graph1.etypes = ['net_in', 'net_out', 'cell_out']
graph2.etypes = ['net_in', 'net_out']  # ⬅ 缺了 cell_out
```

此时 batch：
```python
dgl.batch([graph1, graph2])
```
会保留公共 etypes = `['net_in', 'net_out']`，`cell_out` 整体丢失。

---

### 可能情况 B：  
你在 dataset 构图阶段本来没添加 `cell_out` 边。  

例如你只构造了：
```python
g.add_edges(..., etype='net_in')
g.add_edges(..., etype='net_out')
```
但模型依赖于 `"cell_out"` 来计算加载电容和功耗。

---

## ⚙️ 三、解决路径  

### ✅ **方案 1（严格）**：保证所有子图都带有 `"cell_out"` 边类型  

在你创建图(`graph`)时：
无论是否有真实的 `"cell_out"` 边，都应该让该图拥有这种 edge type。  

示例：

```python
if "cell_out" not in g.etypes:
    g.add_edges([], [], etype="cell_out")  # 添加一个空 etype
```

这样 batching 时 DGL 会保持所有 etype 一致，`g.etypes` 里一定包含 `"cell_out"`。

---

### ✅ **方案 2（回退机制）**：如果缺少类型就跳过计算，但不中断训练  

你可以在 frontend 里把这段写成 warning 而不是 hard error。

替换你的：

```python
if "cell_out" not in g.etypes or g.num_edges("cell_out") == 0:
    raise ValueError("Missing cell_out edges for power calc!")
```

改成：

```python
if "cell_out" not in g.etypes or g.num_edges("cell_out") == 0:
    print("[警告] 当前图缺少 'cell_out' 边，跳过功耗计算。")
    g.ndata["P_total_cell"] = torch.zeros(g.num_nodes("node"), 1, device=device)
    return
```

⚠️ 注意：这样模型不会报错，但不会计算功耗输出（`P_total_cell` 会是零）。  
如果目标是训练预测功耗，这只是临时“防止炸掉”的方案。  

---

### ✅ **方案 3（调试确认）**：检查每个样本的边类型  

在 collate 之前打印每个小图的边类型：

```python
for i, item in enumerate(dataset):
    print(i, item["graph"].etypes)
```

若出现某些没有 `'cell_out'` 的，需要回查 dataset 构建逻辑。

---

## 🧩 四、验证方法  

在 `frontend.forward()` 的打印区块中加：

```python
print("[DEBUG] 当前图边类型:", g.etypes)
for et in g.etypes:
    print(f"  {et}: {g.num_edges(et)} 条边")
```

运行输出后，你马上能确认问题：

示例一（正常）：
```
[DEBUG] 当前图边类型: ['net_in', 'net_out', 'cell_out']
  net_in: 532
  net_out: 764
  cell_out: 710
```

示例二（问题）：
```
[DEBUG] 当前图边类型: ['net_in', 'net_out']
  net_in: 450
  net_out: 600
```

---

## ✅ 五、推荐最终处理逻辑  

我建议你用一个**容错写法**来替换出错段：

```python
# --- cell_out edges ---
if "cell_out" not in g.etypes:
    print("[警告] 当前批处理图缺少 'cell_out' 边类型，将跳过功耗计算。")
    g.ndata["P_total_cell"] = torch.zeros(g.num_nodes("node"), 1, device=device)
    return None

if g.num_edges("cell_out") == 0:
    print("[警告] 'cell_out' 边数量为0，将跳过功耗计算。")
    g.ndata["P_total_cell"] = torch.zeros(g.num_nodes("node"), 1, device=device)
    return None
```

这样程序能继续训练，同时你能看到日志提醒哪些 batch 数据不完整。

---

## ✅ 结论  

| 问题 | 原因 | 修复方式 |
|------|------|-----------|
| `ValueError: Missing cell_out edges for power calc!` | batched DGLGraph 缺少 `"cell_out"` etype 或数量为 0 | 确保所有图创建时带上该 etype；或在 forward() 里做容错回退 |

---

是否希望我帮你再写出一个完整补丁版本（包含调试打印 + 容错跳过逻辑），方便直接替换？</div></div></div><div class="ChatHistoryListItem_rightSection__ohn5u"><div class="DropdownMenuButton_wrapper__uc04T"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatHistoryListItem_overflowButton___YxUV" type="button" aria-label="More actions" aria-expanded="false" data-theme="ghost"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height:18px;width:18px;display:block;flex:none"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div></div></div></a></li><li class="SidebarItem_item__24u_X ChatSwitcher_hideCollapsed__6b8nz ChatHistoryListItem_wrapper__zuPNb"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/chat/xgrpnnskl9a263kyjv"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_sm__gAFzf Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for GPT-4.1" data-testid="chat-members-display-image" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="./代码解析 - Poe_files/main-thumb-pb-3036-50-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"></div></div><div class="SidebarItem_label__Ug6_M ChatHistoryListItem_mainCol__UeBNt ChatHistoryListItem_maxFlexGrow__VROr5"><div class="ChatHistoryListItem_flexWithCenteredItems__Xmy6y"><div class="ChatHistoryListItem_maxFlexGrow__VROr5 ChatHistoryListItem_mainCol__UeBNt"><div class="ChatHistoryListItem_flexWithCenteredItems__Xmy6y ChatHistoryListItem_maxFlexGrow__VROr5 ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_topRow__2InEV"><p class="ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_title___QZlH ChatHistoryListItem_seenTitle__yGou5">Docker 容器复制</p><span class="ChatHistoryListItem_formattedDateTime__Q__S8">Oct 21</span></div><div class="ChatHistoryListItem_contentRow__U2Xfj"><div class="ChatHistoryListItem_previewText__onOvU ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_seenPreviewText__TSd4u">GPT-4.1: 你的需求是：  
**把正在运行的 `fz_test` 容器里的内容，提交（commit）为新的镜像，覆盖或者更新原来的 `iccad25_probc_env:latest` 镜像**。

下面是详细步骤：

---

## 1. **将 `fz_test` 容器提交为新镜像**

你可以用 `docker commit` 命令，把 `fz_test` 的当前状态提交为一个新的镜像。

```bash
docker commit fz_test iccad25_probc_env:latest
```

这样，`iccad25_probc_env:latest` 镜像就会更新为 `fz_test` 这个容器当前的状态。

---

## 2. **注意事项**

- 这样操作后，**本地的 `iccad25_probc_env:latest` 镜像就变成了 `fz_test` 的快照**。如果你用 `docker run iccad25_probc_env:latest`，就是用新内容启动新容器。
- **如果有别的容器（如 wqtang）还在用这个镜像，不会立即受影响**，只有新启动的容器才会用到更新后的镜像。

---

## 3. **如果你想保留原始镜像**

建议你可以先给新镜像打个不同的标签，比如：

```bash
docker commit fz_test iccad25_probc_env:fz_test_v1
```

这样你不会把原来的 `latest` 覆盖掉，方便回滚。

---

## 4. **如果你需要推送到远程仓库**

如果有远程仓库（比如 Docker Hub 或私有 Harbor），需要先 `docker tag`，然后 `docker push`。

---

## 5. **推荐完整流程**

1. 保留原版镜像：
   ```bash
   docker commit fz_test iccad25_probc_env:fz_test_v1
   ```
2. 如需覆盖 latest：
   ```bash
   docker tag iccad25_probc_env:fz_test_v1 iccad25_probc_env:latest
   ```

---

### 总结

你只需：
```bash
docker commit fz_test iccad25_probc_env:latest
```
即可实现你说的**“把 fz_test 提交更新到对应的 image”**。

如需进一步脚本或补充操作，欢迎继续提问！</div></div></div><div class="ChatHistoryListItem_rightSection__ohn5u"><div class="DropdownMenuButton_wrapper__uc04T"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatHistoryListItem_overflowButton___YxUV" type="button" aria-label="More actions" aria-expanded="false" data-theme="ghost"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height:18px;width:18px;display:block;flex:none"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div></div></div></a></li><li class="SidebarItem_item__24u_X ChatSwitcher_hideCollapsed__6b8nz ChatHistoryListItem_wrapper__zuPNb"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/chat/xgmavmcrnq9g93p1p0"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_sm__gAFzf Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for GPT-4.1" data-testid="chat-members-display-image" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="./代码解析 - Poe_files/main-thumb-pb-3036-50-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"></div></div><div class="SidebarItem_label__Ug6_M ChatHistoryListItem_mainCol__UeBNt ChatHistoryListItem_maxFlexGrow__VROr5"><div class="ChatHistoryListItem_flexWithCenteredItems__Xmy6y"><div class="ChatHistoryListItem_maxFlexGrow__VROr5 ChatHistoryListItem_mainCol__UeBNt"><div class="ChatHistoryListItem_flexWithCenteredItems__Xmy6y ChatHistoryListItem_maxFlexGrow__VROr5 ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_topRow__2InEV"><p class="ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_title___QZlH ChatHistoryListItem_seenTitle__yGou5">4090 vs 5080</p><span class="ChatHistoryListItem_formattedDateTime__Q__S8">Oct 21</span></div><div class="ChatHistoryListItem_contentRow__U2Xfj"><div class="ChatHistoryListItem_previewText__onOvU ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_seenPreviewText__TSd4u">GPT-4.1: 截至目前（2024年6月），**NVIDIA GeForce RTX 4090** 是现有发布的顶级消费级显卡之一。而 RTX 5080 目前还没有正式发布，官方参数和实际性能尚未公开。以下是两者的对比分析：

---

## RTX 4090

- **发布时间**：2022年10月
- **架构**：Ada Lovelace（AD102核心）
- **CUDA核心**：16384
- **显存**：24GB GDDR6X
- **主频**：2.23 GHz（可提升至2.52 GHz）
- **功耗**：450W
- **性能水平**：目前消费级显卡的顶尖存在，4K游戏和AI任务表现极为强劲。

---

## RTX 5080

- **发布时间**：未发布（传闻可能在2024年或2025年发布）
- **架构**：预计为Blackwell（GB20X系列）
- **参数信息**：暂无官方数据，性能仅有传闻和爆料，未有权威实测。
- **预期性能**：
  - 通常NVIDIA新一代80系列（如3080、4080、5080）会**大幅超越**上一代80系列，并在某些场景下接近甚至赶超上代90系列（如4090）。
  - 但具体性能需等待正式发布和媒体评测。

---

## 总结

**目前市面上能买到的最强显卡依然是RTX 4090。**  
如果你在问“RTX 4090和RTX 5080哪台性能更好？”：

- **已发布的产品（2024年6月）**：RTX 4090更强。
- **假设RTX 5080发布（未来）**：按照NVIDIA以往迭代规律，RTX 5080大概率会在效率和新特性上有提升，但是否全面超越4090还需实际测评数据。

---

### 建议

- **急需顶级性能**：现在就买，选RTX 4090。
- **不急、想等新一代**：可以等RTX 5080发布，届时再对比实测数据做决定。

如需了解未来RTX 5080的具体参数或性能对比，可以关注NVIDIA官网或权威硬件评测媒体的最新消息。</div></div></div><div class="ChatHistoryListItem_rightSection__ohn5u"><div class="DropdownMenuButton_wrapper__uc04T"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatHistoryListItem_overflowButton___YxUV" type="button" aria-label="More actions" aria-expanded="false" data-theme="ghost"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height:18px;width:18px;display:block;flex:none"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div></div></div></a></li><li class="SidebarItem_item__24u_X ChatSwitcher_hideCollapsed__6b8nz ChatHistoryListItem_wrapper__zuPNb"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/chat/xe456484e65781x3jy"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_sm__gAFzf Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" data-testid="chat-members-display-image" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="./代码解析 - Poe_files/main-thumb-pb-3046-50-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg"></div></div><div class="SidebarItem_label__Ug6_M ChatHistoryListItem_mainCol__UeBNt ChatHistoryListItem_maxFlexGrow__VROr5"><div class="ChatHistoryListItem_flexWithCenteredItems__Xmy6y"><div class="ChatHistoryListItem_maxFlexGrow__VROr5 ChatHistoryListItem_mainCol__UeBNt"><div class="ChatHistoryListItem_flexWithCenteredItems__Xmy6y ChatHistoryListItem_maxFlexGrow__VROr5 ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_topRow__2InEV"><p class="ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_title___QZlH ChatHistoryListItem_seenTitle__yGou5">Docker Build Error</p><span class="ChatHistoryListItem_formattedDateTime__Q__S8">Oct 20</span></div><div class="ChatHistoryListItem_contentRow__U2Xfj"><div class="ChatHistoryListItem_previewText__onOvU ChatHistoryListItem_textOverflow__vMchf ChatHistoryListItem_seenPreviewText__TSd4u">GPT-5-Chat: </div></div></div><div class="ChatHistoryListItem_rightSection__ohn5u"><div class="DropdownMenuButton_wrapper__uc04T"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatHistoryListItem_overflowButton___YxUV" type="button" aria-label="More actions" aria-expanded="false" data-theme="ghost"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height:18px;width:18px;display:block;flex:none"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div></div></div></a></li><li class="SidebarItem_item__24u_X"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/chats"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" style="height: 28px; width: 28px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M7.5 20c-.12 0-.24-.02-.35-.06-.39-.15-.65-.52-.65-.94v-3h-1C3.57 16 2 14.43 2 12.5v-7C2 3.57 3.57 2 5.5 2h9C16.43 2 18 3.57 18 5.5v7c0 1.93-1.57 3.5-3.5 3.5h-3.05l-3.2 3.66c-.19.22-.47.34-.75.34m-2-16C4.67 4 4 4.67 4 5.5v7c0 .83.67 1.5 1.5 1.5h2c.55 0 1 .45 1 1v1.34l1.75-2A.98.98 0 0 1 11 14h3.5c.83 0 1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5z"></path><path fill="currentColor" d="M6.75 10.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m3.25 0a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m3.25 0a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M20 12v6h-2c-.43 0-.79.27-.94.65l-.36-.36A1 1 0 0 0 16 18h-3.64l-.7.79c.31.71 1.02 1.21 1.84 1.21h2.09l1.71 1.71c.18.19.44.29.7.29.13 0 .26-.02.38-.08.38-.15.62-.52.62-.92v-1h1c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2"></path></svg><span role="status" aria-atomic="true" aria-hidden="true" aria-label="0 unseen" data-size="sm" data-position="top-right" data-pdl-badge-notification="" class="BadgeNotification_badge_notification__Uvwm4" style="--badge-offset-x: -5px; --badge-offset-y: 5px;">0</span></div><div class="SidebarItem_label__Ug6_M"></div></a></li></section><section class="SidebarSection_section__uBaAP"><li class="SidebarItem_item__24u_X"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/chat/wgaucx684wqh5etiti#"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" style="height:28px;width:28px;display:block;flex:none"><path fill="currentColor" d="M18.351 7.886a.9.9 0 0 1-.9-.9V6.37a.9.9 0 0 1 1.8 0v.615a.9.9 0 0 1-.9.901m-2.702 0a.9.9 0 0 1-.9-.9V6.37a.9.9 0 0 1 1.8 0v.615a.9.9 0 0 1-.9.901"></path><path fill="currentColor" d="M17 12c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5m0-8c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 18c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5m0-8c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3M7 12c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5m0-8C5.346 4 4 5.346 4 7s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m1.351 13.886a.9.9 0 0 1-.9-.9v-.616a.9.9 0 0 1 1.8 0v.615a.9.9 0 0 1-.9.901m-2.702 0a.9.9 0 0 1-.9-.9v-.616a.9.9 0 0 1 1.8 0v.615a.9.9 0 0 1-.9.901"></path><path fill="currentColor" d="M7 22c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5m0-8c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3"></path></svg></div><div class="SidebarItem_label__Ug6_M">Bots and apps</div></a></li><li class="SidebarItem_item__24u_X"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/leaderboard"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" style="height:28px;width:28px;display:block;flex:none"><path fill="currentColor" d="m21.187 6.445.097.014.01.002.027.006.057.015.004.001.008.004c.012.003.03.01.034.01l.048.018q.081.034.154.08l.004.002.016.01.009.006c.163.11.292.267.368.451l.013.034a1 1 0 0 1 .064.352v5.454a1.01 1.01 0 0 1-2.018 0V9.885l-6.005 6.005a1.01 1.01 0 0 1-1.427 0l-3.832-3.833-5.195 5.196a1.009 1.009 0 1 1-1.428-1.426l5.913-5.912.07-.063.003-.003a1.01 1.01 0 0 1 1.351.07l3.831 3.83 5.293-5.29h-3.02a1.01 1.01 0 0 1 0-2.019h5.454q.05 0 .097.005"></path></svg></div><div class="SidebarItem_label__Ug6_M">Leaderboard</div></a></li></section><section class="SidebarSection_section__uBaAP"><li class="SidebarItem_item__24u_X"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/chat/wgaucx684wqh5etiti#"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" style="height:28px;width:28px;display:block;flex:none"><path fill="currentColor" d="M9 23c.194 0 .388-.057.555-.168L13.803 20H16.5c2.206 0 4-1.794 4-4V7c0-2.206-1.794-4-4-4h-9c-2.206 0-4 1.794-4 4v9c0 2.206 1.794 4 4 4H8v2a1 1 0 0 0 1 1m7.5-18c1.103 0 2 .897 2 2v9c0 1.103-.897 2-2 2h-3c-.197 0-.391.059-.555.168L10 20.132V19a1 1 0 0 0-1-1H7.5c-1.103 0-2-.897-2-2V7c0-1.103.897-2 2-2z"></path><path fill="currentColor" d="M8.389 10.628a.64.64 0 0 1 .519-.438l1.738-.252.778-1.576c.217-.438.937-.438 1.153 0l.777 1.576 1.738.252a.643.643 0 0 1 .356 1.097l-1.258 1.226.297 1.732a.645.645 0 0 1-.933.678L12 14.103l-1.556.819a.644.644 0 0 1-.933-.678l.298-1.732-1.258-1.226a.64.64 0 0 1-.162-.658"></path></svg></div><div class="SidebarItem_label__Ug6_M">Upgrade</div></a></li><li class="SidebarItem_item__24u_X"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/creators"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" style="height:28px;width:28px;display:block;flex:none"><path fill="currentColor" d="m21.521 6.646-9-5.5a1 1 0 0 0-1.043 0l-9 5.5A1 1 0 0 0 2 7.5v3h2V8.061l8-4.889L19.901 8H22v-.5c0-.349-.182-.672-.479-.854"></path><path fill="currentColor" d="M21 10h-4a1 1 0 0 0-1 1v7.384l-1 .611V9a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v9.995l-1-.611V13.5a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v3a1 1 0 0 0 .478.853l4 2.451c.012.007.025.009.037.016l2.961 1.81.003.002 1.999 1.222a1 1 0 0 0 1.042 0l4.964-3.034c.012-.007.025-.009.037-.016l4-2.451A1 1 0 0 0 22 16.5V11a1 1 0 0 0-1-1m-10 0h2v10.217l-1 .611-1-.611zm-7 4.5h2v2.662l-.796-.486-.002.002L4 15.94zm16 1.44-1.201.736-.001-.002-.798.488V12h2z"></path></svg></div><div class="SidebarItem_label__Ug6_M">Creators</div></a></li><li class="SidebarItem_item__24u_X"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/chat/wgaucx684wqh5etiti#"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" style="height:28px;width:28px;display:block;flex:none"><path fill="currentColor" d="M19.5 21h-2c0-2.76-2.47-5-5.5-5s-5.5 2.24-5.5 5h-2c0-3.86 3.36-7 7.5-7s7.5 3.14 7.5 7M12 13.5A5.51 5.51 0 0 1 6.5 8c0-3.03 2.47-5.5 5.5-5.5s5.5 2.47 5.5 5.5-2.47 5.5-5.5 5.5m0-9c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5"></path></svg></div><div class="SidebarItem_label__Ug6_M">Profile</div></a></li><li class="SidebarItem_item__24u_X"><a class="SidebarItem_link__2LgCM" tabindex="0" href="https://poe.com/settings"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" style="height:28px;width:28px;display:block;flex:none"><path fill="currentColor" d="M12 15.97a3.975 3.975 0 1 1 0-7.95 3.975 3.975 0 0 1 0 7.95m0-5.94a1.97 1.97 0 1 0 0 3.941 1.97 1.97 0 0 0 0-3.941"></path><path fill="currentColor" d="M12 22.5c-.38 0-.78-.02-1.2-.08a1.56 1.56 0 0 1-1.27-1.04l-.64-1.87-1.77.87c-.54.26-1.19.2-1.66-.18-.62-.49-1.18-1.05-1.66-1.66a1.56 1.56 0 0 1-.18-1.66l.87-1.77-1.87-.64c-.56-.19-.97-.69-1.04-1.28a9.8 9.8 0 0 1 0-2.38c.07-.59.48-1.09 1.04-1.28l1.87-.64-.87-1.77c-.26-.54-.2-1.19.17-1.66.5-.61 1.06-1.17 1.67-1.66a1.56 1.56 0 0 1 1.66-.18l1.77.87.64-1.87c.19-.56.7-.97 1.28-1.04.85-.1 1.53-.1 2.38 0 .59.07 1.1.48 1.28 1.04l.64 1.87 1.77-.87c.54-.26 1.2-.2 1.66.18.61.48 1.17 1.04 1.66 1.66.38.47.45 1.12.18 1.66l-.87 1.77 1.87.64c.56.19.97.7 1.04 1.28a9.7 9.7 0 0 1 0 2.39 1.56 1.56 0 0 1-1.04 1.27l-1.87.64.87 1.77c.27.54.2 1.2-.18 1.66q-.737.923-1.66 1.66c-.47.37-1.12.45-1.66.18l-1.77-.87-.64 1.87c-.19.56-.7.97-1.28 1.04-.41.05-.8.08-1.19.08m-.67-2.03c.44.04.9.04 1.34 0l.71-2.08a1.56 1.56 0 0 1 2.16-.9l1.97.97c.34-.3.66-.61.95-.95l-.96-1.97a1.56 1.56 0 0 1 .89-2.16l2.08-.7q.06-.675 0-1.35l-2.08-.71a1.56 1.56 0 0 1-.9-2.16l.97-1.97c-.3-.34-.61-.66-.95-.95l-1.97.97a1.55 1.55 0 0 1-2.16-.9l-.7-2.08q-.675-.06-1.35 0l-.71 2.08a1.558 1.558 0 0 1-2.16.9l-1.97-.97c-.34.3-.66.61-.95.95l.96 1.97a1.56 1.56 0 0 1-.9 2.16l-2.07.7q-.058.675 0 1.35l2.08.71a1.56 1.56 0 0 1 .9 2.16l-.97 1.97c.3.34.6.66.95.95l1.97-.96a1.55 1.55 0 0 1 2.16.9l.7 2.07z"></path></svg></div><div class="SidebarItem_label__Ug6_M">Settings</div></a></li></section><section class="SidebarSection_section__uBaAP"><li class="SidebarItem_item__24u_X"><a class="SidebarItem_link__2LgCM" tabindex="0" target="_blank" href="https://help.poe.com/hc/en-us/requests/new?ticket_form_id=16988793943060&amp;tf_subject=Feedback%20(user-agent%3A%20Mozilla%2F5.0%20(Macintosh%3B%20Intel%20Mac%20OS%20X%2010_15_7)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F141.0.0.0%20Safari%2F537.36)"><div class="SidebarItem_iconContainer__r24sc" data-collapsed="true"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" viewBox="0 0 24 24" style="height:28px;width:28px;display:block;flex:none"><path fill="currentColor" d="M3 21.5c-.24 0-.48-.09-.67-.25-.3-.27-.41-.69-.28-1.07L4.88 12 2.05 3.83A1.002 1.002 0 0 1 3.43 2.6l17.94 8.5c.35.17.57.52.57.9s-.22.74-.57.9L3.43 21.4c-.14.07-.28.1-.43.1M6.65 13l-1.93 5.58L18.6 12 4.72 5.42 6.65 11h5.29c.55 0 1 .45 1 1s-.45 1-1 1z"></path></svg></div><div class="SidebarItem_label__Ug6_M">Send feedback</div></a></li><section class="SidebarFooter_footer__3egHX"><a class="button_root__TL8nv button_outline__s90zE button_md__qAqrS button_center__RsQ_o" target="_blank" data-theme="outline" href="https://poe.sng.link/Crjdw/9ziq?_dl=https%3A%2F%2Fwww.poe.com&amp;aifa={aaid}&amp;cl={click_id}&amp;_p=%7B%22relativeUrl%22%3A%22%2F%22%7D"><span class="button_label__mCaDf">Download iOS app</span></a><a class="button_root__TL8nv button_outline__s90zE button_md__qAqrS button_center__RsQ_o" target="_blank" data-theme="outline" href="https://play.google.com/store/apps/details?id=com.poe.android"><span class="button_label__mCaDf">Download Android app</span></a><a class="button_root__TL8nv button_outline__s90zE button_md__qAqrS button_center__RsQ_o" target="_blank" data-theme="outline" href="https://poe.com/download"><span class="button_label__mCaDf">Download macOS app</span></a><a target="_blank" class="FollowTwitterLink_followLink__Af7j7" href="https://twitter.com/poe_platform"><p class="FollowTwitterLink_text__TZe22">Follow us on</p><svg viewBox="0 0 1200 1227" fill="none" xmlns="http://www.w3.org/2000/svg" class="FollowTwitterLink_twitterIconWhite__27i3t"><path d="M714.163 519.284 1160.89 0h-105.86L667.137 450.887 357.328 0H0l468.492 681.821L0 1226.37h105.866l409.625-476.152 327.181 476.152H1200L714.137 519.284h.026ZM569.165 687.828l-47.468-67.894-377.686-540.24h162.604l304.797 435.991 47.468 67.894 396.2 566.721H892.476L569.165 687.854v-.026Z" fill="#fff"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1227" style="enable-background:new 0 0 1200 1227" xml:space="preserve" class="FollowTwitterLink_twitterIconBlack__SS_7V"><path d="M714.2 519.3 1160.9 0H1055L667.1 450.9 357.3 0H0l468.5 681.8L0 1226.4h105.9l409.6-476.2 327.2 476.2H1200L714.2 519.3zm-145 168.5-47.5-67.9L144 79.7h162.6l304.8 436 47.5 67.9 396.2 566.7H892.5L569.2 687.8z"></path></svg></a><a target="_blank" class="JoinDiscordLink_followLink__S4jP_" href="https://discord.com/invite/joinpoe"><p class="JoinDiscordLink_text__UwpyP">Join our</p><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 508.67 96.36" class="JoinDiscordLink_discordIcon__Xw13A"><defs><style>.discordLogo_svg__cls-1{fill:#5865f2}</style></defs><g id="discordLogo_svg__\u56FE\u5C42_2" data-name="\u56FE\u5C42 2"><g id="discordLogo_svg__Discord_Logos" data-name="Discord Logos"><g id="discordLogo_svg__Discord_Logo_-_Large_-_White" data-name="Discord Logo - Large - White"><path class="discordLogo_svg__cls-1" d="M170.85 20.2h27.3q9.87 0 16.7 3.08a22.5 22.5 0 0 1 10.21 8.58 23.34 23.34 0 0 1 3.4 12.56A23.24 23.24 0 0 1 224.93 57a23.94 23.94 0 0 1-10.79 8.92q-7.24 3.3-17.95 3.29h-25.34Zm25.06 36.54q6.65 0 10.22-3.32a11.8 11.8 0 0 0 3.57-9.07 11.5 11.5 0 0 0-3.18-8.5q-3.2-3.18-9.63-3.19h-8.54v24.08ZM269.34 69.13a37 37 0 0 1-10.22-4.27V53.24a27.77 27.77 0 0 0 9.2 4.38 39.31 39.31 0 0 0 11.17 1.71 8.71 8.71 0 0 0 3.82-.66c.86-.44 1.29-1 1.29-1.58a2.37 2.37 0 0 0-.7-1.75 6.15 6.15 0 0 0-2.73-1.19l-8.4-1.89q-7.22-1.68-10.25-4.65a10.39 10.39 0 0 1-3-7.81 10.37 10.37 0 0 1 2.66-7.07 17.13 17.13 0 0 1 7.56-4.65 36 36 0 0 1 11.48-1.65A43.27 43.27 0 0 1 292 27.69a30.25 30.25 0 0 1 8.12 3.22v11a30 30 0 0 0-7.6-3.11 34 34 0 0 0-8.85-1.16q-6.58 0-6.58 2.24a1.69 1.69 0 0 0 1 1.58 16.14 16.14 0 0 0 3.74 1.08l7 1.26Q295.65 45 299 48t3.36 8.78a11.61 11.61 0 0 1-5.57 10.12q-5.53 3.71-15.79 3.7a46.41 46.41 0 0 1-11.66-1.47ZM318.9 67.66a21 21 0 0 1-9.07-8 21.59 21.59 0 0 1-3-11.34 20.62 20.62 0 0 1 3.15-11.27 21.16 21.16 0 0 1 9.24-7.8 34.25 34.25 0 0 1 14.56-2.84q10.5 0 17.43 4.41v12.83a21.84 21.84 0 0 0-5.7-2.73 22.65 22.65 0 0 0-7-1.05q-6.51 0-10.19 2.38a7.15 7.15 0 0 0-.1 12.43q3.57 2.41 10.36 2.41a23.91 23.91 0 0 0 6.9-1 25.71 25.71 0 0 0 5.84-2.49V66a34 34 0 0 1-17.85 4.62 32.93 32.93 0 0 1-14.57-2.96ZM368.64 67.66a21.77 21.77 0 0 1-9.25-8 21.14 21.14 0 0 1-3.18-11.41A20.27 20.27 0 0 1 359.39 37a21.42 21.42 0 0 1 9.21-7.74 38.17 38.17 0 0 1 28.7 0 21.25 21.25 0 0 1 9.17 7.7 20.41 20.41 0 0 1 3.15 11.27 21.29 21.29 0 0 1-3.15 11.41 21.51 21.51 0 0 1-9.2 8 36.32 36.32 0 0 1-28.63 0Zm21.27-12.42a9.12 9.12 0 0 0 2.56-6.76 8.87 8.87 0 0 0-2.56-6.68 9.53 9.53 0 0 0-7-2.49 9.67 9.67 0 0 0-7 2.49 8.9 8.9 0 0 0-2.55 6.68 9.15 9.15 0 0 0 2.55 6.76 9.53 9.53 0 0 0 7 2.55 9.4 9.4 0 0 0 7-2.55ZM451.69 29v15.14a12.47 12.47 0 0 0-6.93-1.75c-3.73 0-6.61 1.14-8.61 3.4s-3 5.77-3 10.53V69.2H416V28.25h16.8v13q1.4-7.14 4.52-10.53a10.38 10.38 0 0 1 8-3.4 11.71 11.71 0 0 1 6.37 1.68ZM508.67 18.8v50.4h-17.15V60a16.23 16.23 0 0 1-6.62 7.88A20.81 20.81 0 0 1 474 70.6a18.11 18.11 0 0 1-10.15-2.83 18.6 18.6 0 0 1-6.74-7.77 25.75 25.75 0 0 1-2.34-11.17 24.87 24.87 0 0 1 2.48-11.55 19.43 19.43 0 0 1 7.21-8 19.85 19.85 0 0 1 10.61-2.87q12.24 0 16.45 10.64V18.8ZM489 55a8.83 8.83 0 0 0 2.63-6.62A8.42 8.42 0 0 0 489 42a11 11 0 0 0-13.89 0 8.55 8.55 0 0 0-2.59 6.47 8.67 8.67 0 0 0 2.62 6.53 9.42 9.42 0 0 0 6.86 2.51 9.56 9.56 0 0 0 7-2.51ZM107.7 8.07A105.15 105.15 0 0 0 81.47 0a72.06 72.06 0 0 0-3.36 6.83 97.68 97.68 0 0 0-29.11 0A72.37 72.37 0 0 0 45.64 0a105.89 105.89 0 0 0-26.25 8.09C2.79 32.65-1.71 56.6.54 80.21a105.73 105.73 0 0 0 32.17 16.15 77.7 77.7 0 0 0 6.89-11.11 68.42 68.42 0 0 1-10.85-5.18c.91-.66 1.8-1.34 2.66-2a75.57 75.57 0 0 0 64.32 0c.87.71 1.76 1.39 2.66 2a68.68 68.68 0 0 1-10.87 5.19 77 77 0 0 0 6.89 11.1 105.25 105.25 0 0 0 32.19-16.14c2.64-27.38-4.51-51.11-18.9-72.15ZM42.45 65.69C36.18 65.69 31 60 31 53s5-12.74 11.43-12.74S54 46 53.89 53s-5.05 12.69-11.44 12.69Zm42.24 0C78.41 65.69 73.25 60 73.25 53s5-12.74 11.44-12.74S96.23 46 96.12 53s-5.04 12.69-11.43 12.69Z"></path><ellipse class="discordLogo_svg__cls-1" cx="242.92" cy="24.93" rx="8.55" ry="7.68"></ellipse><path class="discordLogo_svg__cls-1" d="M234.36 37.9a22.08 22.08 0 0 0 17.11 0v31.52h-17.11Z"></path></g></g></g></svg></a><div class="LinksSection_linksSection__RdqvF"><a class="LinksSection_link__Z9CvZ" target="_blank" href="https://poe.com/about">About</a> · <a class="LinksSection_link__Z9CvZ" target="_blank" href="https://poe.com/blog">Blog</a> · <a class="LinksSection_link__Z9CvZ" target="_blank" href="https://www.careers.quora.com/">Careers</a> · <a class="LinksSection_link__Z9CvZ" target="_blank" href="https://help.poe.com/hc">Help center</a> · <a class="LinksSection_link__Z9CvZ" target="_blank" href="https://poe.com/privacy">Privacy policy</a> · <a class="LinksSection_link__Z9CvZ" target="_blank" href="https://poe.com/tos">Terms of service</a></div></section></section></menu></div></div><!--/$--></aside><div class="SidebarLayout_mainOverlay__DNumc" data-dd-privacy="mask-user-input" data-right-sidebar-open="false" data-left-sidebar-open="false"></div><main class="SidebarLayout_main__0ZApe" data-dd-privacy="mask-user-input" data-right-sidebar-open="false" data-left-sidebar-open="false"><!--$--><div data-dd-privacy="mask" class="SidebarLayout_wrapper__LeEqV"><!--$--><!--$--><!--$--><!--/$--><!--/$--><!--/$--><div class="CanvasSidebarLayout_container___UeKJ" data-canvas-sidebar-state="canvas-hidden"><div class="CanvasSidebarLayout_chat-column__h7mVE"><header class="HeaderBar_header__ydlc6 BaseNavbar_chatTitleNavbar__JROLE"><div class="BaseNavbar_leftNavItem__dm85A"><div><button aria-label="Toggle sidebar" class="Button_buttonBase__Bv9Vx Button_flat__dcKQ1 ToggleSidebarButton_button__2yFLU MainNavbarLeftItem_sidebarButton__qgJEa Button_iconOnly__poDNY"><div class="ToggleSidebarButton_iconContainer__3fv_h"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="ToggleSidebarButton_hamburgerIcon__ldis6"><path d="M4.5 6.5h15a1 1 0 1 0 0-2h-15a1 1 0 0 0 0 2ZM19.5 17.5h-15a1 1 0 1 0 0 2h15a1 1 0 1 0 0-2ZM19.5 11h-15a1 1 0 0 0 0 2h15a1 1 0 1 0 0-2Z"></path></svg><span role="status" aria-atomic="true" aria-hidden="true" aria-label="0 unseen chats" data-size="sm" data-position="top-right" data-pdl-badge-notification="" class="BadgeNotification_badge_notification__Uvwm4" style="--badge-offset-x: -5px; --badge-offset-y: 5px;">0</span></div></button><button aria-label="Toggle sidebar collapse" class="Button_buttonBase__Bv9Vx Button_flat__dcKQ1 ToggleSidebarCollapseButton_button__LKLlm MainNavbarLeftItem_collapseButton__8_iCL Button_iconOnly__poDNY"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="ToggleSidebarCollapseButton_hamburgerIcon__VuiyV"><path d="M4.5 6.5h15a1 1 0 1 0 0-2h-15a1 1 0 0 0 0 2ZM19.5 17.5h-15a1 1 0 1 0 0 2h15a1 1 0 1 0 0-2ZM19.5 11h-15a1 1 0 0 0 0 2h15a1 1 0 1 0 0-2Z"></path></svg></button></div></div><div class="BaseNavbar_chatTitleItem__GtrXf"><div class="ChatHeader_boldTitle__TK9mB ChatHeader_clickable__7fBYF"><div class="ChatHeader_membersImage__RYoCz"><div><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_sm__gAFzf Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" data-testid="chat-members-display-image" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-50-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div></div></div><div class="ChatHeader_overflow__aVkfq"><p class="ChatHeader_overflow__aVkfq ChatHeader_textOverflow__8Kqkz">代码解析</p><div class="ChatHeader_subTextContainer___Myba"><div class="ChatPrivacyIndicator_shieldContainer__8b4lV"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" class="ChatPrivacyIndicator_shieldIcon__4JelG" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" fill-rule="evenodd" d="M12.023 2.5a1 1 0 0 1 .809.445c.675 1.012 1.522 1.71 2.547 2.13.861.352 1.866.283 3.122-.441A1 1 0 0 1 20 5.5v9q0 .175-.059.339a8.86 8.86 0 0 1-2.811 3.938c-1.266 1.026-2.863 1.905-4.763 2.653a1 1 0 0 1-.733 0c-1.9-.748-3.497-1.628-4.763-2.653a8.86 8.86 0 0 1-2.811-3.938A1 1 0 0 1 4 14.5v-9a1 1 0 0 1 1.459-.888c1.405.726 2.413.776 3.155.466.916-.383 1.781-1.083 2.58-2.17.194-.263.503-.415.829-.408" clip-rule="evenodd"></path></svg></div><p class="ChatHeader_subText__JcFh3" data-testid="chat-members-display-text">GPT-5-Chat</p></div></div></div></div><div class="BaseNavbar_rightNavItem__3DfWJ"><span class="ChatPageNavbar_rightNavItemWrapper__hlLkg"><a class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt NavButton_noWrap__GqY7k" data-theme="ghost" href="https://poe.com/GPT-5-Chat"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M19.83 4.18a2.98 2.98 0 0 0-4.21 0L4.99 14.81q-.165.165-.24.39l-1.39 4.19a.99.99 0 0 0 .24 1.02 1.01 1.01 0 0 0 1.02.24l4.19-1.4q.225-.075.39-.24L19.83 8.39a2.98 2.98 0 0 0 0-4.21m-1.42 2.79L7.96 17.43l-1.24.41-.55-.55.41-1.24L17.03 5.59c.38-.38 1-.38 1.38 0s.38 1 0 1.38m2.09 4.53c-.55 0-1 .45-1 1v7h-7c-.55 0-1 .45-1 1s.45 1 1 1h8c.55 0 1-.45 1-1v-8c0-.55-.45-1-1-1m-16 0v-7h7c.55 0 1-.45 1-1s-.45-1-1-1h-8c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1s1-.45 1-1"></path></svg><span class="button_label__mCaDf">New chat</span></a><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt" type="button" data-theme="ghost"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M7.5 8c.24 0 .47-.08.66-.25L11 5.23v9.52c0 .55.45 1 1 1s1-.45 1-1V5.23l2.84 2.52c.19.17.42.25.66.25.28 0 .55-.11.75-.34a1 1 0 0 0-.08-1.41l-4.5-4c-.04-.03-.08-.04-.12-.07-.05-.03-.08-.07-.13-.09-.02-.01-.04-.01-.06-.02-.05-.02-.11-.03-.17-.04-.05-.01-.1-.03-.16-.03-.01.01-.02 0-.03 0s-.02.01-.03.01c-.05 0-.1.02-.16.03s-.11.02-.17.04c-.02.01-.04.01-.06.02-.05.02-.09.06-.13.09s-.09.04-.12.07l-4.5 4c-.41.37-.45 1-.08 1.41.2.22.47.33.75.33"></path><path fill="currentColor" d="M18.5 9H16c-.55 0-1 .45-1 1s.45 1 1 1h1.5v8h-11v-8H8c.55 0 1-.45 1-1s-.45-1-1-1H5.5c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h13c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1"></path></svg><span class="button_label__mCaDf">Share</span></button></span></div></header><div class="ChatPageMainColumn_scrollSectionOverflow__owAoH"><div class="ChatPageMainColumn_column__ZWl1P"><div class="ChatMessagesScrollWrapper_overflowHiddenWrapper__sCxq9"><div class="ChatMessagesScrollWrapper_scrollableContainerWrapper__x8H60"><div class="InfiniteScroll_container__PHsd4 ChatMessagesView_infiniteScroll__vk3VX"><div class="InfiniteScroll_pagingTrigger__cdz9I"></div><div class="BotInfoCard_sectionContainer__S96Qf"><section class="BotInfoCardHeader_header__eRPV0"><div class="BotInfoCardHeader_botImageAndNameContainer__7_ac_"><a href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_md__imQ_g Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="48" height="48" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div></a><div class="BotInfoCardHeader_headerInfo___mKxl"><a href="https://poe.com/GPT-5-Chat"><h2 class="BotInfoCardHeader_botName__IPFrb">GPT-5-Chat</h2></a><div class="BotInfoCardHeader_operatedBy__G5WAP">By <div class="UserHandle_userHandleContainer__gfA69"><div class="Avatar_root__rwLF0 Avatar_circle__3Dm9j Avatar_xx-sm__hwmu_ Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="OpenAI" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-2910400879-50-wrfgcbmfjrhquvwlxvypitmawpovrxoi.jpeg" style="color: transparent;"></div><a class="UserHandle_creatorHandle__aNMAK" href="https://poe.com/openai">@openai</a></div></div></div></div><div class="BotInfoCardHeader_followerAndActiveUserCountContainer__sVUj_"><div class="BotInfoCardHeader_followerCount__nrf6H">3.7K followers</div><div class="BotInfoCardHeader_separatorElement__2g_2m">·</div><div class="BotInfoCardHeader_initialPointsCost__oIIcI"><span>244+ points</span></div></div></section><div class="BotInfoCardActionBar_actionBar__5_Gnq BotInfoCard_actionBar__dAMHR"><a class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o" data-theme="secondary" href="https://poe.com/chats?bot=GPT-5-Chat"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M7.5 20c-.12 0-.24-.02-.35-.06-.39-.15-.65-.52-.65-.94v-3h-1C3.57 16 2 14.43 2 12.5v-7C2 3.57 3.57 2 5.5 2h9C16.43 2 18 3.57 18 5.5v7c0 1.93-1.57 3.5-3.5 3.5h-3.05l-3.2 3.66c-.19.22-.47.34-.75.34m-2-16C4.67 4 4 4.67 4 5.5v7c0 .83.67 1.5 1.5 1.5h2c.55 0 1 .45 1 1v1.34l1.75-2A.98.98 0 0 1 11 14h3.5c.83 0 1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5z"></path><path fill="currentColor" d="M6.75 10.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m3.25 0a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m3.25 0a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5M20 12v6h-2c-.43 0-.79.27-.94.65l-.36-.36A1 1 0 0 0 16 18h-3.64l-.7.79c.31.71 1.02 1.21 1.84 1.21h2.09l1.71 1.71c.18.19.44.29.7.29.13 0 .26-.02.38-.08.38-.15.62-.52.62-.92v-1h1c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2"></path></svg><span class="button_label__mCaDf">History</span></a><button class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o" type="button" data-theme="secondary"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="m20.615 7.18-3.796-3.795a3 3 0 0 0-2.135-.885H9.316a3 3 0 0 0-2.136.885L3.385 7.18A3 3 0 0 0 2.5 9.316v5.367a3 3 0 0 0 .885 2.136l3.796 3.796c.57.57 1.329.885 2.136.885h5.367a3 3 0 0 0 2.136-.885l3.796-3.796c.57-.57.885-1.329.885-2.136V9.316a3 3 0 0 0-.886-2.136M19.5 14.684c0 .272-.106.529-.299.722l-3.796 3.796a1.02 1.02 0 0 1-.722.299H9.316c-.272 0-.529-.106-.722-.299l-3.796-3.796a1.02 1.02 0 0 1-.298-.722V9.316c0-.273.106-.529.299-.722l3.796-3.795c.192-.193.449-.299.721-.299h5.367c.272 0 .529.106.722.299l3.796 3.795c.193.193.299.449.299.722z"></path><path fill="currentColor" d="M14.785 11.262h-2.047V7.817a.74.74 0 0 0-.524-.707.74.74 0 0 0-.828.297L8.601 11.59a.74.74 0 0 0 .614 1.148h2.047v3.444a.738.738 0 0 0 1.352.409l2.785-4.183a.737.737 0 0 0-.614-1.146"></path></svg><span class="button_label__mCaDf">Rates</span></button><a class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o" data-theme="secondary" href="https://poe.com/GPT-5-Chat/api"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M13.469 3.486c.173-.59.762-.919 1.315-.735s.861.813.688 1.404L10.665 20.58c-.173.59-.762.92-1.315.735-.553-.184-.862-.813-.69-1.403zm3.627 3.649a1 1 0 0 1 1.403-.077l.08.077 3.846 4.107.073.084a1.18 1.18 0 0 1 0 1.414l-.073.085-3.847 4.106a1 1 0 0 1-1.482 0 1.173 1.173 0 0 1 0-1.583l3.105-3.315-3.105-3.315-.073-.084a1.176 1.176 0 0 1 .073-1.499m-11.542 0a1 1 0 0 1 1.483 0c.41.438.41 1.146 0 1.583L3.93 12.033l3.106 3.315.073.084c.336.44.311 1.089-.073 1.499a1 1 0 0 1-1.404.078l-.079-.078-3.847-4.106a1.173 1.173 0 0 1 0-1.583z"></path></svg><span class="button_label__mCaDf">API</span></a><div><button class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5" type="button" aria-label="Follow" data-theme="secondary"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M16.15 17.63h-2c0-.57-.22-1.11-.63-1.52-.8-.8-2.24-.8-3.04 0-.41.41-.63.95-.63 1.52h-2c0-1.11.43-2.15 1.22-2.93.77-.77 1.84-1.22 2.93-1.22s2.16.44 2.93 1.22a4.1 4.1 0 0 1 1.22 2.93M12 12.9c-.87 0-1.68-.34-2.3-.95s-.95-1.43-.95-2.3.34-1.68.95-2.3c1.23-1.23 3.37-1.23 4.6 0 .61.61.95 1.43.95 2.3s-.34 1.68-.95 2.3-1.43.95-2.3.95m0-4.5c-.33 0-.65.13-.88.37s-.37.55-.37.88.13.65.37.88c.46.46 1.3.46 1.77 0 .23-.23.37-.55.37-.88s-.14-.65-.38-.88-.55-.37-.88-.37"></path><path fill="currentColor" d="M14 19.5H6.5c-.53 0-1.04-.21-1.41-.59s-.59-.88-.59-1.41v-11c0-.53.21-1.04.59-1.41s.88-.59 1.41-.59h11c.53 0 1.04.21 1.41.59s.59.88.59 1.41V14c.77 0 1.47.29 2 .77V6.5c0-1.07-.42-2.07-1.17-2.83A3.95 3.95 0 0 0 17.5 2.5h-11c-1.07 0-2.07.42-2.83 1.17S2.5 5.43 2.5 6.5v11c0 1.07.42 2.07 1.17 2.83S5.43 21.5 6.5 21.5h8.27c-.48-.53-.77-1.23-.77-2"></path><path fill="currentColor" d="M22 18.5h-1.5V17c0-.55-.45-1-1-1s-1 .45-1 1v1.5H17c-.55 0-1 .45-1 1s.45 1 1 1h1.5V22c0 .55.45 1 1 1s1-.45 1-1v-1.5H22c.55 0 1-.45 1-1s-.45-1-1-1"></path></svg><span class="button_label__mCaDf"></span></button></div><button class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5" type="button" data-theme="secondary"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M7.5 8c.24 0 .47-.08.66-.25L11 5.23v9.52c0 .55.45 1 1 1s1-.45 1-1V5.23l2.84 2.52c.19.17.42.25.66.25.28 0 .55-.11.75-.34a1 1 0 0 0-.08-1.41l-4.5-4c-.04-.03-.08-.04-.12-.07-.05-.03-.08-.07-.13-.09-.02-.01-.04-.01-.06-.02-.05-.02-.11-.03-.17-.04-.05-.01-.1-.03-.16-.03-.01.01-.02 0-.03 0s-.02.01-.03.01c-.05 0-.1.02-.16.03s-.11.02-.17.04c-.02.01-.04.01-.06.02-.05.02-.09.06-.13.09s-.09.04-.12.07l-4.5 4c-.41.37-.45 1-.08 1.41.2.22.47.33.75.33"></path><path fill="currentColor" d="M18.5 9H16c-.55 0-1 .45-1 1s.45 1 1 1h1.5v8h-11v-8H8c.55 0 1-.45 1-1s-.45-1-1-1H5.5c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h13c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1"></path></svg><span class="button_label__mCaDf">Share app</span></button></div><div class="BotDescriptionDisclaimerSection_text__sIeXQ " aria-expanded="false"><div><span>ChatGPT-5 points to the non-reasoning model GPT-5 snapshot (gpt-5-chat-latest) currently used in ChatGPT. Supports native vision, 400k tokens of context, and generally has more intelligence than GPT-4.1. Provides a 90% chat history cache discount.</span></div><button class="BotDescriptionDisclaimerSection_expander__DkmQX" aria-expanded="false">View more</button></div><div class="BotInfoCardHeader_botMetadataTagContainer__vsOV7"><ol class="tag_tags__Zn5SU"><li><div class="tag_tag__SaZZp">OFFICIAL</div></li></ol></div></div><div class="ChatMessagesView_inviteSection__O3uzM"></div><div class="ChatMessagesView_tupleGroupContainer__LSCLm ChatMessagesView_largerGap__hMKSc"><p class="MessageDate_container__HJE_V">Today</p><div class="ChatMessagesView_messageTuple__Jh5lQ ChatMessagesView_largerGap__hMKSc" data-animate-jump="true"><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443037523171"><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6 ChatMessage_rightSideMessageWrapper__r0roB"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU Message_rightSideMessageRow__23wdY"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_rightSideMessageBubble__ioa_i Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_accentContainer__kl4s4"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc" style="overflow: hidden; max-height: 60vh;"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-on-accent__rESxX"><p>帮我详细解析一下这个代码：</p>
<h5>Differentiable Physical Front-End</h5>
<p>class DifferentiablePhysicalFrontEnd(torch.nn.Module):<br>
"""<br>
Differentiable Physical Front-end</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">ini</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-ini" style="white-space: pre;"><span>Writes features to the graph so that downstream GNN stages can consume them:
</span>  - Net edges ('net_in', 'net_out'): 'L_wire', 'C_wire', 'R_wire', 'D_wire'
  - Cell edges ('cell_out'): 'D_cell', 'Output_Slew', 'C_load'
  - Cell nodes ('node'): 'P_total_cell'
"""
def __init__(self,
<span>             c_per_micron_ff: </span><span class="hljs-attr">float</span><span> = </span><span style="color: rgb(245, 171, 53);">0.12918</span><span>,         </span><span style="color: rgb(212, 208, 171);"># fF/μm</span><span>
</span><span>             r_wire_per_micron: </span><span class="hljs-attr">float</span><span> = </span><span style="color: rgb(245, 171, 53);">0.024222</span><span>,      </span><span style="color: rgb(212, 208, 171);"># Ohm/μm</span><span>
</span><span>             base_driver_resistance: </span><span class="hljs-attr">float</span><span> = </span><span style="color: rgb(245, 171, 53);">80.0</span><span>,     </span><span style="color: rgb(212, 208, 171);"># Ohm</span><span>
</span><span>             default_input_slew_ps: </span><span class="hljs-attr">float</span><span> = </span><span style="color: rgb(245, 171, 53);">20</span><span>,        </span><span style="color: rgb(212, 208, 171);"># ps</span><span>
</span><span>             vdd: </span><span class="hljs-attr">float</span><span> = </span><span style="color: rgb(245, 171, 53);">0.7</span><span>,                         </span><span style="color: rgb(212, 208, 171);"># V</span><span>
</span><span>             freq_ghz: </span><span class="hljs-attr">float</span><span> = </span><span style="color: rgb(245, 171, 53);">1.0</span><span>,                    </span><span style="color: rgb(212, 208, 171);"># GHz</span><span>
</span><span>             switching_alpha: </span><span class="hljs-attr">float</span><span> = </span><span style="color: rgb(245, 171, 53);">0.2</span><span>,             </span><span style="color: rgb(212, 208, 171);"># unitless</span><span>
</span><span>             smooth_temperature: </span><span class="hljs-attr">float</span><span> = </span><span style="color: rgb(245, 171, 53);">0.01</span><span>,         </span><span style="color: rgb(212, 208, 171);"># unitless</span><span>
</span><span>             hidden_dim: </span><span class="hljs-attr">int</span><span> = </span><span style="color: rgb(245, 171, 53);">32</span><span>):
</span>    super().__init__()

<span>    </span><span class="hljs-attr">self.c_per_micron_ff</span><span> = c_per_micron_ff                
</span><span>    </span><span class="hljs-attr">self.r_wire_per_micron</span><span> = r_wire_per_micron            
</span><span>    </span><span class="hljs-attr">self.base_driver_resistance</span><span> = base_driver_resistance  
</span><span>    </span><span class="hljs-attr">self.default_input_slew_ps</span><span> = default_input_slew_ps    
</span><span>    </span><span class="hljs-attr">self.vdd</span><span> = vdd                                        
</span><span>    </span><span class="hljs-attr">self.freq_ghz</span><span> = freq_ghz                             
</span><span>    </span><span class="hljs-attr">self.switching_alpha</span><span> = switching_alpha
</span><span>    </span><span class="hljs-attr">self.smooth_temperature</span><span> = smooth_temperature
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># Input pin capacitance: return in fF</span><span>
</span><span>    </span><span class="hljs-attr">self.base_cin_ff</span><span> = </span><span style="color: rgb(245, 171, 53);">0.4</span><span>                       
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># Load pretrained NLDM models (expects: input_slew in ps, C_load in fF)</span><span>
</span><span>    </span><span class="hljs-attr">self.model_dir</span><span> = os.path.join(os.path.dirname(os.path.abspath(__file__)), </span><span style="color: rgb(171, 227, 56);">"nldm_models"</span><span>)
</span><span>    self.delay_models, </span><span class="hljs-attr">self.delay_scalers</span><span> = load_delay_models(self.model_dir)
</span><span>    self.power_models, </span><span class="hljs-attr">self.power_scalers</span><span> = load_power_models(self.model_dir)
</span>    assert self.delay_models is not None and self.delay_scalers is not None, "delay models not found"
    assert self.power_models is not None and self.power_scalers is not None, "power models not found"

def _predict_delay_diff(self, cell_type, pin, slew, load):
<span>    </span><span class="hljs-attr">k</span><span> = (cell_type, pin)
</span>    if k not in self.delay_models:
<span>        return torch.zeros(2, </span><span class="hljs-attr">device</span><span>=slew.device, dtype=slew.dtype)
</span><span>    </span><span class="hljs-attr">m</span><span> = self.delay_models[k]
</span><span>    </span><span class="hljs-attr">s</span><span> = self.delay_scalers[k]
</span><span>    x_mean, </span><span class="hljs-attr">x_std</span><span> = s[</span><span style="color: rgb(171, 227, 56);">"x_scaler"</span><span>].mean, s[</span><span style="color: rgb(171, 227, 56);">"x_scaler"</span><span>].std
</span><span>    y_mean, </span><span class="hljs-attr">y_std</span><span> = s[</span><span style="color: rgb(171, 227, 56);">"y_scaler"</span><span>].mean, s[</span><span style="color: rgb(171, 227, 56);">"y_scaler"</span><span>].std
</span><span>    </span><span class="hljs-attr">x</span><span> = torch.stack([slew, load]).unsqueeze(</span><span style="color: rgb(245, 171, 53);">0</span><span>)
</span><span>    </span><span class="hljs-attr">y_scaled</span><span> = m((x - x_mean) / x_std)
</span><span>    </span><span class="hljs-attr">y_pred</span><span> = y_scaled * y_std + y_mean
</span><span>    </span><span class="hljs-attr">y_pred</span><span> = torch.expm1(torch.clamp(y_pred, -</span><span style="color: rgb(245, 171, 53);">8</span><span>, </span><span style="color: rgb(245, 171, 53);">10</span><span>)).clamp(</span><span style="color: rgb(245, 171, 53);">1</span><span>e-</span><span style="color: rgb(245, 171, 53);">6</span><span>, </span><span style="color: rgb(245, 171, 53);">1</span><span>e3)
</span>    return y_pred.squeeze(0)

def _predict_power_diff(self, cell_type, pin, slew, load):
<span>    </span><span class="hljs-attr">k</span><span> = (cell_type, pin)
</span>    if k not in self.power_models:
<span>        return torch.zeros((), </span><span class="hljs-attr">device</span><span>=slew.device, dtype=slew.dtype)
</span><span>    </span><span class="hljs-attr">m</span><span> = self.power_models[k]
</span><span>    </span><span class="hljs-attr">s</span><span> = self.power_scalers[k]
</span><span>    x_mean, </span><span class="hljs-attr">x_std</span><span> = s[</span><span style="color: rgb(171, 227, 56);">"x_scaler"</span><span>].mean, s[</span><span style="color: rgb(171, 227, 56);">"x_scaler"</span><span>].std
</span><span>    y_mean, </span><span class="hljs-attr">y_std</span><span> = s[</span><span style="color: rgb(171, 227, 56);">"y_scaler"</span><span>].mean, s[</span><span style="color: rgb(171, 227, 56);">"y_scaler"</span><span>].std
</span><span>    </span><span class="hljs-attr">x</span><span> = torch.stack([slew, load]).unsqueeze(</span><span style="color: rgb(245, 171, 53);">0</span><span>)
</span><span>    </span><span class="hljs-attr">y_scaled</span><span> = m((x - x_mean) / x_std)
</span><span>    </span><span class="hljs-attr">y_pred</span><span> = y_scaled * y_std + y_mean
</span>    return torch.clamp(y_pred, 1e-6, 5e2).squeeze()

@staticmethod
def _edge_src_dst(g: dgl.DGLHeteroGraph, etype: str):
<span>    return g.edges(</span><span class="hljs-attr">etype</span><span>=etype)
</span>
def _smooth_abs(self, x):
    """
    Smooth approximation of |x| using logsumexp for full differentiability.
    
    |x| ≈ τ * log(exp(x/τ) + exp(-x/τ))
    
    As temperature → 0, this approaches |x|.
    For temperature &gt; 0, the gradient is smooth everywhere.
    """
<span>    </span><span class="hljs-attr">temperature</span><span> = self.smooth_temperature
</span><span>    </span><span class="hljs-attr">x_scaled</span><span> = x / temperature
</span><span>    </span><span class="hljs-attr">smooth</span><span> = temperature * torch.logsumexp(torch.stack([x_scaled, -x_scaled], dim=</span><span style="color: rgb(245, 171, 53);">0</span><span>), dim=</span><span style="color: rgb(245, 171, 53);">0</span><span>)
</span>    return smooth

def _manhattan_len(self, x_src, y_src, x_dst, y_dst):
    """
    Differentiable L1 distance (μm)
    """
<span>    </span><span class="hljs-attr">dx</span><span> = x_src - x_dst
</span><span>    </span><span class="hljs-attr">dy</span><span> = y_src - y_dst
</span>    return self._smooth_abs(dx) + self._smooth_abs(dy)

def _driver_resistance(self, size_s: torch.Tensor) -&gt; torch.Tensor:
<span>    </span><span style="color: rgb(212, 208, 171);"># Size-only scaling: larger size -&gt; smaller output resistance</span><span>
</span><span>    </span><span class="hljs-attr">size_pos</span><span> = F.softplus(size_s, beta=</span><span style="color: rgb(245, 171, 53);">10.0</span><span>) + </span><span style="color: rgb(245, 171, 53);">1</span><span>e-</span><span style="color: rgb(245, 171, 53);">6</span><span>
</span>    return self.base_driver_resistance / size_pos

def _wire_resistance(self, l_wire_um: torch.Tensor) -&gt; torch.Tensor:
<span>    </span><span style="color: rgb(212, 208, 171);"># Ω = (Ω/μm) * μm</span><span>
</span>    return self.r_wire_per_micron * l_wire_um

def _cin(self, vt: torch.Tensor, size_s: torch.Tensor) -&gt; torch.Tensor:
    """
    Estimate input pin capacitance from VT and size S.
    
    Physical model:
<span>        </span><span class="hljs-attr">C_in</span><span> = base_cin × size × vt_factor(vt)
</span>    
    VT type mapping (from LibReader._vt_to_id):
<span>        </span><span class="hljs-attr">vt</span><span>=</span><span style="color: rgb(245, 171, 53);">0</span><span>: L (LVT)   - Low threshold voltage (thinner oxide, higher cap)
</span><span>        </span><span class="hljs-attr">vt</span><span>=</span><span style="color: rgb(245, 171, 53);">1</span><span>: R (RVT)   - Regular threshold voltage (baseline)
</span><span>        </span><span class="hljs-attr">vt</span><span>=</span><span style="color: rgb(245, 171, 53);">2</span><span>: S (SLVT)  - Super-low threshold voltage (thinnest oxide, highest cap)
</span><span>        </span><span class="hljs-attr">vt</span><span>=</span><span style="color: rgb(245, 171, 53);">3</span><span>: SRAM      - SRAM cells (</span><span style="color: rgb(245, 171, 53);">6</span><span>T structure, minimal input cap)
</span>    
    VT-dependent scaling factors (exact at integer points):
<span>        LVT  (</span><span class="hljs-attr">vt</span><span>=</span><span style="color: rgb(245, 171, 53);">0</span><span>): C_factor = </span><span style="color: rgb(245, 171, 53);">1.15</span><span>  (</span><span style="color: rgb(245, 171, 53);">15</span><span>% higher than RVT)
</span><span>        RVT  (</span><span class="hljs-attr">vt</span><span>=</span><span style="color: rgb(245, 171, 53);">1</span><span>): C_factor = </span><span style="color: rgb(245, 171, 53);">1.00</span><span>  (baseline)
</span><span>        SLVT (</span><span class="hljs-attr">vt</span><span>=</span><span style="color: rgb(245, 171, 53);">2</span><span>): C_factor = </span><span style="color: rgb(245, 171, 53);">1.25</span><span>  (</span><span style="color: rgb(245, 171, 53);">25</span><span>% higher than RVT, fastest)
</span><span>        SRAM (</span><span class="hljs-attr">vt</span><span>=</span><span style="color: rgb(245, 171, 53);">3</span><span>): C_factor = </span><span style="color: rgb(245, 171, 53);">0.60</span><span>  (</span><span style="color: rgb(245, 171, 53);">40</span><span>% lower, pass-gate structure)
</span>    
    Implementation:
        - Uses piecewise polynomial interpolation for full differentiability
        - Smooth transitions with sigmoid blending
        - Fully differentiable w.r.t. both vt and size
    """
<span>    </span><span style="color: rgb(212, 208, 171);"># Clamp vt to valid range [0, 3]</span><span>
</span><span>    </span><span class="hljs-attr">vt_clamped</span><span> = vt.clamp(</span><span style="color: rgb(245, 171, 53);">0.0</span><span>, </span><span style="color: rgb(245, 171, 53);">3.0</span><span>)
</span>    
<span>    </span><span style="color: rgb(212, 208, 171);"># Piecewise polynomial approximation:</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);"># Segment [0, 2]: quadratic through (0, 1.15), (1, 1.00), (2, 1.25)</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);"># Solving for a*vt^2 + b*vt + c:</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);">#   f(0) = 1.15 → c = 1.15</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);">#   f(1) = 1.00 → a + b + c = 1.00 → a + b = -0.15</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);">#   f(2) = 1.25 → 4a + 2b + c = 1.25 → 4a + 2b = 0.10</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);"># Solution: a = 0.20, b = -0.35, c = 1.15</span><span>
</span><span>    </span><span class="hljs-attr">factor_02</span><span> = </span><span style="color: rgb(245, 171, 53);">0.20</span><span> * vt_clamped**</span><span style="color: rgb(245, 171, 53);">2</span><span> - </span><span style="color: rgb(245, 171, 53);">0.35</span><span> * vt_clamped + </span><span style="color: rgb(245, 171, 53);">1.15</span><span>
</span>    
<span>    </span><span style="color: rgb(212, 208, 171);"># Segment [2, 3]: linear from (2, 1.25) to (3, 0.60)</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);"># f(vt) = 1.25 + (0.60 - 1.25) * (vt - 2) / (3 - 2)</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);">#       = 1.25 - 0.65 * (vt - 2)</span><span>
</span><span>    </span><span class="hljs-attr">factor_23</span><span> = </span><span style="color: rgb(245, 171, 53);">1.25</span><span> - </span><span style="color: rgb(245, 171, 53);">0.65</span><span> * (vt_clamped - </span><span style="color: rgb(245, 171, 53);">2.0</span><span>)
</span>    
<span>    </span><span style="color: rgb(212, 208, 171);"># Smooth blending using sigmoid for differentiable transition at vt=2</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);"># sigmoid(k*(x-2)) transitions from 0 to 1 around x=2</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);"># k=10 gives sharp but smooth transition</span><span>
</span><span>    </span><span class="hljs-attr">transition_sharpness</span><span> = </span><span style="color: rgb(245, 171, 53);">10.0</span><span>
</span><span>    </span><span class="hljs-attr">weight</span><span> = torch.sigmoid(transition_sharpness * (vt_clamped - </span><span style="color: rgb(245, 171, 53);">2.0</span><span>))
</span>    
<span>    </span><span style="color: rgb(212, 208, 171);"># Weighted combination: vt&lt;2 uses quadratic, vt&gt;2 uses linear</span><span>
</span><span>    </span><span class="hljs-attr">vt_factor</span><span> = (</span><span style="color: rgb(245, 171, 53);">1.0</span><span> - weight) * factor_02 + weight * factor_23
</span>    
<span>    </span><span style="color: rgb(212, 208, 171);"># Gate capacitance: C_in = base × size × vt_factor</span><span>
</span><span>    </span><span class="hljs-attr">cin_ff</span><span> = self.base_cin_ff * size_s * vt_factor
</span>    return cin_ff

<span></span><span style="color: rgb(212, 208, 171);"># ---- Main Forward (rewritten for batched graphs) ----</span><span>
</span>def forward(self, g: dgl.DGLHeteroGraph):
    """
    Enrich graph with physical features.
    Works for both single and batched graphs from dataset.
<span>    ""</span><span class="hljs-attr">"
</span><span class="hljs-attr">
</span><span class="hljs-attr">    print("</span><span>=</span><span style="color: rgb(171, 227, 56);">" * 40)
</span><span style="color: rgb(171, 227, 56);">    print("</span><span>[INFO] 基础图信息</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">    try:
</span><span style="color: rgb(171, 227, 56);">        print(f"</span><span>节点类型: {g.ntypes}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">        print(f"</span><span>边类型: {g.etypes}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">        for ntype in g.ntypes:
</span><span style="color: rgb(171, 227, 56);">            print(f"</span><span>节点[{ntype}]: {g.num_nodes(ntype)}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">        for etype in g.etypes:
</span><span style="color: rgb(171, 227, 56);">            print(f"</span><span>边[{etype}]: {g.num_edges(etype)}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">    except Exception as e:
</span><span style="color: rgb(171, 227, 56);">        print(f"</span><span>打印图信息异常: {e}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">    print("</span><span>=</span><span style="color: rgb(171, 227, 56);">" * 40)
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    # 打印 graph_aux (关键新增部分)
</span><span style="color: rgb(171, 227, 56);">    if hasattr(g, "</span><span>graph_aux</span><span style="color: rgb(171, 227, 56);">"):
</span><span style="color: rgb(171, 227, 56);">        aux = g.graph_aux
</span><span style="color: rgb(171, 227, 56);">        print("</span><span>[INFO] graph_aux 调试信息:</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">        print(f"</span><span>  键列表: {list(aux.keys())}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">        # 打印 cell_macro_names 结构
</span><span style="color: rgb(171, 227, 56);">        if "</span><span>cell_macro_names</span><span style="color: rgb(171, 227, 56);">" in aux:
</span><span style="color: rgb(171, 227, 56);">            cmn = aux["</span><span>cell_macro_names</span><span style="color: rgb(171, 227, 56);">"]
</span><span style="color: rgb(171, 227, 56);">            print(f"</span><span>  ├─ cell_macro_names 总子图数量: {len(cmn)}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">            if len(cmn) &gt; 0:
</span><span style="color: rgb(171, 227, 56);">                print(f"</span><span>  ├─ 第一个子图 cell_macro_names 长度: {len(cmn[</span><span style="color: rgb(245, 171, 53);">0</span><span>])}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">                print(f"</span><span>  ├─ 示例前</span><span style="color: rgb(245, 171, 53);">5</span><span>个单元名: {cmn[</span><span style="color: rgb(245, 171, 53);">0</span><span>][:</span><span style="color: rgb(245, 171, 53);">5</span><span>]}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">        # 打印 node_sink_from_driver_pin 结构
</span><span style="color: rgb(171, 227, 56);">        if "</span><span>node_sink_from_driver_pin</span><span style="color: rgb(171, 227, 56);">" in aux:
</span><span style="color: rgb(171, 227, 56);">            smaps = aux["</span><span>node_sink_from_driver_pin</span><span style="color: rgb(171, 227, 56);">"]
</span><span style="color: rgb(171, 227, 56);">            print(f"</span><span>  ├─ node_sink_from_driver_pin 子图数量: {len(smaps)}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">            if len(smaps) &gt; 0 and isinstance(smaps[0], dict):
</span><span style="color: rgb(171, 227, 56);">                sample_keys = list(smaps[0].keys())[:3]
</span><span style="color: rgb(171, 227, 56);">                print(f"</span><span>  ├─ 第一个子图 sink_map 键数量: {len(smaps[</span><span style="color: rgb(245, 171, 53);">0</span><span>])}, 样例键: {sample_keys}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">                if sample_keys:
</span><span style="color: rgb(171, 227, 56);">                    first_key = sample_keys[0]
</span><span style="color: rgb(171, 227, 56);">                    print(f"</span><span>  ├─ 样例映射 {first_key} → {smaps[</span><span style="color: rgb(245, 171, 53);">0</span><span>][first_key][:</span><span style="color: rgb(245, 171, 53);">2</span><span>]}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">        print("</span><span>=</span><span style="color: rgb(171, 227, 56);">" * 40)
</span><span style="color: rgb(171, 227, 56);">    else:
</span><span style="color: rgb(171, 227, 56);">        print("</span><span>[INFO] graph_aux 不存在，可能该图不是批处理图。</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">        print("</span><span>=</span><span style="color: rgb(171, 227, 56);">" * 40)
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    nf = g.ndata["</span><span>nf</span><span style="color: rgb(171, 227, 56);">"]
</span><span style="color: rgb(171, 227, 56);">    X, Y, S, VT = nf[:, 0], nf[:, 1], nf[:, 2], nf[:, 3]
</span><span style="color: rgb(171, 227, 56);">    device = nf.device
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    # handle batching
</span><span style="color: rgb(171, 227, 56);">    is_batched = hasattr(g, "</span><span>batch_num_nodes</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">    if is_batched:
</span><span style="color: rgb(171, 227, 56);">        bnn = g.batch_num_nodes("</span><span>node</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">        # Support both list[int] and Tensor returns from DGL
</span><span style="color: rgb(171, 227, 56);">        if torch.is_tensor(bnn):
</span><span style="color: rgb(171, 227, 56);">            sizes = bnn.to(device=device)
</span><span style="color: rgb(171, 227, 56);">        else:
</span><span style="color: rgb(171, 227, 56);">            sizes = torch.tensor(list(bnn), device=device)
</span><span style="color: rgb(171, 227, 56);">        if sizes.dim() == 0:
</span><span style="color: rgb(171, 227, 56);">            sizes = sizes.unsqueeze(0)
</span><span style="color: rgb(171, 227, 56);">        zero = torch.zeros(1, device=device, dtype=sizes.dtype)
</span><span style="color: rgb(171, 227, 56);">        node_offsets = torch.cumsum(torch.cat([zero, sizes], dim=0), dim=0)
</span><span style="color: rgb(171, 227, 56);">        aux = g.graph_aux
</span><span style="color: rgb(171, 227, 56);">        macro_batches = aux.get("</span><span>cell_macro_names</span><span style="color: rgb(171, 227, 56);">", [])
</span><span style="color: rgb(171, 227, 56);">        sink_batches = aux.get("</span><span>node_sink_from_driver_pin</span><span style="color: rgb(171, 227, 56);">", [])
</span><span style="color: rgb(171, 227, 56);">    else:
</span><span style="color: rgb(171, 227, 56);">        node_offsets = torch.tensor([0, g.num_nodes("</span><span>node</span><span style="color: rgb(171, 227, 56);">")], device=device)
</span><span style="color: rgb(171, 227, 56);">        macro_batches = [getattr(g, "</span><span>cell_macro_names</span><span style="color: rgb(171, 227, 56);">", [])]
</span><span style="color: rgb(171, 227, 56);">        sink_batches = [getattr(g, "</span><span>node_sink_from_driver_pin</span><span style="color: rgb(171, 227, 56);">", {})]
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    # --- net_in/out edge features ---
</span><span style="color: rgb(171, 227, 56);">    for et in ["</span><span>net_in</span><span style="color: rgb(171, 227, 56);">", "</span><span>net_out</span><span style="color: rgb(171, 227, 56);">"]:
</span><span style="color: rgb(171, 227, 56);">        if et not in g.etypes:
</span><span style="color: rgb(171, 227, 56);">            continue
</span><span style="color: rgb(171, 227, 56);">        src, dst = self._edge_src_dst(g, et)
</span><span style="color: rgb(171, 227, 56);">        l_um = self._manhattan_len(X[src], Y[src], X[dst], Y[dst])
</span><span style="color: rgb(171, 227, 56);">        r_wire = self._wire_resistance(l_um)
</span><span style="color: rgb(171, 227, 56);">        c_wire = self.c_per_micron_ff * l_um
</span><span style="color: rgb(171, 227, 56);">        driver = src if et == "</span><span>net_in</span><span style="color: rgb(171, 227, 56);">" else dst
</span><span style="color: rgb(171, 227, 56);">        r_drv = self._driver_resistance(S[driver])
</span><span style="color: rgb(171, 227, 56);">        d_ps = (r_drv * c_wire + 0.5 * r_wire * c_wire) * 1e-3
</span><span style="color: rgb(171, 227, 56);">        g.edges[et].data.update(
</span><span style="color: rgb(171, 227, 56);">            {
</span><span style="color: rgb(171, 227, 56);">                "</span><span>L_wire</span><span style="color: rgb(171, 227, 56);">": l_um.unsqueeze(-1),
</span><span style="color: rgb(171, 227, 56);">                "</span><span>C_wire</span><span style="color: rgb(171, 227, 56);">": c_wire.unsqueeze(-1),
</span><span style="color: rgb(171, 227, 56);">                "</span><span>R_wire</span><span style="color: rgb(171, 227, 56);">": r_wire.unsqueeze(-1),
</span><span style="color: rgb(171, 227, 56);">                "</span><span>D_wire</span><span style="color: rgb(171, 227, 56);">": d_ps.unsqueeze(-1),
</span><span style="color: rgb(171, 227, 56);">            }
</span><span style="color: rgb(171, 227, 56);">        )
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    # --- cell_out edges ---
</span><span style="color: rgb(171, 227, 56);">    if "</span><span>cell_out</span><span style="color: rgb(171, 227, 56);">" not in g.etypes:
</span><span style="color: rgb(171, 227, 56);">        raise ValueError("</span><span>Missing cell_out edges for power calc!</span><span style="color: rgb(171, 227, 56);">") 
</span><span style="color: rgb(171, 227, 56);">    if g.num_edges("</span><span>cell_out</span><span style="color: rgb(171, 227, 56);">") == 0:
</span><span style="color: rgb(171, 227, 56);">        raise ValueError("</span><span>Missing load edges for power calc!</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    src_c, dst_c = self._edge_src_dst(g, "</span><span>cell_out</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">    d_cell_out = torch.zeros(len(src_c), device=device)
</span><span style="color: rgb(171, 227, 56);">    out_slew_out = torch.zeros(len(src_c), device=device)
</span><span style="color: rgb(171, 227, 56);">    c_load_out = torch.zeros(len(src_c), device=device)
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    # process each subgraph individually
</span><span style="color: rgb(171, 227, 56);">    for i in range(len(macro_batches)):
</span><span style="color: rgb(171, 227, 56);">        start, end = node_offsets[i].item(), node_offsets[i + 1].item()
</span><span style="color: rgb(171, 227, 56);">        cell_types = macro_batches[i]
</span><span style="color: rgb(171, 227, 56);">        sink_map = sink_batches[i]
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">        print(f"</span><span>[DEBUG] 子图 {i} 节点范围 [{start},{end})</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">        print(f"</span><span> cell_types 数量: {len(cell_types)} sink_map: {len(sink_map)}</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">        if not isinstance(sink_map, dict) or len(cell_types) != (end - start):
</span><span style="color: rgb(171, 227, 56);">            print("</span><span>[警告] sink_map或cell_types异常, 跳过此子图计算</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">            continue
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">        edge_map = {
</span><span style="color: rgb(171, 227, 56);">            (int(s), int(d)): idx
</span><span style="color: rgb(171, 227, 56);">            for idx, (s, d) in enumerate(zip(src_c.tolist(), dst_c.tolist()))
</span><span style="color: rgb(171, 227, 56);">            if (start &lt;= s &lt; end) and (start &lt;= d &lt; end)
</span><span style="color: rgb(171, 227, 56);">        }
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">        driver_to_loads = {}
</span><span style="color: rgb(171, 227, 56);">        for dst_node, entries in sink_map.items():
</span><span style="color: rgb(171, 227, 56);">            g_dst = dst_node + start
</span><span style="color: rgb(171, 227, 56);">            for (src_id, _src, pin) in entries:
</span><span style="color: rgb(171, 227, 56);">                g_src = src_id + start
</span><span style="color: rgb(171, 227, 56);">                ei = edge_map.get((g_src, g_dst), None)
</span><span style="color: rgb(171, 227, 56);">                if ei is None:
</span><span style="color: rgb(171, 227, 56);">                    continue
</span><span style="color: rgb(171, 227, 56);">                driver_to_loads.setdefault(g_src, []).append((ei, g_dst, pin))
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">        # compute per-driver
</span><span style="color: rgb(171, 227, 56);">        for drv, lst in driver_to_loads.items():
</span><span style="color: rgb(171, 227, 56);">            total_cwire, total_cin = torch.zeros((), device=device), torch.zeros((), device=device)
</span><span style="color: rgb(171, 227, 56);">            dst_nodes = torch.tensor([d for _, d, _ in lst], device=device)
</span><span style="color: rgb(171, 227, 56);">            l_wire_um = self._manhattan_len(X[drv].repeat(len(dst_nodes)), Y[drv].repeat(len(dst_nodes)), X[dst_nodes], Y[dst_nodes])
</span><span style="color: rgb(171, 227, 56);">            c_wire_vec = self.c_per_micron_ff * l_wire_um
</span><span style="color: rgb(171, 227, 56);">            total_cwire += c_wire_vec.sum()
</span><span style="color: rgb(171, 227, 56);">            cin_vec = self._cin(VT[dst_nodes], S[dst_nodes]).squeeze(-1)
</span><span style="color: rgb(171, 227, 56);">            total_cin += cin_vec.sum()
</span><span style="color: rgb(171, 227, 56);">            c_total = total_cwire + total_cin
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">            for (ei, dst_node, pin) in lst:
</span><span style="color: rgb(171, 227, 56);">                cell_t = cell_types[dst_node - start]
</span><span style="color: rgb(171, 227, 56);">                inp_slew = torch.tensor(self.default_input_slew_ps, device=device)
</span><span style="color: rgb(171, 227, 56);">                res = self._predict_delay_diff(cell_t, str(pin), inp_slew, c_total)
</span><span style="color: rgb(171, 227, 56);">                c_load_out[ei] = c_total
</span><span style="color: rgb(171, 227, 56);">                d_cell_out[ei] = res[0]
</span><span style="color: rgb(171, 227, 56);">                out_slew_out[ei] = res[1]
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    g.edges["</span><span>cell_out</span><span style="color: rgb(171, 227, 56);">"].data.update(
</span><span style="color: rgb(171, 227, 56);">        {
</span><span style="color: rgb(171, 227, 56);">            "</span><span>C_load</span><span style="color: rgb(171, 227, 56);">": c_load_out.unsqueeze(-1),
</span><span style="color: rgb(171, 227, 56);">            "</span><span>D_cell</span><span style="color: rgb(171, 227, 56);">": d_cell_out.unsqueeze(-1),
</span><span style="color: rgb(171, 227, 56);">            "</span><span>Output_Slew</span><span style="color: rgb(171, 227, 56);">": out_slew_out.unsqueeze(-1),
</span><span style="color: rgb(171, 227, 56);">        }
</span><span style="color: rgb(171, 227, 56);">    )
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    # --- Power ---
</span><span style="color: rgb(171, 227, 56);">    src_c, _ = self._edge_src_dst(g, "</span><span>cell_out</span><span style="color: rgb(171, 227, 56);">")
</span><span style="color: rgb(171, 227, 56);">    c_load_ff = g.edges["</span><span>cell_out</span><span style="color: rgb(171, 227, 56);">"].data["</span><span>C_load</span><span style="color: rgb(171, 227, 56);">"].squeeze(-1)
</span><span style="color: rgb(171, 227, 56);">    p_sw_edge = self.switching_alpha * c_load_ff * (self.vdd ** 2) * self.freq_ghz * 1e-3
</span><span style="color: rgb(171, 227, 56);">    p_sw_node = torch.zeros(g.num_nodes("</span><span>node</span><span style="color: rgb(171, 227, 56);">"), device=device)
</span><span style="color: rgb(171, 227, 56);">    p_sw_node.index_add_(0, src_c, p_sw_edge)
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    # internal and leakage
</span><span style="color: rgb(171, 227, 56);">    p_int_sum = torch.zeros_like(p_sw_node)
</span><span style="color: rgb(171, 227, 56);">    p_int_cnt = torch.zeros_like(p_sw_node)
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    for i in range(len(macro_batches)):
</span><span style="color: rgb(171, 227, 56);">        start, end = node_offsets[i].item(), node_offsets[i + 1].item()
</span><span style="color: rgb(171, 227, 56);">        cell_types = macro_batches[i]
</span><span style="color: rgb(171, 227, 56);">        sink_map = sink_batches[i]
</span><span style="color: rgb(171, 227, 56);">        for dst_node, entries in sink_map.items():
</span><span style="color: rgb(171, 227, 56);">            g_dst = dst_node + start
</span><span style="color: rgb(171, 227, 56);">            for (src, _src, pin) in entries:
</span><span style="color: rgb(171, 227, 56);">                g_src = src + start
</span><span style="color: rgb(171, 227, 56);">                l_um = self._manhattan_len(X[g_src], Y[g_src], X[g_dst], Y[g_dst])
</span><span style="color: rgb(171, 227, 56);">                c_wire = self.c_per_micron_ff * l_um
</span><span style="color: rgb(171, 227, 56);">                cin = self._cin(VT[g_dst:g_dst+1], S[g_dst:g_dst+1]).squeeze(-1)[0]
</span><span style="color: rgb(171, 227, 56);">                c_tot = c_wire + cin
</span><span style="color: rgb(171, 227, 56);">                cell_t = cell_types[dst_node]
</span><span style="color: rgb(171, 227, 56);">                slew = torch.tensor(self.default_input_slew_ps, device=device)
</span><span style="color: rgb(171, 227, 56);">                d_res = self._predict_delay_diff(cell_t, str(pin), slew, c_tot)
</span><span style="color: rgb(171, 227, 56);">                out_slew = d_res[1]
</span><span style="color: rgb(171, 227, 56);">                p_int = self._predict_power_diff(cell_t, str(pin), out_slew, c_tot)
</span><span style="color: rgb(171, 227, 56);">                p_int_sum[g_dst] += p_int
</span><span style="color: rgb(171, 227, 56);">                p_int_cnt[g_dst] += 1
</span><span style="color: rgb(171, 227, 56);">    p_int_cnt = p_int_cnt.clamp_min(1.0)
</span><span style="color: rgb(171, 227, 56);">    p_int_avg = p_int_sum / p_int_cnt
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    p_leak = g.ndata["</span><span>leakage_power</span><span style="color: rgb(171, 227, 56);">"].view(-1)
</span><span style="color: rgb(171, 227, 56);">    p_leak_uw = p_leak / 1000.0
</span><span style="color: rgb(171, 227, 56);">    p_total = (p_int_avg + p_sw_node + p_leak_uw).unsqueeze(-1)
</span><span style="color: rgb(171, 227, 56);">    g.ndata["</span><span>P_total_cell</span><span style="color: rgb(171, 227, 56);">"] = p_total
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    print("</span><span>[DEBUG] 计算完成，P_total_cell样例:</span><span style="color: rgb(171, 227, 56);">", p_total[:5])
</span><span style="color: rgb(171, 227, 56);">    return None
</span><span style="color: rgb(171, 227, 56);"></span></code></pre></div></div></div></div></div></div><div class="Message_viewMoreButtonContainer__QTl_p Message_viewMoreButtonContainerBackgroundPurpleFade__AunR9"><button class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o Message_viewMoreButton__hixhw" type="button" data-theme="secondary"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 5a1 1 0 1 1 0-2H20a1 1 0 0 1 1 1v5.5a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14.5Zm-3.793 8.293a1 1 0 0 1 0 1.414L6.414 19H9.5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1v-5.5a1 1 0 1 1 2 0v3.086l4.293-4.293a1 1 0 0 1 1.414 0Z"></path></svg><span class="button_label__mCaDf">View more</span></button></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">10:25 AM</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="Message_messageSeenStateIcon__Cl_ov"><path d="m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"></path><path d="M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"></path></svg></div></div></div></div></div></div></div></div><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443037535459"><div class="LeftSideMessageHeader_leftSideMessageHeader__5CfdD"><div class="LeftSideMessageHeader_headerWrapper__EpVkV"><div class="BotMessageHeader_wrapper__gvvdw"><a class="BotHeader_title__cURS_" target="_blank" href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div><div class="BotHeader_textContainer__kVf_I"><p>GPT-5-Chat</p></div></a></div></div></div><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_leftSideMessageBubble__VPdk6 Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_neutralContainer__RAZX6"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-hi-contrast__LQyM9"><p>好的 👍 我来帮你<strong>详细逐步解析这段 <code>DifferentiablePhysicalFrontEnd</code> 的 PyTorch 模块</strong>，<br>
它是一个 <strong>“可微分物理前端” (Differentiable Physical Front-End)</strong>，通常用于<strong>芯片设计的图神经网络 (GNN)</strong> 中，用来从<strong>电路物理特性（线长、电容、电阻）<strong>等信息生成</strong>图特征 (Graph Features)</strong>，供后续的 GNN 模型使用。</p>
<hr>
<h2>🧩 模块定位与作用</h2>
<p>这个类是一个 <code>torch.nn.Module</code> 子类，<br>
用于在一个 <strong>DGL 异构图 (DGLHeteroGraph)</strong> 上生成物理特征。</p>
<p>它把传统的物理电路特征（如线延迟 / 电容 / 输入上升时间 / 单元功耗等）计算为 <strong>可微分函数</strong>，<br>
这样就能在 <strong>端到端的电路优化或布局算法</strong>中反向传播梯度。</p>
<p>换句话说，它是一个把“电路几何 + 拓扑结构”映射为“数值电性能特征”的模块。</p>
<hr>
<h2>🧱 结构概览</h2>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span class="hljs-class" style="color: rgb(220, 198, 224);">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(0, 224, 224);">DifferentiablePhysicalFrontEnd</span><span class="hljs-class">(</span><span class="hljs-class" style="color: rgb(245, 171, 53);">torch.nn.Module</span><span class="hljs-class">):</span><span>
</span></code></pre></div></div></div>
<p>核心职责：</p>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>类型</th><th>对象</th><th>提供的物理特征</th></tr></thead><tbody><tr><td>网线边 (<code>net_in</code> / <code>net_out</code>)</td><td>edges</td><td>线长、电容、电阻、线延迟</td></tr><tr><td>单元输出边 (<code>cell_out</code>)</td><td>edges</td><td>单元延迟、输出上升时间、负载电容</td></tr><tr><td>单元节点 (<code>node</code>)</td><td>nodes</td><td>总功耗（动态 + 内部 + 漏电）</td></tr></tbody></table></div>
<hr>
<h2>🏗️ 构造函数 <code>__init__</code></h2>
<p>初始化各类工艺与电气参数。</p>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>参数</th><th>含义</th><th>单位</th></tr></thead><tbody><tr><td><code>c_per_micron_ff</code></td><td>金属线单位长度电容</td><td>fF/μm</td></tr><tr><td><code>r_wire_per_micron</code></td><td>金属线单位长度电阻</td><td>Ω/μm</td></tr><tr><td><code>base_driver_resistance</code></td><td>基准驱动电阻</td><td>Ω</td></tr><tr><td><code>default_input_slew_ps</code></td><td>默认输入上升时间</td><td>ps</td></tr><tr><td><code>vdd</code></td><td>电源电压</td><td>V</td></tr><tr><td><code>freq_ghz</code></td><td>时钟频率</td><td>GHz</td></tr><tr><td><code>switching_alpha</code></td><td>平均信号切换概率</td><td>无量纲</td></tr><tr><td><code>smooth_temperature</code></td><td>平滑近似控制参数（用于可微分绝对值）</td><td>无量纲</td></tr></tbody></table></div>
<p>还有：</p>
<ul>
<li><code>base_cin_ff</code> ：输入引脚基本电容 (0.4 fF)</li>
<li><code>load_delay_models()</code>、<code>load_power_models()</code>：加载已训练的延迟和功耗模型（小型神经网络）</li>
</ul>
<hr>
<h2>⚡ 关键计算组件</h2>
<h3>1️⃣ <code>_smooth_abs</code></h3>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>|x| ≈ τ * log(exp(x/τ) + exp(-x/τ))
</span></code></pre></div></div></div>
<ul>
<li>这是一个<strong>可微分的绝对值近似函数</strong>（也叫 <code>soft_abs</code>）。</li>
<li>参数 <code>τ</code> 控制平滑程度；<code>τ→0</code> 时逼近真实的 <code>|x|</code>。</li>
<li>用于计算<strong>曼哈顿距离 (L1 Distance)</strong> 时保持梯度连续。</li>
</ul>
<hr>
<h3>2️⃣ <code>_manhattan_len</code></h3>
<p>计算两个点之间的曼哈顿距离（用于线长估计）：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>dx = x_src - x_dst
</span>dy = y_src - y_dst
L = smooth_abs(dx) + smooth_abs(dy)
</code></pre></div></div></div>
<p>返回单位为 <strong>μm</strong> 的距离。</p>
<hr>
<h3>3️⃣ <code>_driver_resistance</code></h3>
<p>根据单元 Size（驱动强度）估计输出电阻：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>R_drv = base_driver_resistance / (softplus(size) + </span><span style="color: rgb(245, 171, 53);">1e-6</span><span>)
</span></code></pre></div></div></div>
<ul>
<li><code>softplus</code> 保证 <code>size</code> 始终为正；</li>
<li>更大的单元 size → 更小的输出电阻（驱动能力强）。</li>
</ul>
<hr>
<h3>4️⃣ <code>_wire_resistance</code>、<code>_wire_capacitance</code></h3>
<p>线性按长度计算电阻和电容：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>R_wire = r_wire_per_micron * L
</span>C_wire = c_per_micron_ff * L
</code></pre></div></div></div>
<hr>
<h3>5️⃣ <code>_cin(vt, size)</code></h3>
<p>根据单元阈值电压类型 (VT) 和尺寸 (size)，计算输入电容。</p>
<ul>
<li><strong>不同 VT 的电容比例：</strong>
<ul>
<li>LVT → 1.15×</li>
<li>RVT → 1.00×</li>
<li>SLVT → 1.25×</li>
<li>SRAM → 0.60×</li>
</ul>
</li>
</ul>
<p>使用平滑 Sigmoid 插值（可微分），实现从 0 → 3 的连续过渡。</p>
<p>最终：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>C_in = base_cin_ff * size * vt_factor
</span></code></pre></div></div></div>
<hr>
<h3>6️⃣ <code>_predict_delay_diff</code> / <code>_predict_power_diff</code></h3>
<p>调用小型神经网络（NLDM 模型）预测给定输入条件下的延迟或功耗：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>输入: (slew, load)
</span>输出:
  delay: [cell_delay, output_slew]
  power: internal_power
</code></pre></div></div></div>
<p>这些网络提前离线训练好，并存储在 <code>"nldm_models/"</code> 目录。</p>
<hr>
<h2>🔁 Forward 过程总体流程</h2>
<p><code>forward(g)</code> 主要做三层处理：</p>
<hr>
<h3><strong>🧮 ① 网线边计算 (<code>net_in</code>, <code>net_out</code>)</strong></h3>
<p>对每条网线边，计算：</p>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>物理量</th><th>公式</th></tr></thead><tbody><tr><td>线长 <code>L_wire</code></td><td><code>_manhattan_len(X_src, Y_src, X_dst, Y_dst)</code></td></tr><tr><td>电阻 <code>R_wire</code></td><td><code>r_wire_per_micron * L_wire</code></td></tr><tr><td>电容 <code>C_wire</code></td><td><code>c_per_micron_ff * L_wire</code></td></tr><tr><td>线延迟 <code>D_wire</code></td><td><code>(R_drv * C_wire + 0.5 * R_wire * C_wire) * 1e-3</code></td></tr></tbody></table></div>
<p>更新到边特征中。</p>
<hr>
<h3><strong>⚙️ ② 单元输出边计算 (<code>cell_out</code>)</strong></h3>
<p>对每个单元的输出边计算：</p>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>名称</th><th>含义</th></tr></thead><tbody><tr><td><code>C_load</code></td><td>驱动负载总电容（下游输入电容 + 线电容）</td></tr><tr><td><code>D_cell</code></td><td>从 delay 模型预测的单元延迟</td></tr><tr><td><code>Output_Slew</code></td><td>输出信号上升时间</td></tr></tbody></table></div>
<p>实现方式：</p>
<ol>
<li>遍历批处理中的每个子图；</li>
<li>根据子图的 <code>cell_macro_names</code> + <code>sink_map</code> 知道每个单元的连接；</li>
<li>按驱动节点为中心，对下游负载求电容；</li>
<li>根据 <code>delay_model</code> 预测延迟与输出 Slew。</li>
</ol>
<hr>
<h3><strong>🔋 ③ 功率计算 (Power)</strong></h3>
<p>功率分三部分：</p>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>项</th><th>含义</th><th>公式</th></tr></thead><tbody><tr><td>动态功率</td><td>信号切换功耗</td><td><code>P_sw = α × C_load × Vdd² × freq</code></td></tr><tr><td>内部功率</td><td>晶体管内部短路功耗</td><td>由 <code>_predict_power_diff()</code> 模型预测</td></tr><tr><td>静态功率</td><td>漏电功耗</td><td>图节点自带的 <code>leakage_power</code> 输入</td></tr></tbody></table></div>
<p>总功率：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>P_total = (P_int_avg + P_sw_node + P_leak/</span><span style="color: rgb(245, 171, 53);">1000</span><span>)
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"P_total_cell"</span><span>] = P_total
</span></code></pre></div></div></div>
<hr>
<h2>🧠 重点可微特征</h2>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>可微项</th><th>实现方式</th><th>允许梯度传播到</th></tr></thead><tbody><tr><td>线长 (</td><td>x₁ - x₂</td><td>)</td></tr><tr><td>Delay / Power</td><td>小型 NN 模型</td><td>slew / load capacitance</td></tr><tr><td>Input Capacitance (VT)</td><td>连续可微的 VT 因子</td><td>VT 与 Size</td></tr><tr><td>Driver Resistance</td><td>softplus(·)</td><td>Size</td></tr></tbody></table></div>
<p>因此，整个模块是<strong>完全可微分的</strong>，可以嵌入在 <strong>神经物理优化 (Phy-aware GNN)</strong> 网络里反向训练。</p>
<hr>
<h2>🔎 Forward 输出内容一览</h2>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>对象</th><th>写入的数据键</th><th>含义</th></tr></thead><tbody><tr><td><code>edges["net_in"/"net_out"]</code></td><td><code>L_wire</code>, <code>C_wire</code>, <code>R_wire</code>, <code>D_wire</code></td><td>线的长度、电容、电阻、延迟</td></tr><tr><td><code>edges["cell_out"]</code></td><td><code>C_load</code>, <code>D_cell</code>, <code>Output_Slew</code></td><td>负载总电容、单元延迟、输出上升时间</td></tr><tr><td><code>nodes["node"]</code></td><td><code>P_total_cell</code></td><td>每个单元的总功耗</td></tr></tbody></table></div>
<hr>
<h2>🧾 调试与日志部分</h2>
<p><code>forward()</code> 的前几行主要是：</p>
<ul>
<li>打印节点类型、边类型；</li>
<li>检查是否带 <code>graph_aux</code>（说明是微电路子图的批处理格式）；</li>
<li>调试输出辅助映射结构（<code>cell_macro_names</code>, <code>node_sink_from_driver_pin</code>）。</li>
</ul>
<p>若 <code>graph_aux</code> 不存在，很可能该图不是从 batch loader 传入的。</p>
<hr>
<h2>🧯 异常情况处理</h2>
<ul>
<li>若缺少 <code>cell_out</code> 边 → 抛出错误；</li>
<li>若 <code>sink_map</code> 与节点数不符 → 警告并跳过；</li>
<li>若找不到模型 → 报 assert；</li>
<li>若批处理结构不规范 → 自动跳过计算。</li>
</ul>
<hr>
<h2>🧩 小结</h2>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>层次</th><th>功能</th><th>可微属性</th></tr></thead><tbody><tr><td>几何层</td><td>计算网线长度、RC</td><td>对 (X, Y) 可微</td></tr><tr><td>电特性层</td><td>延迟、slew、负载电容预测</td><td>对 load/slew/size/vt 可微</td></tr><tr><td>功率层</td><td>聚合三类功耗</td><td>对上游参数传递梯度</td></tr><tr><td>输出层</td><td>更新图中的边、节点特征</td><td>提供物理信号给 GNN</td></tr></tbody></table></div>
<hr>
<p>如果你想，我可以帮你画一个结构图或流程图，用图示形式展示<br>
<strong>从“电路图” → “物理特征增强图”的整个数据流过程</strong>。<br>
是否需要我为这个模块生成一张交互式图解？</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">10:25 AM</span></div></div></div></div></div></div></div></div></div><div class="ChatMessagesView_messageTuple__Jh5lQ ChatMessagesView_largerGap__hMKSc" data-animate-jump="true"><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443063074019"><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6 ChatMessage_rightSideMessageWrapper__r0roB"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU Message_rightSideMessageRow__23wdY"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_rightSideMessageBubble__ioa_i Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_accentContainer__kl4s4"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc" style="overflow: hidden; max-height: 60vh;"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-on-accent__rESxX"><p>这里的cell_macro_sizes，cell_macro_vts和cell_macro_leakages能不能打包到一起？然后塞到一个map里面对应着cell_id?  for node_id in range(num_nodes):<br>
node_name = placedb.node_names[node_id]<br>
cell_true_names.append(node_name)<br>
macro_name = placedb.rawdb.macroName(node_id)<br>
cell_info = reader.get_cell_info(macro_name)<br>
if cell_info:<br>
cell_id_to_type[node_id] = cell_info['cell_name']<br>
cell_macro_names.append(cell_info['cell_name'])<br>
cell_macro_sizes.append(float(cell_info['size_value']))<br>
cell_macro_vts.append(float(cell_info['vt_id']))<br>
cell_macro_leakages.append(float(cell_info.get('leakage_power', 0.0)))<br>
else:<br>
cell_id_to_type[node_id] = 'TERMINAL'<br>
cell_macro_names.append('TERMINAL')<br>
cell_macro_sizes.append(0.0)<br>
cell_macro_vts.append(0.0)<br>
cell_macro_leakages.append(0.0)<br>
print(cell_id_to_type)</p></div></div></div><div class="Message_viewMoreButtonContainer__QTl_p Message_viewMoreButtonContainerBackgroundPurpleFade__AunR9"><button class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o Message_viewMoreButton__hixhw" type="button" data-theme="secondary"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 5a1 1 0 1 1 0-2H20a1 1 0 0 1 1 1v5.5a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14.5Zm-3.793 8.293a1 1 0 0 1 0 1.414L6.414 19H9.5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1v-5.5a1 1 0 1 1 2 0v3.086l4.293-4.293a1 1 0 0 1 1.414 0Z"></path></svg><span class="button_label__mCaDf">View more</span></button></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">11:59 AM</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="Message_messageSeenStateIcon__Cl_ov"><path d="m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"></path><path d="M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"></path></svg></div></div></div></div></div></div></div></div><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443063077091"><div class="LeftSideMessageHeader_leftSideMessageHeader__5CfdD"><div class="LeftSideMessageHeader_headerWrapper__EpVkV"><div class="BotMessageHeader_wrapper__gvvdw"><a class="BotHeader_title__cURS_" target="_blank" href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div><div class="BotHeader_textContainer__kVf_I"><p>GPT-5-Chat</p></div></a></div></div></div><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_leftSideMessageBubble__VPdk6 Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_neutralContainer__RAZX6"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-hi-contrast__LQyM9"><p>非常好的问题 👍。<br>
你提到的这三组列表：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>cell_macro_sizes
</span>cell_macro_vts
cell_macro_leakages
</code></pre></div></div></div>
<p>确实可以<strong>更优雅、更结构化地打包成一个 map（字典）</strong>，<br>
直接用 <code>cell_id</code>（即 <code>node_id</code>）作为键，把这些物理属性封装到一个对象或字典里。</p>
<hr>
<h2>✅ 改进方案</h2>
<p>把三项物理信息封装成一个结构，例如：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>cell_id_to_info = {
</span>    node_id: {
<span>        </span><span style="color: rgb(171, 227, 56);">"cell_name"</span><span>: &lt;</span><span style="color: rgb(245, 171, 53);">str</span><span>&gt;,
</span><span>        </span><span style="color: rgb(171, 227, 56);">"size"</span><span>: &lt;</span><span style="color: rgb(245, 171, 53);">float</span><span>&gt;,
</span><span>        </span><span style="color: rgb(171, 227, 56);">"vt"</span><span>: &lt;</span><span style="color: rgb(245, 171, 53);">float</span><span>&gt;,
</span><span>        </span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>: &lt;</span><span style="color: rgb(245, 171, 53);">float</span><span>&gt;,
</span>    },
    ...
}
</code></pre></div></div></div>
<p>这样你在后续阶段（例如计算输入电容 <code>_cin</code> 或延迟 <code>_predict_delay_diff</code>）就能直接通过<br>
<code>cell_id_to_info[node_id]["vt"]</code> 得到所有属性，而不需要同步维护多个平行列表。</p>
<hr>
<h2>✨ 修改后的完整循环代码</h2>
<p>下面是对你提供片段的优化版本：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="true"><div class="MarkdownCodeBlock_expandButtonContainer__kdI0J"><button class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o MarkdownCodeBlock_expandButton__dE4iV" type="button" data-theme="secondary"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 5a1 1 0 1 1 0-2H20a1 1 0 0 1 1 1v5.5a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14.5Zm-3.793 8.293a1 1 0 0 1 0 1.414L6.414 19H9.5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1v-5.5a1 1 0 1 1 2 0v3.086l4.293-4.293a1 1 0 0 1 1.414 0Z"></path></svg><span class="button_label__mCaDf">View all</span></button></div><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span><span>    </span><span style="color: rgb(212, 208, 171);"># 初始化默认值</span><span>
</span></span><span>    info = {
</span><span><span>        </span><span style="color: rgb(171, 227, 56);">"cell_name"</span><span>: </span><span style="color: rgb(171, 227, 56);">"TERMINAL"</span><span>,
</span></span><span><span>        </span><span style="color: rgb(171, 227, 56);">"size"</span><span>: </span><span style="color: rgb(245, 171, 53);">0.0</span><span>,
</span></span><span><span>        </span><span style="color: rgb(171, 227, 56);">"vt"</span><span>: </span><span style="color: rgb(245, 171, 53);">0.0</span><span>,
</span></span><span><span>        </span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>: </span><span style="color: rgb(245, 171, 53);">0.0</span><span>
</span></span><span>    }
</span><span>
</span><span><span>    </span><span style="color: rgb(220, 198, 224);">if</span><span> cell_info:
</span></span><span><span>        info[</span><span style="color: rgb(171, 227, 56);">"cell_name"</span><span>] = cell_info[</span><span style="color: rgb(171, 227, 56);">"cell_name"</span><span>]
</span></span><span><span>        info[</span><span style="color: rgb(171, 227, 56);">"size"</span><span>] = </span><span style="color: rgb(245, 171, 53);">float</span><span>(cell_info[</span><span style="color: rgb(171, 227, 56);">"size_value"</span><span>])
</span></span><span><span>        info[</span><span style="color: rgb(171, 227, 56);">"vt"</span><span>] = </span><span style="color: rgb(245, 171, 53);">float</span><span>(cell_info[</span><span style="color: rgb(171, 227, 56);">"vt_id"</span><span>])
</span></span><span><span>        info[</span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>] = </span><span style="color: rgb(245, 171, 53);">float</span><span>(cell_info.get(</span><span style="color: rgb(171, 227, 56);">"leakage_power"</span><span>, </span><span style="color: rgb(245, 171, 53);">0.0</span><span>))
</span></span><span><span>    </span><span style="color: rgb(220, 198, 224);">else</span><span>:
</span></span><span><span>        </span><span style="color: rgb(212, 208, 171);"># 保持默认值 (TERMINAL)，对应固定宏或IO端口</span><span>
</span></span><span><span>        </span><span style="color: rgb(220, 198, 224);">pass</span><span>
</span></span><span>
</span><span><span>    </span><span style="color: rgb(212, 208, 171);"># 记录类型</span><span>
</span></span><span><span>    cell_id_to_type[node_id] = info[</span><span style="color: rgb(171, 227, 56);">"cell_name"</span><span>]
</span></span><span><span>    </span><span style="color: rgb(212, 208, 171);"># 把完整信息保存到 map</span><span>
</span></span><span>    cell_id_to_info[node_id] = info
</span><span>
</span><span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">f"[INFO] 已构建 cell_id_to_info，总数: </span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{</span><span class="hljs-subst" style="color: rgb(245, 171, 53);">len</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">(cell_id_to_info)}</span><span style="color: rgb(171, 227, 56);">"</span><span>)
</span></span><span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(245, 171, 53);">list</span><span>(cell_id_to_info.items())[:</span><span style="color: rgb(245, 171, 53);">3</span><span>])  </span><span style="color: rgb(212, 208, 171);"># 打印前三个样例</span><span>
</span></span><span></span></code></pre></div></div></div>
<hr>
<h2>🧱 如果下游仍需列表形式</h2>
<p>有时你的后续代码（如构造 DGL 图）仍然需要这三个并行列表，<br>
可以在构造完字典后再“一键拆分”：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>cell_macro_names    = [v[</span><span style="color: rgb(171, 227, 56);">"cell_name"</span><span>] </span><span style="color: rgb(220, 198, 224);">for</span><span> v </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_id_to_info.values()]
</span><span>cell_macro_sizes    = [v[</span><span style="color: rgb(171, 227, 56);">"size"</span><span>] </span><span style="color: rgb(220, 198, 224);">for</span><span> v </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_id_to_info.values()]
</span><span>cell_macro_vts      = [v[</span><span style="color: rgb(171, 227, 56);">"vt"</span><span>] </span><span style="color: rgb(220, 198, 224);">for</span><span> v </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_id_to_info.values()]
</span><span>cell_macro_leakages = [v[</span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>] </span><span style="color: rgb(220, 198, 224);">for</span><span> v </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_id_to_info.values()]
</span></code></pre></div></div></div>
<p>这样既保留了结构化信息，又保持兼容性 ✅。</p>
<hr>
<h2>💡 优点总结</h2>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>原做法</th><th>改进后</th></tr></thead><tbody><tr><td>三个独立列表（容易错位）</td><td>单一 map（保证同步、一致性）</td></tr><tr><td>下标索引访问</td><td>用 cell_id 直接查物理属性</td></tr><tr><td>扩展性差</td><td>可扩展更多参数（功耗、面积、延迟模型索引等）</td></tr><tr><td>不便调试</td><td>打印结构更直观、信息对齐</td></tr></tbody></table></div>
<hr>
<p>如果你希望我帮你改写成和 <code>DifferentiablePhysicalFrontEnd</code> 兼容的版本（例如定义成 <code>graph_aux["cell_info_map"]</code>），我也可以帮你写一个完整的可直接替换片段。<br>
是否要我帮你那样封装成用于图特征输入的形式？</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">11:59 AM</span></div></div></div></div></div></div></div></div></div><div class="ChatMessagesView_messageTuple__Jh5lQ ChatMessagesView_largerGap__hMKSc" data-animate-jump="true"><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443070076131"><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6 ChatMessage_rightSideMessageWrapper__r0roB"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU Message_rightSideMessageRow__23wdY"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_rightSideMessageBubble__ioa_i Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_accentContainer__kl4s4"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc" style=""><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-on-accent__rESxX"><p>cell_internal_connect_map = {}这里面我想字典里面套字典，显示用node_id去查是什么，然后我把pin的信息逐渐添加进去，然后标记是input还是output</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:27 PM</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="Message_messageSeenStateIcon__Cl_ov"><path d="m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"></path><path d="M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"></path></svg></div></div></div></div></div></div></div></div><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443070078179"><div class="LeftSideMessageHeader_leftSideMessageHeader__5CfdD"><div class="LeftSideMessageHeader_headerWrapper__EpVkV"><div class="BotMessageHeader_wrapper__gvvdw"><a class="BotHeader_title__cURS_" target="_blank" href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div><div class="BotHeader_textContainer__kVf_I"><p>GPT-5-Chat</p></div></a></div></div></div><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_leftSideMessageBubble__VPdk6 Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_neutralContainer__RAZX6"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-hi-contrast__LQyM9"><p>很好 👍，你想实现的是一个这样的层级结构：</p>
<blockquote node="[object Object]">
<p><strong>node_id → pin_name → 方向信息（input/output 或其他字段）</strong></p>
</blockquote>
<p>这是一种非常实用的结构设计，会用于电路网表（Netlist）或图构建阶段中，<br>
方便快速查询 <em>某个逻辑单元的引脚详情</em>。</p>
<hr>
<h2>✅ 目标结构示意</h2>
<p>我们希望 <code>cell_internal_connect_map</code> 长这样：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>cell_internal_connect_map = {
</span><span>    </span><span style="color: rgb(245, 171, 53);">0</span><span>: {
</span><span>        </span><span style="color: rgb(171, 227, 56);">"A"</span><span>: {</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>},
</span><span>        </span><span style="color: rgb(171, 227, 56);">"B"</span><span>: {</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>},
</span><span>        </span><span style="color: rgb(171, 227, 56);">"Y"</span><span>: {</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"output"</span><span>}
</span>    },
<span>    </span><span style="color: rgb(245, 171, 53);">1</span><span>: {
</span><span>        </span><span style="color: rgb(171, 227, 56);">"CLK"</span><span>: {</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>},
</span><span>        </span><span style="color: rgb(171, 227, 56);">"Q"</span><span>: {</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"output"</span><span>}
</span>    },
    ...
}
</code></pre></div></div></div>
<p>这样你：</p>
<ul>
<li>可以通过 <code>cell_internal_connect_map[node_id]</code> 获取某个节点所有 pin；</li>
<li>再通过 <code>cell_internal_connect_map[node_id]["A"]["direction"]</code> 获取方向；</li>
<li>还能直接在后续处理中扩展信息（比如电荷量、电容、驱动特性等）。</li>
</ul>
<hr>
<h2>🧱 初始化思路</h2>
<p>你可以先初始化这个 map：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>cell_internal_connect_map = {}
</span></code></pre></div></div></div>
<p>在遍历每个节点时（通常与 <code>cell_id_to_info</code> 同步），<br>
将它的每个引脚信息填进去：</p>
<hr>
<h2>✨ 完整示例实现</h2>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="false"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>cell_internal_connect_map = {}
</span>
<span></span><span style="color: rgb(220, 198, 224);">for</span><span> node_id </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">range</span><span>(num_nodes):
</span>    macro_name = placedb.rawdb.macroName(node_id)
    cell_info = reader.get_cell_info(macro_name)

<span>    </span><span style="color: rgb(212, 208, 171);"># 初始化该节点的pin字典</span><span>
</span>    cell_internal_connect_map[node_id] = {}

<span>    </span><span style="color: rgb(220, 198, 224);">if</span><span> </span><span style="color: rgb(220, 198, 224);">not</span><span> cell_info:
</span><span>        </span><span style="color: rgb(212, 208, 171);"># 非标准单元，如IO或固定宏</span><span>
</span><span>        </span><span style="color: rgb(220, 198, 224);">continue</span><span>
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># 从reader拉取引脚信息（假设提供 pin_list 或类似API）</span><span>
</span><span>    </span><span style="color: rgb(212, 208, 171);"># 这里举例是个伪结构，请按你的reader返回结构替换</span><span>
</span><span>    </span><span style="color: rgb(220, 198, 224);">for</span><span> pin_name, pin_info </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_info.get(</span><span style="color: rgb(171, 227, 56);">"pins"</span><span>, {}).items():
</span><span>        direction = pin_info.get(</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>, </span><span style="color: rgb(171, 227, 56);">"unknown"</span><span>).lower()  </span><span style="color: rgb(212, 208, 171);"># 'input' or 'output'</span><span>
</span>        cell_internal_connect_map[node_id][pin_name] = {
<span>            </span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: direction
</span>        }

<span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"[INFO] 已构建 cell_internal_connect_map 样例:"</span><span>)
</span><span></span><span style="color: rgb(220, 198, 224);">for</span><span> nid, pinmap </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">list</span><span>(cell_internal_connect_map.items())[:</span><span style="color: rgb(245, 171, 53);">3</span><span>]:
</span><span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">f"  node </span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{nid}</span><span style="color: rgb(171, 227, 56);">: </span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{pinmap}</span><span style="color: rgb(171, 227, 56);">"</span><span>)
</span></code></pre></div></div></div>
<hr>
<h2>🧩 如果你是逐步添加 pin（非一次性）</h2>
<p>有时你可能在不同阶段收集 pin 的属性，<br>
例如第一次确定方向，第二次确定电容、第三次确定驱动能力，<br>
可以这样写（增量式）：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span class="hljs-function" style="color: rgb(220, 198, 224);">def</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(0, 224, 224);">add_pin_info</span><span class="hljs-function">(</span><span class="hljs-function" style="color: rgb(245, 171, 53);">cell_internal_connect_map, node_id, pin_name, direction=</span><span class="hljs-function" style="color: rgb(245, 171, 53);">None</span><span class="hljs-function" style="color: rgb(245, 171, 53);">, **kwargs</span><span class="hljs-function">):</span><span>
</span><span>    </span><span style="color: rgb(171, 227, 56);">"""确保字典嵌套存在，并支持增量式更新"""</span><span>
</span><span>    </span><span style="color: rgb(220, 198, 224);">if</span><span> node_id </span><span style="color: rgb(220, 198, 224);">not</span><span> </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_internal_connect_map:
</span>        cell_internal_connect_map[node_id] = {}

<span>    </span><span style="color: rgb(220, 198, 224);">if</span><span> pin_name </span><span style="color: rgb(220, 198, 224);">not</span><span> </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_internal_connect_map[node_id]:
</span>        cell_internal_connect_map[node_id][pin_name] = {}

<span>    </span><span style="color: rgb(220, 198, 224);">if</span><span> direction </span><span style="color: rgb(220, 198, 224);">is</span><span> </span><span style="color: rgb(220, 198, 224);">not</span><span> </span><span style="color: rgb(245, 171, 53);">None</span><span>:
</span><span>        cell_internal_connect_map[node_id][pin_name][</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>] = direction
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># 支持添加额外字段，例如电容、电阻、slew模型等</span><span>
</span><span>    </span><span style="color: rgb(220, 198, 224);">for</span><span> k, v </span><span style="color: rgb(220, 198, 224);">in</span><span> kwargs.items():
</span>        cell_internal_connect_map[node_id][pin_name][k] = v
</code></pre></div></div></div>
<p>然后你可以在不同地方调用：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>add_pin_info(cell_internal_connect_map, node_id=</span><span style="color: rgb(245, 171, 53);">12</span><span>, pin_name=</span><span style="color: rgb(171, 227, 56);">"A"</span><span>, direction=</span><span style="color: rgb(171, 227, 56);">"input"</span><span>)
</span><span>add_pin_info(cell_internal_connect_map, node_id=</span><span style="color: rgb(245, 171, 53);">12</span><span>, pin_name=</span><span style="color: rgb(171, 227, 56);">"Y"</span><span>, direction=</span><span style="color: rgb(171, 227, 56);">"output"</span><span>, cap_ff=</span><span style="color: rgb(245, 171, 53);">0.42</span><span>)
</span><span>add_pin_info(cell_internal_connect_map, node_id=</span><span style="color: rgb(245, 171, 53);">12</span><span>, pin_name=</span><span style="color: rgb(171, 227, 56);">"CK"</span><span>, direction=</span><span style="color: rgb(171, 227, 56);">"input"</span><span>, is_clock=</span><span style="color: rgb(245, 171, 53);">True</span><span>)
</span></code></pre></div></div></div>
<p>输出结构变为：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>{
</span><span>  </span><span style="color: rgb(245, 171, 53);">12</span><span>: {
</span><span>    </span><span style="color: rgb(171, 227, 56);">"A"</span><span>: {</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>},
</span><span>    </span><span style="color: rgb(171, 227, 56);">"Y"</span><span>: {</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"output"</span><span>, </span><span style="color: rgb(171, 227, 56);">"cap_ff"</span><span>: </span><span style="color: rgb(245, 171, 53);">0.42</span><span>},
</span><span>    </span><span style="color: rgb(171, 227, 56);">"CK"</span><span>: {</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>, </span><span style="color: rgb(171, 227, 56);">"is_clock"</span><span>: </span><span style="color: rgb(245, 171, 53);">True</span><span>}
</span>  }
}
</code></pre></div></div></div>
<hr>
<h2>💡 优化建议</h2>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>需求</th><th>推荐方式</th></tr></thead><tbody><tr><td>后续 GNN / feature 注入</td><td>结构化 dict 比平行列表更可靠</td></tr><tr><td>功能扩展（电气参数、驱动模型索引）</td><td>在 <code>"pins"</code> 子字典里追加字段即可</td></tr><tr><td>调试观测结构</td><td><code>json.dumps(cell_internal_connect_map, indent=2)</code> 很好用</td></tr><tr><td>循环打印</td><td><code>for node_id, pins in cell_internal_connect_map.items(): ...</code></td></tr></tbody></table></div>
<hr>
<h2>🧾 示例打印</h2>
<p>最终调试打印可以像这样：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span style="color: rgb(220, 198, 224);">import</span><span> json
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(json.dumps({nid: pins </span><span style="color: rgb(220, 198, 224);">for</span><span> nid, pins </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">list</span><span>(cell_internal_connect_map.items())[:</span><span style="color: rgb(245, 171, 53);">2</span><span>]}, indent=</span><span style="color: rgb(245, 171, 53);">2</span><span>))
</span></code></pre></div></div></div>
<p>输出示例：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">json</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-json" style="white-space: pre;"><span>{
</span><span>  </span><span class="hljs-attr">"0"</span><span>: {
</span><span>    </span><span class="hljs-attr">"A"</span><span>: {</span><span class="hljs-attr">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>},
</span><span>    </span><span class="hljs-attr">"B"</span><span>: {</span><span class="hljs-attr">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>},
</span><span>    </span><span class="hljs-attr">"Y"</span><span>: {</span><span class="hljs-attr">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"output"</span><span>}
</span>  },
<span>  </span><span class="hljs-attr">"1"</span><span>: {
</span><span>    </span><span class="hljs-attr">"CLK"</span><span>: {</span><span class="hljs-attr">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>},
</span><span>    </span><span class="hljs-attr">"D"</span><span>: {</span><span class="hljs-attr">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>},
</span><span>    </span><span class="hljs-attr">"Q"</span><span>: {</span><span class="hljs-attr">"direction"</span><span>: </span><span style="color: rgb(171, 227, 56);">"output"</span><span>}
</span>  }
}
</code></pre></div></div></div>
<hr>
<p>是否希望我帮你把这个逻辑直接整合进前面那段 <code>for node_id in range(num_nodes):</code> 循环中（即同时构建 <code>cell_id_to_info</code> 和 <code>cell_internal_connect_map</code>）的最终版本？<br>
我可以给你一个可以直接复制使用的完整版本。</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:27 PM</span></div></div></div></div></div></div></div></div></div><div class="ChatMessagesView_messageTuple__Jh5lQ ChatMessagesView_largerGap__hMKSc" data-animate-jump="true"><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443070364899"><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6 ChatMessage_rightSideMessageWrapper__r0roB"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU Message_rightSideMessageRow__23wdY"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_rightSideMessageBubble__ioa_i Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_accentContainer__kl4s4"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc" style=""><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-on-accent__rESxX"><p>cell_internal_connect_map[node_id][pin_name] = {<br>
"direction": direction<br>
}如果只有direction这一个属性也要这么复杂吗</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:28 PM</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="Message_messageSeenStateIcon__Cl_ov"><path d="m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"></path><path d="M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"></path></svg></div></div></div></div></div></div></div></div><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443070374115"><div class="LeftSideMessageHeader_leftSideMessageHeader__5CfdD"><div class="LeftSideMessageHeader_headerWrapper__EpVkV"><div class="BotMessageHeader_wrapper__gvvdw"><a class="BotHeader_title__cURS_" target="_blank" href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div><div class="BotHeader_textContainer__kVf_I"><p>GPT-5-Chat</p></div></a></div></div></div><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_leftSideMessageBubble__VPdk6 Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_neutralContainer__RAZX6"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-hi-contrast__LQyM9"><p>非常好的问题 👏！</p>
<p>你完全抓到重点了 ——<br>
如果你<strong>目前只需要存一个字段（比如 direction）</strong>，<br>
那确实没必要搞这么层层嵌套的复杂结构。</p>
<hr>
<h2>✅ 最简单的写法</h2>
<p>当你只有 <code>direction</code> 这一个属性时，<br>
结构可以简化成：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>cell_internal_connect_map = {
</span>    node_id: {
        pin_name: direction
    }
}
</code></pre></div></div></div>
<p>也就是“<strong>双层字典</strong>”，不需要再包一层 <code>{"direction": ...}</code>。</p>
<p>示例：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>cell_internal_connect_map = {}
</span>
<span></span><span style="color: rgb(220, 198, 224);">for</span><span> node_id </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">range</span><span>(num_nodes):
</span>    cell_internal_connect_map[node_id] = {}

    cell_info = reader.get_cell_info(placedb.rawdb.macroName(node_id))
<span>    </span><span style="color: rgb(220, 198, 224);">if</span><span> </span><span style="color: rgb(220, 198, 224);">not</span><span> cell_info:
</span><span>        </span><span style="color: rgb(220, 198, 224);">continue</span><span>
</span>
<span>    </span><span style="color: rgb(220, 198, 224);">for</span><span> pin_name, pin_info </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_info.get(</span><span style="color: rgb(171, 227, 56);">"pins"</span><span>, {}).items():
</span><span>        direction = pin_info.get(</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>, </span><span style="color: rgb(171, 227, 56);">"unknown"</span><span>).lower()
</span>        cell_internal_connect_map[node_id][pin_name] = direction
</code></pre></div></div></div>
<p>输出示例：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>{
</span><span>  </span><span style="color: rgb(245, 171, 53);">0</span><span>: {</span><span style="color: rgb(171, 227, 56);">"A"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>, </span><span style="color: rgb(171, 227, 56);">"B"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>, </span><span style="color: rgb(171, 227, 56);">"Y"</span><span>: </span><span style="color: rgb(171, 227, 56);">"output"</span><span>},
</span><span>  </span><span style="color: rgb(245, 171, 53);">1</span><span>: {</span><span style="color: rgb(171, 227, 56);">"CLK"</span><span>: </span><span style="color: rgb(171, 227, 56);">"input"</span><span>, </span><span style="color: rgb(171, 227, 56);">"Q"</span><span>: </span><span style="color: rgb(171, 227, 56);">"output"</span><span>}
</span>}
</code></pre></div></div></div>
<p>查询也更直接：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>direction = cell_internal_connect_map[node_id][</span><span style="color: rgb(171, 227, 56);">"Y"</span><span>]
</span></code></pre></div></div></div>
<hr>
<h2>🧩 如果你后面可能会扩展属性（比如 pin 的电容 / 功耗 等）</h2>
<p>你可以<strong>暂时保留简单结构</strong>，<br>
未来再随时升级为三层嵌套。</p>
<p>例如以后若想多加一个字段：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>cell_internal_connect_map[node_id][pin_name] = {
</span><span>    </span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: direction,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"cap_ff"</span><span>: cap_value,
</span>}
</code></pre></div></div></div>
<p>或者一步升级：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>direction = cell_internal_connect_map[node_id][pin_name]
</span><span></span><span style="color: rgb(220, 198, 224);">if</span><span> </span><span style="color: rgb(245, 171, 53);">isinstance</span><span>(direction, </span><span style="color: rgb(245, 171, 53);">str</span><span>):
</span><span>    </span><span style="color: rgb(212, 208, 171);"># 说明结构是旧格式，只存方向</span><span>
</span><span>    cell_internal_connect_map[node_id][pin_name] = {</span><span style="color: rgb(171, 227, 56);">"direction"</span><span>: direction}
</span></code></pre></div></div></div>
<p>柔性升级 ✅，不破坏旧数据。</p>
<hr>
<h2>💡 总结对比</h2>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>需求</th><th>推荐结构</th><th>访问方式</th></tr></thead><tbody><tr><td>只要方向 (当前情况)</td><td><code>{node_id: {pin_name: direction}}</code></td><td><code>map[nid][pin]</code></td></tr><tr><td>未来可能扩展属性</td><td><code>{node_id: {pin_name: {"direction": ..., "cap": ...}}}</code></td><td><code>map[nid][pin]["direction"]</code></td></tr><tr><td>需要JSON输出调试</td><td>两种都支持</td><td></td></tr></tbody></table></div>
<hr>
<p>👉 <strong>建议：</strong><br>
现在就简化成两层字典 <code>{node_id: {pin_name: direction}}</code>，<br>
等将来你确实要塞更多属性时再改为嵌套结构。</p>
<p>是否希望我帮你写一版兼容升级的小函数（能自动支持两层或三层结构）？</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:28 PM</span></div></div></div></div></div></div></div></div></div><div class="ChatMessagesView_messageTuple__Jh5lQ ChatMessagesView_largerGap__hMKSc" data-animate-jump="true"><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443074523363"><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6 ChatMessage_rightSideMessageWrapper__r0roB"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU Message_rightSideMessageRow__23wdY"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_rightSideMessageBubble__ioa_i Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_accentContainer__kl4s4"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc" style="overflow: hidden; max-height: 60vh;"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-on-accent__rESxX"><p>帮我构建一下dgl的图，就是这里src_net_pin, dst_net_pin中不重复的点都是dgl中的node，然后这两个list一一对应代表着node的连接关系。这些数据net_in的边，由于模型允许双向流动，反过来是net_out。对于cell_out也就是cell内部的连接关系cell_internal_connect_map可以看这个map。对于同一个node_id去看它存了哪些pin，然后按照input-&gt;output pin的关系，进行cell_in边的存储。注意这里也要先拼接“node_id:pin_name”对应着node（一定会出现在之前net存储的node中）。反之是cell_indef build_dreamplace_hetero_graph(params_json, device='cuda', lib_json_path=None):<br>
"""<br>
Build a DGL heterograph from DREAMPlace PlaceDB.</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">ini</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-ini" style="white-space: pre;"><span>- All numeric node/edge features go into DGL's ndata/edata for batching.
</span>- String/complex attributes are encoded or saved in g.graph_aux.
"""

<span></span><span style="color: rgb(212, 208, 171);"># Initialize DREAMPlace params and DB</span><span>
</span><span></span><span class="hljs-attr">params</span><span> = Params.Params()
</span>with suppress_output():
    params.load(params_json)
<span>    </span><span class="hljs-attr">placedb</span><span> = PlaceDB()
</span>    placedb(params)

<span></span><span class="hljs-attr">num_nodes</span><span> = placedb.num_physical_nodes
</span><span></span><span class="hljs-attr">reader</span><span> = CellLibraryReader(lib_json_path)
</span>
<span></span><span style="color: rgb(212, 208, 171);"># Collect node info from PlaceDB and CellLibrary</span><span>
</span><span></span><span class="hljs-attr">cell_id_to_type</span><span> = {}
</span><span></span><span class="hljs-attr">cell_id_to_info</span><span> = {} 
</span><span></span><span class="hljs-attr">cell_internal_connect_map</span><span> = {}
</span>
for node_id in range(num_nodes):
<span>    </span><span class="hljs-attr">node_name</span><span> = placedb.node_names[node_id]
</span><span>    </span><span class="hljs-attr">macro_name</span><span> = placedb.rawdb.macroName(node_id)
</span><span>    </span><span class="hljs-attr">cell_info</span><span> = reader.get_cell_info(macro_name) 
</span><span>    cell_internal_connect_map</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span> = {}
</span><span>    </span><span class="hljs-attr">info</span><span> = {
</span>        "cell_name": "TERMINAL",
        "size": 0.0,
        "vt": 0.0,
        "leakage": 0.0
    }

    if cell_info:
<span>        info</span><span style="color: rgb(0, 224, 224);">["cell_name"]</span><span> = cell_info</span><span style="color: rgb(0, 224, 224);">["cell_name"]</span><span>
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["size"]</span><span> = float(cell_info</span><span style="color: rgb(0, 224, 224);">["size_value"]</span><span>)
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["vt"]</span><span> = float(cell_info</span><span style="color: rgb(0, 224, 224);">["vt_id"]</span><span>)
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["leakage"]</span><span> = float(cell_info.get("leakage_power", 0.0))
</span>    else:
        pass

<span>    cell_id_to_type</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span> = info</span><span style="color: rgb(0, 224, 224);">["cell_name"]</span><span>
</span><span>    cell_id_to_info</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span> = info
</span>
print("cell_id_to_type: ", cell_id_to_type)
print("cell_id_to_info: ", cell_id_to_info)

<span>  </span><span style="color: rgb(212, 208, 171);"># Parse network connections (driver -&gt; sink)</span><span>
</span>def _b2s(v):
    return v.decode('utf-8') if isinstance(v, (bytes,)) else str(v)

<span>src_net_pin, </span><span class="hljs-attr">dst_net_pin</span><span>= [], []
</span>
for pins in placedb.net2pin_map:
    print("pins: ", pins)
<span>    </span><span class="hljs-attr">dont_care_net_flag</span><span> = </span><span style="color: rgb(245, 171, 53);">False</span><span>
</span><span>    drivers, </span><span class="hljs-attr">sinks</span><span> = [], []
</span>    for pin_id in pins:
<span>        </span><span class="hljs-attr">dir_s</span><span> = _b2s(placedb.pin_direct[pin_id]).strip().upper()
</span>
        if dir_s.startswith('O') or 'OUT' in dir_s:
            drivers.append(pin_id)
        elif dir_s.startswith('I') or 'IN' in dir_s:
            sinks.append(pin_id)
        elif dir_s in ('B', 'IO', 'INOUT'):
            drivers.append(pin_id)
            sinks.append(pin_id)
    if not drivers:
        continue
    for dpid in drivers:
<span>        </span><span class="hljs-attr">src_node</span><span> = int(placedb.pin2node_map[dpid])
</span><span>        </span><span class="hljs-attr">src_name</span><span> = _b2s(placedb.node_names[src_node])
</span>        print("src_node: ", src_node, "src_name: ", src_name)
<span>        if </span><span class="hljs-attr">src_name</span><span> == </span><span style="color: rgb(171, 227, 56);">'clk'</span><span> or src_name == </span><span style="color: rgb(171, 227, 56);">'reset'</span><span>:
</span><span>            </span><span class="hljs-attr">dont_care_net_flag</span><span> = </span><span style="color: rgb(245, 171, 53);">True</span><span>
</span>            break
<span>        </span><span class="hljs-attr">in_pin</span><span> = _b2s(placedb.rawdb.macroPin(dpid).name())
</span>        src_net_pin.append("{}:{}".format(src_node, in_pin))
        print("src pin: {}".format("{}:{}".format(src_node, in_pin)))
<span>        cell_internal_connect_map</span><span style="color: rgb(0, 224, 224);">[src_node]</span><span style="color: rgb(0, 224, 224);">[in_pin]</span><span> = "output"
</span>    if dont_care_net_flag:
        continue
    for spid in sinks:
<span>        </span><span class="hljs-attr">dst_node</span><span> = int(placedb.pin2node_map[spid])
</span><span>        </span><span class="hljs-attr">dst_name</span><span> = _b2s(placedb.node_names[dst_node])
</span>        print("dst_node: ", dst_node, "dst_name: ", dst_name)
<span>        </span><span class="hljs-attr">out_pin</span><span> = _b2s(placedb.rawdb.macroPin(spid).name())
</span>        dst_net_pin.append("{}:{}".format(dst_node, out_pin))
<span>        cell_internal_connect_map</span><span style="color: rgb(0, 224, 224);">[dst_node]</span><span style="color: rgb(0, 224, 224);">[out_pin]</span><span> = "input"
</span>        print("dst pin: {}".format("{}:{}".format(dst_node, out_pin)))


<span></span><span style="color: rgb(212, 208, 171);"># </span><span class="hljs-doctag" style="color: rgb(212, 208, 171);">TODO:</span><span style="color: rgb(212, 208, 171);"> src_net_pin and dst_net_pin 每一个都是一个node，两个集合之间一一对应具有连接关系</span><span>
</span><span></span><span class="hljs-attr">data_dict</span><span> = {
</span>    ('node', 'net_in', 'node'): (src_net_in, dst_net_in),
    ('node', 'net_out', 'node'): (dst_net_in, src_net_in),
    ('node', 'cell_out', 'node'): (src_cell, dst_cell)
}
</code></pre></div></div></div></div></div></div><div class="Message_viewMoreButtonContainer__QTl_p Message_viewMoreButtonContainerBackgroundPurpleFade__AunR9"><button class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o Message_viewMoreButton__hixhw" type="button" data-theme="secondary"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 5a1 1 0 1 1 0-2H20a1 1 0 0 1 1 1v5.5a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14.5Zm-3.793 8.293a1 1 0 0 1 0 1.414L6.414 19H9.5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1v-5.5a1 1 0 1 1 2 0v3.086l4.293-4.293a1 1 0 0 1 1.414 0Z"></path></svg><span class="button_label__mCaDf">View more</span></button></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:44 PM</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="Message_messageSeenStateIcon__Cl_ov"><path d="m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"></path><path d="M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"></path></svg></div></div></div></div></div></div></div></div><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443074525411"><div class="LeftSideMessageHeader_leftSideMessageHeader__5CfdD"><div class="LeftSideMessageHeader_headerWrapper__EpVkV"><div class="BotMessageHeader_wrapper__gvvdw"><a class="BotHeader_title__cURS_" target="_blank" href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div><div class="BotHeader_textContainer__kVf_I"><p>GPT-5-Chat</p></div></a></div></div></div><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_leftSideMessageBubble__VPdk6 Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_neutralContainer__RAZX6"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-hi-contrast__LQyM9"><p>非常棒，你现在的思路已经完全对了 👏</p>
<p>我们来一步一步构建这个 <strong>DGL 异构图 (heterograph)</strong>，<br>
用 <code>src_net_pin</code> / <code>dst_net_pin</code> 建立 <strong>net_in / net_out</strong> 边，<br>
再用 <code>cell_internal_connect_map</code> 构建 <strong>cell_out / cell_in</strong> 边。</p>
<hr>
<h2>🧱 图逻辑概览</h2>
<p>你现在拥有：</p>
<ul>
<li>
<p><strong><code>src_net_pin</code> / <code>dst_net_pin</code></strong></p>
<ul>
<li>→ 每个 <code>"node_id:pin_name"</code> 表示一个独立的端点（一个 node）</li>
<li>→ <code>(src_net_pin[i], dst_net_pin[i])</code> 代表 <strong>net_in 边</strong></li>
<li>→ <code>(dst_net_pin[i], src_net_pin[i])</code> 代表 <strong>net_out 边</strong></li>
</ul>
</li>
<li>
<p><strong><code>cell_internal_connect_map</code></strong></p>
<ul>
<li><code>{node_id: {pin_name: direction}}</code></li>
<li>input→output 的关系形成 <strong>cell_out</strong> 边</li>
<li>output→input 的反向形成 <strong>cell_in</strong> 边（如果需要）</li>
</ul>
</li>
</ul>
<hr>
<h2>✅ 目标数据结构</h2>
<p>我们创建唯一节点集合和边索引：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span style="color: rgb(212, 208, 171);"># 所有唯一节点</span><span>
</span><span>pin_nodes = </span><span style="color: rgb(245, 171, 53);">sorted</span><span>(</span><span style="color: rgb(245, 171, 53);">set</span><span>(src_net_pin + dst_net_pin))
</span>
<span></span><span style="color: rgb(212, 208, 171);"># 构建 name -&gt; id 映射</span><span>
</span><span>pin2id = {name: idx </span><span style="color: rgb(220, 198, 224);">for</span><span> idx, name </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">enumerate</span><span>(pin_nodes)}
</span>
<span></span><span style="color: rgb(212, 208, 171);"># net_in / net_out 边索引</span><span>
</span><span>src_net_in = torch.tensor([pin2id[s] </span><span style="color: rgb(220, 198, 224);">for</span><span> s </span><span style="color: rgb(220, 198, 224);">in</span><span> src_net_pin], dtype=torch.long)
</span><span>dst_net_in = torch.tensor([pin2id[d] </span><span style="color: rgb(220, 198, 224);">for</span><span> d </span><span style="color: rgb(220, 198, 224);">in</span><span> dst_net_pin], dtype=torch.long)
</span>
src_net_out = dst_net_in
dst_net_out = src_net_in
</code></pre></div></div></div>
<hr>
<h2>⚙️ 构建 <code>cell_out</code> 边</h2>
<p>逻辑：</p>
<ul>
<li>对于每个 <code>node_id</code></li>
<li>找出它的 <code>output</code> 引脚集 &amp; <code>input</code> 引脚集</li>
<li>做笛卡尔积：每个 output → 每个 input（一个或多个边）</li>
</ul>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>src_cell, dst_cell = [], []
</span>
<span></span><span style="color: rgb(220, 198, 224);">for</span><span> node_id, pin_dir_map </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_internal_connect_map.items():
</span><span>    </span><span style="color: rgb(212, 208, 171);"># output pin 是驱动</span><span>
</span><span>    out_pins = [p </span><span style="color: rgb(220, 198, 224);">for</span><span> p, d </span><span style="color: rgb(220, 198, 224);">in</span><span> pin_dir_map.items() </span><span style="color: rgb(220, 198, 224);">if</span><span> d == </span><span style="color: rgb(171, 227, 56);">"output"</span><span>]
</span><span>    in_pins = [p </span><span style="color: rgb(220, 198, 224);">for</span><span> p, d </span><span style="color: rgb(220, 198, 224);">in</span><span> pin_dir_map.items() </span><span style="color: rgb(220, 198, 224);">if</span><span> d == </span><span style="color: rgb(171, 227, 56);">"input"</span><span>]
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># 生成边 “output → input”</span><span>
</span><span>    </span><span style="color: rgb(220, 198, 224);">for</span><span> op </span><span style="color: rgb(220, 198, 224);">in</span><span> out_pins:
</span><span>        </span><span style="color: rgb(220, 198, 224);">for</span><span> ip </span><span style="color: rgb(220, 198, 224);">in</span><span> in_pins:
</span><span>            src_name = </span><span style="color: rgb(171, 227, 56);">f"</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{node_id}</span><span style="color: rgb(171, 227, 56);">:</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{op}</span><span style="color: rgb(171, 227, 56);">"</span><span>
</span><span>            dst_name = </span><span style="color: rgb(171, 227, 56);">f"</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{node_id}</span><span style="color: rgb(171, 227, 56);">:</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{ip}</span><span style="color: rgb(171, 227, 56);">"</span><span>
</span><span>            </span><span style="color: rgb(220, 198, 224);">if</span><span> src_name </span><span style="color: rgb(220, 198, 224);">in</span><span> pin2id </span><span style="color: rgb(220, 198, 224);">and</span><span> dst_name </span><span style="color: rgb(220, 198, 224);">in</span><span> pin2id:
</span>                src_cell.append(pin2id[src_name])
                dst_cell.append(pin2id[dst_name])
</code></pre></div></div></div>
<blockquote node="[object Object]">
<p>小心：<strong>一定要确保这些 “node:pin” 已经在全局 pin2id 中存在</strong><br>
（即出现在 net_in/net_out 的端点集合里）。</p>
</blockquote>
<p>如果没有，可以跳过（因为有的内连 pin 没在 net 表中）。</p>
<hr>
<h2>🧱 整合成 <code>data_dict</code></h2>
<p>最后汇总成 DGL 的 <code>data_dict</code>：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>data_dict = {
</span><span>    (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'net_in'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>):  (src_net_in, dst_net_in),
</span><span>    (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'net_out'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>): (src_net_out, dst_net_out),
</span><span>    (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'cell_out'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>): (torch.tensor(src_cell), torch.tensor(dst_cell))
</span>}
</code></pre></div></div></div>
<hr>
<h2>🚀 构建 DGL 异构图</h2>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span style="color: rgb(220, 198, 224);">import</span><span> dgl
</span><span></span><span style="color: rgb(220, 198, 224);">import</span><span> torch
</span>
<span>g = dgl.heterograph(data_dict, num_nodes_dict={</span><span style="color: rgb(171, 227, 56);">'node'</span><span>: </span><span style="color: rgb(245, 171, 53);">len</span><span>(pin_nodes)}, device=device)
</span></code></pre></div></div></div>
<p>并保存映射表、辅助信息：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>g.graph_aux = {
</span><span>    </span><span style="color: rgb(171, 227, 56);">"pin_names"</span><span>: pin_nodes,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"pin2id"</span><span>: pin2id,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"cell_id_to_info"</span><span>: cell_id_to_info,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"cell_internal_connect_map"</span><span>: cell_internal_connect_map,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"cell_id_to_type"</span><span>: cell_id_to_type,
</span>}
</code></pre></div></div></div>
<p>可选地，你也可以存原始电路数据用于可视化或后续 feature 生成。</p>
<hr>
<h2>🧩 最终整合版本（可直接用）</h2>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="false"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span style="color: rgb(212, 208, 171);"># ===== 建图部分 =====</span><span>
</span><span>pin_nodes = </span><span style="color: rgb(245, 171, 53);">sorted</span><span>(</span><span style="color: rgb(245, 171, 53);">set</span><span>(src_net_pin + dst_net_pin))
</span><span>pin2id = {name: idx </span><span style="color: rgb(220, 198, 224);">for</span><span> idx, name </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">enumerate</span><span>(pin_nodes)}
</span>
<span>src_net_in = torch.tensor([pin2id[s] </span><span style="color: rgb(220, 198, 224);">for</span><span> s </span><span style="color: rgb(220, 198, 224);">in</span><span> src_net_pin], dtype=torch.long)
</span><span>dst_net_in = torch.tensor([pin2id[d] </span><span style="color: rgb(220, 198, 224);">for</span><span> d </span><span style="color: rgb(220, 198, 224);">in</span><span> dst_net_pin], dtype=torch.long)
</span>
<span></span><span style="color: rgb(212, 208, 171);"># 双向</span><span>
</span>src_net_out = dst_net_in
dst_net_out = src_net_in

<span></span><span style="color: rgb(212, 208, 171);"># cell 内部连接</span><span>
</span>src_cell, dst_cell = [], []
<span></span><span style="color: rgb(220, 198, 224);">for</span><span> node_id, pin_dir_map </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_internal_connect_map.items():
</span><span>    out_pins = [p </span><span style="color: rgb(220, 198, 224);">for</span><span> p, d </span><span style="color: rgb(220, 198, 224);">in</span><span> pin_dir_map.items() </span><span style="color: rgb(220, 198, 224);">if</span><span> d == </span><span style="color: rgb(171, 227, 56);">"output"</span><span>]
</span><span>    in_pins = [p </span><span style="color: rgb(220, 198, 224);">for</span><span> p, d </span><span style="color: rgb(220, 198, 224);">in</span><span> pin_dir_map.items() </span><span style="color: rgb(220, 198, 224);">if</span><span> d == </span><span style="color: rgb(171, 227, 56);">"input"</span><span>]
</span>
<span>    </span><span style="color: rgb(220, 198, 224);">for</span><span> op </span><span style="color: rgb(220, 198, 224);">in</span><span> out_pins:
</span><span>        </span><span style="color: rgb(220, 198, 224);">for</span><span> ip </span><span style="color: rgb(220, 198, 224);">in</span><span> in_pins:
</span><span>            src_name = </span><span style="color: rgb(171, 227, 56);">f"</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{node_id}</span><span style="color: rgb(171, 227, 56);">:</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{op}</span><span style="color: rgb(171, 227, 56);">"</span><span>
</span><span>            dst_name = </span><span style="color: rgb(171, 227, 56);">f"</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{node_id}</span><span style="color: rgb(171, 227, 56);">:</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{ip}</span><span style="color: rgb(171, 227, 56);">"</span><span>
</span><span>            </span><span style="color: rgb(220, 198, 224);">if</span><span> src_name </span><span style="color: rgb(220, 198, 224);">in</span><span> pin2id </span><span style="color: rgb(220, 198, 224);">and</span><span> dst_name </span><span style="color: rgb(220, 198, 224);">in</span><span> pin2id:
</span>                src_cell.append(pin2id[src_name])
                dst_cell.append(pin2id[dst_name])

src_cell = torch.tensor(src_cell, dtype=torch.long)
dst_cell = torch.tensor(dst_cell, dtype=torch.long)

data_dict = {
<span>    (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'net_in'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>):  (src_net_in, dst_net_in),
</span><span>    (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'net_out'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>): (src_net_out, dst_net_out),
</span><span>    (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'cell_out'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>): (src_cell, dst_cell)
</span>}

<span></span><span style="color: rgb(212, 208, 171);"># 创建异构图</span><span>
</span><span>g = dgl.heterograph(data_dict, num_nodes_dict={</span><span style="color: rgb(171, 227, 56);">'node'</span><span>: </span><span style="color: rgb(245, 171, 53);">len</span><span>(pin_nodes)}, device=device)
</span>
g.graph_aux = {
<span>    </span><span style="color: rgb(171, 227, 56);">"pin_names"</span><span>: pin_nodes,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"pin2id"</span><span>: pin2id,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"cell_id_to_info"</span><span>: cell_id_to_info,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"cell_internal_connect_map"</span><span>: cell_internal_connect_map,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"cell_id_to_type"</span><span>: cell_id_to_type,
</span>}

<span></span><span style="color: rgb(245, 171, 53);">print</span><span>(g)
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"节点数量:"</span><span>, </span><span style="color: rgb(245, 171, 53);">len</span><span>(pin_nodes))
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"net_in 边数量:"</span><span>, </span><span style="color: rgb(245, 171, 53);">len</span><span>(src_net_in))
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"cell_out 边数量:"</span><span>, </span><span style="color: rgb(245, 171, 53);">len</span><span>(src_cell))
</span></code></pre></div></div></div>
<hr>
<h2>🔍 验证逻辑正确性</h2>
<p>在 DGL 中，你可以简单验证：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span style="color: rgb(245, 171, 53);">print</span><span>(g.etypes)                </span><span style="color: rgb(212, 208, 171);"># ['net_in', 'net_out', 'cell_out']</span><span>
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(g.num_edges(</span><span style="color: rgb(171, 227, 56);">'net_in'</span><span>))   </span><span style="color: rgb(212, 208, 171);"># 等于 len(src_net_pin)</span><span>
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(g.num_nodes())           </span><span style="color: rgb(212, 208, 171);"># 等于 len(unique pin_node)</span><span>
</span></code></pre></div></div></div>
<hr>
<h2>💡 未来扩展示意</h2>
<p>你之后还可以：</p>
<ul>
<li>为每个 pin_node 赋特征（如所属 cell_id 或坐标）放入 <code>g.ndata</code></li>
<li>为每类边添加特征（如线长或延迟）放入 <code>g.edata</code></li>
<li>下游模块（如 <code>DifferentiablePhysicalFrontEnd</code>）直接读这些特征</li>
</ul>
<hr>
<p>是否希望我帮你顺便加上 <code>node_id</code> → <code>所属 cell</code> 的快速索引特征（即 <code>g.ndata["cell_id"]</code>），方便以 pin 为节点、以 cell 为分组聚合？<br>
这样在 GNN 训练中做 “cell-wise message passing” 会更方便。</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:44 PM</span></div></div></div></div></div></div></div></div></div><div class="ChatMessagesView_messageTuple__Jh5lQ ChatMessagesView_largerGap__hMKSc" data-animate-jump="true"><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443075729635"><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6 ChatMessage_rightSideMessageWrapper__r0roB"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU Message_rightSideMessageRow__23wdY"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_rightSideMessageBubble__ioa_i Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_accentContainer__kl4s4"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc" style="overflow: hidden; max-height: 60vh;"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-on-accent__rESxX"><p>ef build_dreamplace_hetero_graph(params_json, device='cuda', lib_json_path=None):<br>
"""<br>
Build a DGL heterograph from DREAMPlace PlaceDB.</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">ini</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-ini" style="white-space: pre;"><span>- All numeric node/edge features go into DGL's ndata/edata for batching.
</span>- String/complex attributes are encoded or saved in g.graph_aux.
"""

<span></span><span style="color: rgb(212, 208, 171);"># Initialize DREAMPlace params and DB</span><span>
</span><span></span><span class="hljs-attr">params</span><span> = Params.Params()
</span>with suppress_output():
    params.load(params_json)
<span>    </span><span class="hljs-attr">placedb</span><span> = PlaceDB()
</span>    placedb(params)

<span></span><span class="hljs-attr">num_nodes</span><span> = placedb.num_physical_nodes
</span><span></span><span class="hljs-attr">reader</span><span> = CellLibraryReader(lib_json_path)
</span>
<span></span><span style="color: rgb(212, 208, 171);"># Collect node info from PlaceDB and CellLibrary</span><span>
</span><span></span><span class="hljs-attr">cell_id_to_type</span><span> = {}
</span><span></span><span class="hljs-attr">cell_id_to_info</span><span> = {} 
</span><span></span><span class="hljs-attr">cell_internal_connect_map</span><span> = {}
</span>
for node_id in range(num_nodes):
<span>    </span><span class="hljs-attr">node_name</span><span> = placedb.node_names[node_id]
</span><span>    </span><span class="hljs-attr">macro_name</span><span> = placedb.rawdb.macroName(node_id)
</span><span>    </span><span class="hljs-attr">cell_info</span><span> = reader.get_cell_info(macro_name) 
</span><span>    cell_internal_connect_map</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span> = {}
</span><span>    </span><span class="hljs-attr">info</span><span> = {
</span>        "cell_name": "TERMINAL",
        "x": 0.0,
        "y": 0.0,
        "size": 0.0,
        "vt": 0.0,
        "leakage": 0.0
    }

    if cell_info:
<span>        info</span><span style="color: rgb(0, 224, 224);">["cell_name"]</span><span> = cell_info</span><span style="color: rgb(0, 224, 224);">["cell_name"]</span><span>
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["x"]</span><span> = placedb.node_x</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span>
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["y"]</span><span> = placedb.node_y</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span>
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["size"]</span><span> = float(cell_info</span><span style="color: rgb(0, 224, 224);">["size_value"]</span><span>)
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["vt"]</span><span> = float(cell_info</span><span style="color: rgb(0, 224, 224);">["vt_id"]</span><span>)
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["leakage"]</span><span> = float(cell_info.get("leakage_power", 0.0))
</span>    else:
        pass

<span>    cell_id_to_type</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span> = info</span><span style="color: rgb(0, 224, 224);">["cell_name"]</span><span>
</span><span>    cell_id_to_info</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span> = info
</span>
print("cell_id_to_type: ", cell_id_to_type)
print("cell_id_to_info: ", cell_id_to_info)

<span>  </span><span style="color: rgb(212, 208, 171);"># Parse network connections (driver -&gt; sink)</span><span>
</span>def _b2s(v):
    return v.decode('utf-8') if isinstance(v, (bytes,)) else str(v)

<span>src_net_pin, </span><span class="hljs-attr">dst_net_pin</span><span>= [], []
</span>
for pins in placedb.net2pin_map:
    print("pins: ", pins)
<span>    </span><span class="hljs-attr">dont_care_net_flag</span><span> = </span><span style="color: rgb(245, 171, 53);">False</span><span>
</span><span>    drivers, </span><span class="hljs-attr">sinks</span><span> = [], []
</span>    for pin_id in pins:
<span>        </span><span class="hljs-attr">dir_s</span><span> = _b2s(placedb.pin_direct[pin_id]).strip().upper()
</span>
        if dir_s.startswith('O') or 'OUT' in dir_s:
            drivers.append(pin_id)
        elif dir_s.startswith('I') or 'IN' in dir_s:
            sinks.append(pin_id)
        elif dir_s in ('B', 'IO', 'INOUT'):
            drivers.append(pin_id)
            sinks.append(pin_id)
    if not drivers:
        continue
    for dpid in drivers:
<span>        </span><span class="hljs-attr">src_node</span><span> = int(placedb.pin2node_map[dpid])
</span><span>        </span><span class="hljs-attr">src_name</span><span> = _b2s(placedb.node_names[src_node])
</span>        print("src_node: ", src_node, "src_name: ", src_name)
<span>        if </span><span class="hljs-attr">src_name</span><span> == </span><span style="color: rgb(171, 227, 56);">'clk'</span><span> or src_name == </span><span style="color: rgb(171, 227, 56);">'reset'</span><span>:
</span><span>            </span><span class="hljs-attr">dont_care_net_flag</span><span> = </span><span style="color: rgb(245, 171, 53);">True</span><span>
</span>            break
<span>        </span><span class="hljs-attr">in_pin</span><span> = _b2s(placedb.rawdb.macroPin(dpid).name())
</span>        src_net_pin.append("{}:{}".format(src_node, in_pin))
        print("src pin: {}".format("{}:{}".format(src_node, in_pin)))
<span>        cell_internal_connect_map</span><span style="color: rgb(0, 224, 224);">[src_node]</span><span style="color: rgb(0, 224, 224);">[in_pin]</span><span> = "output"
</span>    if dont_care_net_flag:
        continue
    for spid in sinks:
<span>        </span><span class="hljs-attr">dst_node</span><span> = int(placedb.pin2node_map[spid])
</span><span>        </span><span class="hljs-attr">dst_name</span><span> = _b2s(placedb.node_names[dst_node])
</span>        print("dst_node: ", dst_node, "dst_name: ", dst_name)
<span>        </span><span class="hljs-attr">out_pin</span><span> = _b2s(placedb.rawdb.macroPin(spid).name())
</span>        dst_net_pin.append("{}:{}".format(dst_node, out_pin))
<span>        cell_internal_connect_map</span><span style="color: rgb(0, 224, 224);">[dst_node]</span><span style="color: rgb(0, 224, 224);">[out_pin]</span><span> = "input"
</span>        print("dst pin: {}".format("{}:{}".format(dst_node, out_pin)))

<span></span><span style="color: rgb(212, 208, 171);"># 所有唯一节点</span><span>
</span><span></span><span class="hljs-attr">pin_nodes</span><span> = sorted(set(src_net_pin + dst_net_pin))
</span>
<span></span><span style="color: rgb(212, 208, 171);"># 构建 name -&gt; id 映射</span><span>
</span><span></span><span class="hljs-attr">pin2id</span><span> = {name: idx for idx, name in enumerate(pin_nodes)}
</span>
<span></span><span style="color: rgb(212, 208, 171);"># net_in / net_out 边索引</span><span>
</span><span></span><span class="hljs-attr">src_net_in</span><span> = torch.tensor([pin2id[s] for s in src_net_pin], dtype=torch.long)
</span><span></span><span class="hljs-attr">dst_net_in</span><span> = torch.tensor([pin2id[d] for d in dst_net_pin], dtype=torch.long)
</span>
<span></span><span class="hljs-attr">src_net_out</span><span> = dst_net_in
</span><span></span><span class="hljs-attr">dst_net_out</span><span> = src_net_in
</span>
<span>src_cell, </span><span class="hljs-attr">dst_cell</span><span> = [], []
</span>
for node_id, pin_dir_map in cell_internal_connect_map.items():
<span>    </span><span style="color: rgb(212, 208, 171);"># output pin 是驱动</span><span>
</span><span>    </span><span class="hljs-attr">out_pins</span><span> = [p for p, d in pin_dir_map.items() if d == </span><span style="color: rgb(171, 227, 56);">"output"</span><span>]
</span><span>    </span><span class="hljs-attr">in_pins</span><span> = [p for p, d in pin_dir_map.items() if d == </span><span style="color: rgb(171, 227, 56);">"input"</span><span>]
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># 生成边 “output → input”</span><span>
</span>    for op in out_pins:
        for ip in in_pins:
<span>            </span><span class="hljs-attr">src_name</span><span> = f</span><span style="color: rgb(171, 227, 56);">"{node_id}:{op}"</span><span>
</span><span>            </span><span class="hljs-attr">dst_name</span><span> = f</span><span style="color: rgb(171, 227, 56);">"{node_id}:{ip}"</span><span>
</span>            if src_name in pin2id and dst_name in pin2id:
<span>                src_cell.append(pin2id</span><span style="color: rgb(0, 224, 224);">[src_name]</span><span>)
</span><span>                dst_cell.append(pin2id</span><span style="color: rgb(0, 224, 224);">[dst_name]</span><span>)这里面的x y size和vt需要成为指定node_id的nf特征，然后可以分发到所有的nodeid:pin_name上，然后leakage power也作为额外信息挂到对应的node上
</span></code></pre></div></div></div></div></div></div><div class="Message_viewMoreButtonContainer__QTl_p Message_viewMoreButtonContainerBackgroundPurpleFade__AunR9"><button class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o Message_viewMoreButton__hixhw" type="button" data-theme="secondary"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 5a1 1 0 1 1 0-2H20a1 1 0 0 1 1 1v5.5a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14.5Zm-3.793 8.293a1 1 0 0 1 0 1.414L6.414 19H9.5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1v-5.5a1 1 0 1 1 2 0v3.086l4.293-4.293a1 1 0 0 1 1.414 0Z"></path></svg><span class="button_label__mCaDf">View more</span></button></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:49 PM</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="Message_messageSeenStateIcon__Cl_ov"><path d="m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"></path><path d="M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"></path></svg></div></div></div></div></div></div></div></div><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443075731683"><div class="LeftSideMessageHeader_leftSideMessageHeader__5CfdD"><div class="LeftSideMessageHeader_headerWrapper__EpVkV"><div class="BotMessageHeader_wrapper__gvvdw"><a class="BotHeader_title__cURS_" target="_blank" href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div><div class="BotHeader_textContainer__kVf_I"><p>GPT-5-Chat</p></div></a></div></div></div><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_leftSideMessageBubble__VPdk6 Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_neutralContainer__RAZX6"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-hi-contrast__LQyM9"><p>非常好 👍 你现在的目标是：</p>
<p>在 DGL 的图中，<strong>为每个 “node_id:pin_name” 节点添加对应的数值特征 (<code>ndata</code>)</strong>，<br>
这些特征来自于同一 <code>cell_id</code>（即你的 placedb node）：</p>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>Feature</th><th>来源</th><th>作用</th><th>存放</th></tr></thead><tbody><tr><td><code>x</code>, <code>y</code></td><td>from <code>placedb.node_x</code>, <code>placedb.node_y</code></td><td>物理坐标</td><td><code>g.ndata['pos']</code></td></tr><tr><td><code>size</code></td><td>from <code>cell_info</code></td><td>面积或驱动强度</td><td><code>g.ndata['size']</code></td></tr><tr><td><code>vt</code></td><td>from <code>cell_info</code></td><td>阈值电压类别</td><td><code>g.ndata['vt']</code></td></tr><tr><td><code>leakage</code></td><td>from <code>cell_info</code></td><td>输入泄漏功耗</td><td><code>g.ndata['leakage']</code></td></tr></tbody></table></div>
<hr>
<h2>✅ 实现逻辑</h2>
<p>我们可以遍历 <code>pin_nodes</code> （即 <code>"node_id:pin_name"</code>），根据 <code>node_id</code> 查找到对应的 cell 属性。</p>
<p>因为同一个 cell 下的所有 pin 共享相同 <code>x, y, size, vt, leakage</code>，<br>
所以直接广播相同值给该 cell 的所有 pin node。</p>
<hr>
<h2>⚙️ 完整补充段落 (添加到你代码中“构建 DGL 图”之后)</h2>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="false"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span style="color: rgb(212, 208, 171);"># 建图之后</span><span>
</span><span></span><span style="color: rgb(220, 198, 224);">import</span><span> torch
</span><span></span><span style="color: rgb(220, 198, 224);">import</span><span> dgl
</span>
g = dgl.heterograph(
    {
<span>        (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'net_in'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>):  (src_net_in, dst_net_in),
</span><span>        (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'net_out'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>): (src_net_out, dst_net_out),
</span><span>        (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'cell_out'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>): (torch.tensor(src_cell), torch.tensor(dst_cell))
</span>    },
<span>    num_nodes_dict={</span><span style="color: rgb(171, 227, 56);">'node'</span><span>: </span><span style="color: rgb(245, 171, 53);">len</span><span>(pin_nodes)},
</span>    device=device
)

<span></span><span style="color: rgb(212, 208, 171);"># === 构建 Node 特征 ===</span><span>
</span><span>n = </span><span style="color: rgb(245, 171, 53);">len</span><span>(pin_nodes)
</span>
node_x, node_y, node_size, node_vt, node_leakage, node_cell_id = \
    torch.zeros(n, dtype=torch.float32), \
    torch.zeros(n, dtype=torch.float32), \
    torch.zeros(n, dtype=torch.float32), \
    torch.zeros(n, dtype=torch.float32), \
    torch.zeros(n, dtype=torch.float32), \
    torch.zeros(n, dtype=torch.long)

<span></span><span style="color: rgb(220, 198, 224);">for</span><span> name, idx </span><span style="color: rgb(220, 198, 224);">in</span><span> pin2id.items():
</span><span>    </span><span style="color: rgb(212, 208, 171);"># name 形如 "node_id:pin_name"</span><span>
</span><span>    node_id_str, _ = name.split(</span><span style="color: rgb(171, 227, 56);">':'</span><span>, </span><span style="color: rgb(245, 171, 53);">1</span><span>)
</span><span>    node_id = </span><span style="color: rgb(245, 171, 53);">int</span><span>(node_id_str)
</span>
<span>    </span><span style="color: rgb(220, 198, 224);">if</span><span> node_id </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_id_to_info:
</span>        info = cell_id_to_info[node_id]
<span>        node_x[idx] = info[</span><span style="color: rgb(171, 227, 56);">"x"</span><span>]
</span><span>        node_y[idx] = info[</span><span style="color: rgb(171, 227, 56);">"y"</span><span>]
</span><span>        node_size[idx] = info[</span><span style="color: rgb(171, 227, 56);">"size"</span><span>]
</span><span>        node_vt[idx] = info[</span><span style="color: rgb(171, 227, 56);">"vt"</span><span>]
</span><span>        node_leakage[idx] = info[</span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>]
</span>        node_cell_id[idx] = node_id

<span></span><span style="color: rgb(212, 208, 171);"># === 绑定 ndata 特征 ===</span><span>
</span><span></span><span style="color: rgb(212, 208, 171);"># 位置特征</span><span>
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">'pos'</span><span>] = torch.stack([node_x, node_y], dim=</span><span style="color: rgb(245, 171, 53);">1</span><span>)
</span>
<span></span><span style="color: rgb(212, 208, 171);"># 其他 scalar 特征</span><span>
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">'size'</span><span>] = node_size
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">'vt'</span><span>] = node_vt
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">'leakage'</span><span>] = node_leakage
</span>
<span></span><span style="color: rgb(212, 208, 171);"># 记录每个节点属于哪个cell（可用于聚合/分组）</span><span>
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">'cell_id'</span><span>] = node_cell_id
</span></code></pre></div></div></div>
<hr>
<h2>🧩 推荐整合 <code>graph_aux</code></h2>
<p>保存你所有结构化信息，同时保留电路上下文，用于后续分析或导出：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>g.graph_aux = {
</span><span>    </span><span style="color: rgb(171, 227, 56);">"pin_names"</span><span>: pin_nodes,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"pin2id"</span><span>: pin2id,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"cell_id_to_info"</span><span>: cell_id_to_info,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"cell_internal_connect_map"</span><span>: cell_internal_connect_map,
</span><span>    </span><span style="color: rgb(171, 227, 56);">"cell_id_to_type"</span><span>: cell_id_to_type
</span>}
</code></pre></div></div></div>
<hr>
<h2>🔍 验证输出</h2>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span style="color: rgb(245, 171, 53);">print</span><span>(g)
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"总节点数:"</span><span>, g.num_nodes())
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"总边数 (net_in):"</span><span>, g.num_edges(</span><span style="color: rgb(171, 227, 56);">'net_in'</span><span>))
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"节点特征 keys:"</span><span>, g.ndata.keys())
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"示例位置信息:"</span><span>, g.ndata[</span><span style="color: rgb(171, 227, 56);">'pos'</span><span>][:</span><span style="color: rgb(245, 171, 53);">5</span><span>])
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"示例泄漏功耗:"</span><span>, g.ndata[</span><span style="color: rgb(171, 227, 56);">'leakage'</span><span>][:</span><span style="color: rgb(245, 171, 53);">5</span><span>])
</span></code></pre></div></div></div>
<p>DGL 输出示例：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">scheme</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-scheme" style="white-space: pre;"><span>Graph(</span><span style="color: rgb(255, 160, 122);">num_nodes=</span><span>{</span><span style="color: rgb(171, 227, 56);">'node</span><span style="color: rgb(171, 227, 56);">':</span><span> </span><span style="color: rgb(245, 171, 53);">12000</span><span>},
</span><span>      num_edges={ </span><span style="color: rgb(171, 227, 56);">'net_in</span><span style="color: rgb(171, 227, 56);">':</span><span> </span><span style="color: rgb(245, 171, 53);">35000</span><span>, </span><span style="color: rgb(171, 227, 56);">'net_out</span><span style="color: rgb(171, 227, 56);">':</span><span> </span><span style="color: rgb(245, 171, 53);">35000</span><span>, </span><span style="color: rgb(171, 227, 56);">'cell_out</span><span style="color: rgb(171, 227, 56);">':</span><span> </span><span style="color: rgb(245, 171, 53);">56000</span><span> },
</span><span>      metagraph=[(</span><span style="color: rgb(171, 227, 56);">'node</span><span>', </span><span style="color: rgb(171, 227, 56);">'net_in</span><span>', </span><span style="color: rgb(171, 227, 56);">'node</span><span>'), ...])
</span></code></pre></div></div></div>
<hr>
<h2>💡 特征总结 (推荐编码规范)</h2>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>名称</th><th>维度</th><th>含义</th><th>放置位置</th></tr></thead><tbody><tr><td><code>pos</code></td><td>(2,)</td><td>芯片坐标 (x, y)</td><td><code>g.ndata['pos']</code></td></tr><tr><td><code>size</code></td><td>(1,)</td><td>宏单元面积 / 驱动强度</td><td><code>g.ndata['size']</code></td></tr><tr><td><code>vt</code></td><td>(1,)</td><td>迁移阈值电压类别</td><td><code>g.ndata['vt']</code></td></tr><tr><td><code>leakage</code></td><td>(1,)</td><td>泄漏功耗</td><td><code>g.ndata['leakage']</code></td></tr><tr><td><code>cell_id</code></td><td>(1,)</td><td>当前 pin 所属 cell_id</td><td><code>g.ndata['cell_id']</code></td></tr></tbody></table></div>
<hr>
<h2>✅ 延伸（如你要支持 GNN 训练）</h2>
<p>之后可以方便地添加：</p>
<ul>
<li>对 <code>pos</code> 正规化 (<code>pos / die_size</code>)</li>
<li>组合成统一特征矩阵
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"feat"</span><span>] = torch.stack(
</span><span>    [node_size, node_vt, node_leakage], dim=</span><span style="color: rgb(245, 171, 53);">1</span><span>
</span>)
</code></pre></div></div></div>
</li>
<li>或为不同边类型加上特征（例如 <code>length</code>, <code>is_internal</code> 等）</li>
</ul>
<hr>
<p>是否希望我帮你在这段基础上，进一步加上 <strong>边的物理特征</strong>（比如 |pos_src - pos_dst| 作为边长）一起放入 <code>g.edata</code>？<br>
那样就能直接在 GNN 里计算延迟或线长约束。</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:49 PM</span></div></div></div></div></div></div></div></div></div><div class="ChatMessagesView_messageTuple__Jh5lQ ChatMessagesView_largerGap__hMKSc" data-animate-jump="true"><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443076219107"><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6 ChatMessage_rightSideMessageWrapper__r0roB"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU Message_rightSideMessageRow__23wdY"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_rightSideMessageBubble__ioa_i Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_accentContainer__kl4s4"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc" style="overflow: hidden; max-height: 60vh;"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-on-accent__rESxX"><p>帮我完整的把构图过程写完：mplace_hetero_graph(params_json, device='cuda', lib_json_path=None):<br>
"""<br>
Build a DGL heterograph from DREAMPlace PlaceDB.</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">ini</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-ini" style="white-space: pre;"><span>- All numeric node/edge features go into DGL's ndata/edata for batching.
</span>- String/complex attributes are encoded or saved in g.graph_aux.
"""

<span></span><span style="color: rgb(212, 208, 171);"># Initialize DREAMPlace params and DB</span><span>
</span><span></span><span class="hljs-attr">params</span><span> = Params.Params()
</span>with suppress_output():
    params.load(params_json)
<span>    </span><span class="hljs-attr">placedb</span><span> = PlaceDB()
</span>    placedb(params)

<span></span><span class="hljs-attr">num_nodes</span><span> = placedb.num_physical_nodes
</span><span></span><span class="hljs-attr">reader</span><span> = CellLibraryReader(lib_json_path)
</span>
<span></span><span style="color: rgb(212, 208, 171);"># Collect node info from PlaceDB and CellLibrary</span><span>
</span><span></span><span class="hljs-attr">cell_id_to_type</span><span> = {}
</span><span></span><span class="hljs-attr">cell_id_to_info</span><span> = {} 
</span><span></span><span class="hljs-attr">cell_internal_connect_map</span><span> = {}
</span>
for node_id in range(num_nodes):
<span>    </span><span class="hljs-attr">node_name</span><span> = placedb.node_names[node_id]
</span><span>    </span><span class="hljs-attr">macro_name</span><span> = placedb.rawdb.macroName(node_id)
</span><span>    </span><span class="hljs-attr">cell_info</span><span> = reader.get_cell_info(macro_name) 
</span><span>    cell_internal_connect_map</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span> = {}
</span><span>    </span><span class="hljs-attr">info</span><span> = {
</span>        "cell_name": "TERMINAL",
        "x": 0.0,
        "y": 0.0,
        "size": 0.0,
        "vt": 0.0,
        "leakage": 0.0
    }

    if cell_info:
<span>        info</span><span style="color: rgb(0, 224, 224);">["cell_name"]</span><span> = cell_info</span><span style="color: rgb(0, 224, 224);">["cell_name"]</span><span>
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["x"]</span><span> = placedb.node_x</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span>
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["y"]</span><span> = placedb.node_y</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span>
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["size"]</span><span> = float(cell_info</span><span style="color: rgb(0, 224, 224);">["size_value"]</span><span>)
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["vt"]</span><span> = float(cell_info</span><span style="color: rgb(0, 224, 224);">["vt_id"]</span><span>)
</span><span>        info</span><span style="color: rgb(0, 224, 224);">["leakage"]</span><span> = float(cell_info.get("leakage_power", 0.0))
</span>    else:
        pass

<span>    cell_id_to_type</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span> = info</span><span style="color: rgb(0, 224, 224);">["cell_name"]</span><span>
</span><span>    cell_id_to_info</span><span style="color: rgb(0, 224, 224);">[node_id]</span><span> = info
</span>
print("cell_id_to_type: ", cell_id_to_type)
print("cell_id_to_info: ", cell_id_to_info)

<span>  </span><span style="color: rgb(212, 208, 171);"># Parse network connections (driver -&gt; sink)</span><span>
</span>def _b2s(v):
    return v.decode('utf-8') if isinstance(v, (bytes,)) else str(v)

<span>src_net_pin, </span><span class="hljs-attr">dst_net_pin</span><span>= [], []
</span>
for pins in placedb.net2pin_map:
    print("pins: ", pins)
<span>    </span><span class="hljs-attr">dont_care_net_flag</span><span> = </span><span style="color: rgb(245, 171, 53);">False</span><span>
</span><span>    drivers, </span><span class="hljs-attr">sinks</span><span> = [], []
</span>    for pin_id in pins:
<span>        </span><span class="hljs-attr">dir_s</span><span> = _b2s(placedb.pin_direct[pin_id]).strip().upper()
</span>
        if dir_s.startswith('O') or 'OUT' in dir_s:
            drivers.append(pin_id)
        elif dir_s.startswith('I') or 'IN' in dir_s:
            sinks.append(pin_id)
        elif dir_s in ('B', 'IO', 'INOUT'):
            drivers.append(pin_id)
            sinks.append(pin_id)
    if not drivers:
        continue
    for dpid in drivers:
<span>        </span><span class="hljs-attr">src_node</span><span> = int(placedb.pin2node_map[dpid])
</span><span>        </span><span class="hljs-attr">src_name</span><span> = _b2s(placedb.node_names[src_node])
</span>        print("src_node: ", src_node, "src_name: ", src_name)
<span>        if </span><span class="hljs-attr">src_name</span><span> == </span><span style="color: rgb(171, 227, 56);">'clk'</span><span> or src_name == </span><span style="color: rgb(171, 227, 56);">'reset'</span><span>:
</span><span>            </span><span class="hljs-attr">dont_care_net_flag</span><span> = </span><span style="color: rgb(245, 171, 53);">True</span><span>
</span>            break
<span>        </span><span class="hljs-attr">in_pin</span><span> = _b2s(placedb.rawdb.macroPin(dpid).name())
</span>        src_net_pin.append("{}:{}".format(src_node, in_pin))
        print("src pin: {}".format("{}:{}".format(src_node, in_pin)))
<span>        cell_internal_connect_map</span><span style="color: rgb(0, 224, 224);">[src_node]</span><span style="color: rgb(0, 224, 224);">[in_pin]</span><span> = "output"
</span>    if dont_care_net_flag:
        continue
    for spid in sinks:
<span>        </span><span class="hljs-attr">dst_node</span><span> = int(placedb.pin2node_map[spid])
</span><span>        </span><span class="hljs-attr">dst_name</span><span> = _b2s(placedb.node_names[dst_node])
</span>        print("dst_node: ", dst_node, "dst_name: ", dst_name)
<span>        </span><span class="hljs-attr">out_pin</span><span> = _b2s(placedb.rawdb.macroPin(spid).name())
</span>        dst_net_pin.append("{}:{}".format(dst_node, out_pin))
<span>        cell_internal_connect_map</span><span style="color: rgb(0, 224, 224);">[dst_node]</span><span style="color: rgb(0, 224, 224);">[out_pin]</span><span> = "input"
</span>        print("dst pin: {}".format("{}:{}".format(dst_node, out_pin)))

<span></span><span style="color: rgb(212, 208, 171);"># 所有唯一节点</span><span>
</span><span></span><span class="hljs-attr">pin_nodes</span><span> = sorted(set(src_net_pin + dst_net_pin))
</span>
<span></span><span style="color: rgb(212, 208, 171);"># 构建 name -&gt; id 映射</span><span>
</span><span></span><span class="hljs-attr">pin2id</span><span> = {name: idx for idx, name in enumerate(pin_nodes)}
</span>
<span></span><span style="color: rgb(212, 208, 171);"># net_in / net_out 边索引</span><span>
</span><span></span><span class="hljs-attr">src_net_in</span><span> = torch.tensor([pin2id[s] for s in src_net_pin], dtype=torch.long)
</span><span></span><span class="hljs-attr">dst_net_in</span><span> = torch.tensor([pin2id[d] for d in dst_net_pin], dtype=torch.long)
</span>
<span></span><span class="hljs-attr">src_net_out</span><span> = dst_net_in
</span><span></span><span class="hljs-attr">dst_net_out</span><span> = src_net_in
</span>
<span>src_cell, </span><span class="hljs-attr">dst_cell</span><span> = [], []
</span>
for node_id, pin_dir_map in cell_internal_connect_map.items():
<span>    </span><span style="color: rgb(212, 208, 171);"># output pin 是驱动</span><span>
</span><span>    </span><span class="hljs-attr">out_pins</span><span> = [p for p, d in pin_dir_map.items() if d == </span><span style="color: rgb(171, 227, 56);">"output"</span><span>]
</span><span>    </span><span class="hljs-attr">in_pins</span><span> = [p for p, d in pin_dir_map.items() if d == </span><span style="color: rgb(171, 227, 56);">"input"</span><span>]
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># 生成边 “output → input”</span><span>
</span>    for op in out_pins:
        for ip in in_pins:
<span>            </span><span class="hljs-attr">src_name</span><span> = f</span><span style="color: rgb(171, 227, 56);">"{node_id}:{op}"</span><span>
</span><span>            </span><span class="hljs-attr">dst_name</span><span> = f</span><span style="color: rgb(171, 227, 56);">"{node_id}:{ip}"</span><span>
</span>            if src_name in pin2id and dst_name in pin2id:
<span>                src_cell.append(pin2id</span><span style="color: rgb(0, 224, 224);">[src_name]</span><span>)
</span><span>                dst_cell.append(pin2id</span><span style="color: rgb(0, 224, 224);">[dst_name]</span><span>)
</span>

<span></span><span style="color: rgb(212, 208, 171);"># </span><span class="hljs-doctag" style="color: rgb(212, 208, 171);">TODO:</span><span style="color: rgb(212, 208, 171);"> src_net_pin and dst_net_pin 每一个都是一个node，两个集合之间一一对应具有连接关系</span><span>
</span><span></span><span class="hljs-attr">data_dict</span><span> = {
</span>    ('node', 'net_in', 'node'):  (src_net_in, dst_net_in),
    ('node', 'net_out', 'node'): (src_net_out, dst_net_out),
    ('node', 'cell_out', 'node'): (torch.tensor(src_cell), torch.tensor(dst_cell))
}


<span></span><span class="hljs-attr">g</span><span> = dgl.heterograph(data_dict, num_nodes_dict={</span><span style="color: rgb(171, 227, 56);">'node'</span><span>: len(pin_nodes)}, device=device)
</span><span></span><span class="hljs-attr">g.graph_aux</span><span> = {
</span>    "pin_names": pin_nodes,
    "pin2id": pin2id,
    "cell_id_to_info": cell_id_to_info,
    "cell_internal_connect_map": cell_internal_connect_map,
    "cell_id_to_type": cell_id_to_type,
}

print(g)
print("节点数量:", len(pin_nodes))
print("net_in 边数量:", len(src_net_in))
print("cell_out 边数量:", len(src_cell))

<span></span><span style="color: rgb(212, 208, 171);">#</span><span class="hljs-doctag" style="color: rgb(212, 208, 171);">todo:</span><span style="color: rgb(212, 208, 171);">挂在node feature</span><span>
</span>
<span>for etype in </span><span style="color: rgb(0, 224, 224);">['net_in', 'net_out', 'cell_out']</span><span>:
</span><span>    </span><span class="hljs-attr">ecount</span><span> = g.num_edges(etype)
</span><span>    g.edges</span><span style="color: rgb(0, 224, 224);">[etype]</span><span>.data</span><span style="color: rgb(0, 224, 224);">['ef']</span><span> = torch.empty((ecount, 0), </span><span class="hljs-attr">dtype</span><span>=torch.float32, device=device)
</span>
<span></span><span style="color: rgb(212, 208, 171);"># Clean up to free memory</span><span>
</span>with suppress_output():
    del placedb
    del params
    del reader

return g
</code></pre></div></div></div></div></div></div><div class="Message_viewMoreButtonContainer__QTl_p Message_viewMoreButtonContainerBackgroundPurpleFade__AunR9"><button class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o Message_viewMoreButton__hixhw" type="button" data-theme="secondary"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 5a1 1 0 1 1 0-2H20a1 1 0 0 1 1 1v5.5a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14.5Zm-3.793 8.293a1 1 0 0 1 0 1.414L6.414 19H9.5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1v-5.5a1 1 0 1 1 2 0v3.086l4.293-4.293a1 1 0 0 1 1.414 0Z"></path></svg><span class="button_label__mCaDf">View more</span></button></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:52 PM</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="Message_messageSeenStateIcon__Cl_ov"><path d="m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"></path><path d="M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"></path></svg></div></div></div></div></div></div></div></div><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443076220131"><div class="LeftSideMessageHeader_leftSideMessageHeader__5CfdD"><div class="LeftSideMessageHeader_headerWrapper__EpVkV"><div class="BotMessageHeader_wrapper__gvvdw"><a class="BotHeader_title__cURS_" target="_blank" href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div><div class="BotHeader_textContainer__kVf_I"><p>GPT-5-Chat</p></div></a></div></div></div><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_leftSideMessageBubble__VPdk6 Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_neutralContainer__RAZX6"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-hi-contrast__LQyM9"><p>下面是你要求的<strong>完整可运行版本</strong>的<br>
<code>build_dreamplace_hetero_graph</code> 函数，<br>
它将 <strong>DREAMPlace</strong> 数据完整转换为 <strong>DGL 异构图</strong>，<br>
并在节点上挂载了所有特征：<code>x, y, size, vt, leakage</code> 和 <code>cell_id</code>。</p>
<hr>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="true"><div class="MarkdownCodeBlock_expandButtonContainer__kdI0J"><button class="button_root__TL8nv button_secondary___dIDW button_sm__hWzjK button_center__RsQ_o MarkdownCodeBlock_expandButton__dE4iV" type="button" data-theme="secondary"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 5a1 1 0 1 1 0-2H20a1 1 0 0 1 1 1v5.5a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14.5Zm-3.793 8.293a1 1 0 0 1 0 1.414L6.414 19H9.5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1v-5.5a1 1 0 1 1 2 0v3.086l4.293-4.293a1 1 0 0 1 1.414 0Z"></path></svg><span class="button_label__mCaDf">View all</span></button></div><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span><span>        g.edges[etype].data[</span><span style="color: rgb(171, 227, 56);">'ef'</span><span>] = torch.empty((ecount, </span><span style="color: rgb(245, 171, 53);">0</span><span>), dtype=torch.float32, device=device)
</span></span><span>
</span><span><span>    </span><span style="color: rgb(212, 208, 171);"># === Auxiliary info ===</span><span>
</span></span><span>    g.graph_aux = {
</span><span><span>        </span><span style="color: rgb(171, 227, 56);">"pin_names"</span><span>: pin_nodes,
</span></span><span><span>        </span><span style="color: rgb(171, 227, 56);">"pin2id"</span><span>: pin2id,
</span></span><span><span>        </span><span style="color: rgb(171, 227, 56);">"cell_id_to_info"</span><span>: cell_id_to_info,
</span></span><span><span>        </span><span style="color: rgb(171, 227, 56);">"cell_internal_connect_map"</span><span>: cell_internal_connect_map,
</span></span><span><span>        </span><span style="color: rgb(171, 227, 56);">"cell_id_to_type"</span><span>: cell_id_to_type,
</span></span><span>    }
</span><span>
</span><span><span>    </span><span style="color: rgb(212, 208, 171);"># === Logging ===</span><span>
</span></span><span><span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(g)
</span></span><span><span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"节点数量:"</span><span>, </span><span style="color: rgb(245, 171, 53);">len</span><span>(pin_nodes))
</span></span><span><span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"net_in 边数量:"</span><span>, </span><span style="color: rgb(245, 171, 53);">len</span><span>(src_net_in))
</span></span><span><span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">"cell_out 边数量:"</span><span>, </span><span style="color: rgb(245, 171, 53);">len</span><span>(src_cell))
</span></span><span>
</span><span><span>    </span><span style="color: rgb(212, 208, 171);"># === Clean up ===</span><span>
</span></span><span><span>    </span><span style="color: rgb(220, 198, 224);">with</span><span> suppress_output():
</span></span><span><span>        </span><span style="color: rgb(220, 198, 224);">del</span><span> placedb
</span></span><span><span>        </span><span style="color: rgb(220, 198, 224);">del</span><span> params
</span></span><span><span>        </span><span style="color: rgb(220, 198, 224);">del</span><span> reader
</span></span><span>
</span><span><span>    </span><span style="color: rgb(220, 198, 224);">return</span><span> g
</span></span><span></span></code></pre></div></div></div>
<hr>
<h2>✅ 功能说明</h2>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>模块</th><th>功能</th><th>输出</th></tr></thead><tbody><tr><td><code>cell_id_to_info</code></td><td>从 <code>PlaceDB</code> + <code>CellLibraryReader</code> 收集每个 cell 的属性</td><td><code>{node_id: {...}}</code></td></tr><tr><td><code>cell_internal_connect_map</code></td><td>每个 cell 内部的 <code>{pin_name: direction}</code> 字典</td><td><code>{node_id: {...}}</code></td></tr><tr><td><code>src_net_pin/dst_net_pin</code></td><td>驱动端和接收端的 pin 全称</td><td><code>node_id:pin_name</code></td></tr><tr><td><strong>构图</strong></td><td>用 DGL 构建三类边：<code>net_in</code>, <code>net_out</code>, <code>cell_out</code></td><td><code>data_dict</code></td></tr><tr><td><strong>节点特征</strong></td><td>每个 <code>node_id:pin_name</code> 节点有 <code>x, y, size, vt, leakage, cell_id</code></td><td><code>g.ndata[...]</code></td></tr><tr><td><strong>辅助信息</strong></td><td>保留电路上下文</td><td><code>g.graph_aux</code></td></tr></tbody></table></div>
<hr>
<h2>🔎 验证示例</h2>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>g = build_dreamplace_hetero_graph(</span><span style="color: rgb(171, 227, 56);">'params.json'</span><span>, lib_json_path=</span><span style="color: rgb(171, 227, 56);">'lib.json'</span><span>)
</span>
<span></span><span style="color: rgb(245, 171, 53);">print</span><span>(g.num_nodes(), </span><span style="color: rgb(171, 227, 56);">"nodes"</span><span>)
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(g.num_edges(</span><span style="color: rgb(171, 227, 56);">'net_in'</span><span>), </span><span style="color: rgb(171, 227, 56);">"net_in edges"</span><span>)
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(g.ndata.keys())  </span><span style="color: rgb(212, 208, 171);"># ['pos', 'size', 'vt', 'leakage', 'cell_id']</span><span>
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(g.ndata[</span><span style="color: rgb(171, 227, 56);">'pos'</span><span>][:</span><span style="color: rgb(245, 171, 53);">5</span><span>])
</span><span></span><span style="color: rgb(245, 171, 53);">print</span><span>(g.ndata[</span><span style="color: rgb(171, 227, 56);">'leakage'</span><span>][:</span><span style="color: rgb(245, 171, 53);">5</span><span>])
</span></code></pre></div></div></div>
<hr>
<p>需要的话，我可以进一步帮你在这段代码中加上：</p>
<ul>
<li><strong>边特征（距离 / 电线长度）</strong></li>
<li><strong>节点分组（cell-wise 聚合索引）</strong></li>
<li><strong>One-hot cell_type 编码</strong> 作为 <code>node_type_feat</code></li>
</ul>
<p>是否要我在这个版本上继续加上 <strong>边长度特征 (<code>|pos_src - pos_dst|</code>)</strong> 自动计算绑定到 <code>g.edata['dist']</code>？</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:52 PM</span></div></div></div></div></div></div></div></div></div><div class="ChatMessagesView_messageTuple__Jh5lQ ChatMessagesView_largerGap__hMKSc" data-animate-jump="true"><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443076881635"><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6 ChatMessage_rightSideMessageWrapper__r0roB"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU Message_rightSideMessageRow__23wdY"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_rightSideMessageBubble__ioa_i Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_accentContainer__kl4s4"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc" style=""><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-on-accent__rESxX"><p>因为我最后数据是要用图和初始feature对应去预测tns和power，然后回传梯度到x y vt和size上的 leakge只是辅助计算的参数，所以有什么要帮忙的吗</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:55 PM</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="Message_messageSeenStateIcon__Cl_ov"><path d="m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"></path><path d="M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"></path></svg></div></div></div></div></div></div></div></div><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443076882659"><div class="LeftSideMessageHeader_leftSideMessageHeader__5CfdD"><div class="LeftSideMessageHeader_headerWrapper__EpVkV"><div class="BotMessageHeader_wrapper__gvvdw"><a class="BotHeader_title__cURS_" target="_blank" href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div><div class="BotHeader_textContainer__kVf_I"><p>GPT-5-Chat</p></div></a></div></div></div><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_leftSideMessageBubble__VPdk6 Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_neutralContainer__RAZX6"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-hi-contrast__LQyM9"><p>非常好的问题 🎯<br>
你已经把最终目标讲清楚了：</p>
<blockquote node="[object Object]">
<p><strong>输入：</strong> 图结构 + 初始 feature（x, y, vt, size）<br>
<strong>输出：</strong> 模型预测 TNS、Power<br>
<strong>反向目标：</strong> 能对 x, y, vt, size 反传梯度<br>
<strong>leakage：</strong> 辅助计算参数（不反传、可用于功耗加权）</p>
</blockquote>
<hr>
<h2>✅ 当前图结构是可以支持反传的</h2>
<h3>💡 你目前的 <code>build_dreamplace_hetero_graph</code> 已经满足训练要求：</h3>
<ul>
<li>每个 graph 的 <code>g.ndata["pos"]</code>、<code>g.ndata["vt"]</code>、<code>g.ndata["size"]</code><br>
→ 都是 <code>torch.Tensor</code>，可以传入模型并反向求梯度；</li>
<li>DGL + PyTorch 计算图本身是可微的；</li>
<li>只需在模型前向中，让这些 Tensor 参与运算（不要 <code>.detach()</code>），就能反传。</li>
</ul>
<hr>
<h2>⚙️ 需要稍微调整的地方</h2>
<h3>1️⃣ 让节点特征可训练（enable grad）</h3>
<p>你最后那一步回传梯度给 x/y/vt/size，<br>
说明这些起点要 <code>requires_grad=True</code>：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"pos"</span><span>] = torch.stack([node_x, node_y], dim=</span><span style="color: rgb(245, 171, 53);">1</span><span>).to(device).requires_grad_()
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"size"</span><span>] = node_size.to(device).requires_grad_()
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"vt"</span><span>] = node_vt.to(device).requires_grad_()
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>] = node_leakage.to(device)  </span><span style="color: rgb(212, 208, 171);"># 不反传，无需 requires_grad</span><span>
</span></code></pre></div></div></div>
<blockquote node="[object Object]">
<p>⚠️ 注意：如果这些 feature 是在 forward 里动态更新（比如通过优化器），<br>
就不能 <code>.detach()</code> / <code>.clone().detach()</code>，否则梯度会断。</p>
</blockquote>
<hr>
<h3>2️⃣ 如果模型中需要整体特征矩阵</h3>
<p>通常我们会把可回传字段打包到同一个 <code>feat</code> 张量中，<br>
这样便于送进 GNN：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>feat = torch.cat([
</span><span>    g.ndata[</span><span style="color: rgb(171, 227, 56);">"pos"</span><span>],                     </span><span style="color: rgb(212, 208, 171);"># (N, 2)</span><span>
</span><span>    g.ndata[</span><span style="color: rgb(171, 227, 56);">"vt"</span><span>].unsqueeze(</span><span style="color: rgb(245, 171, 53);">1</span><span>),        </span><span style="color: rgb(212, 208, 171);"># (N, 1)</span><span>
</span><span>    g.ndata[</span><span style="color: rgb(171, 227, 56);">"size"</span><span>].unsqueeze(</span><span style="color: rgb(245, 171, 53);">1</span><span>)       </span><span style="color: rgb(212, 208, 171);"># (N, 1)</span><span>
</span><span>], dim=</span><span style="color: rgb(245, 171, 53);">1</span><span>).requires_grad_()
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"feat"</span><span>] = feat
</span></code></pre></div></div></div>
<p>现在：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"feat"</span><span>].shape = (N, </span><span style="color: rgb(245, 171, 53);">4</span><span>)
</span></code></pre></div></div></div>
<hr>
<h3>3️⃣ Power / TNS 的目标结构建议</h3>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>目标</th><th>输入依赖</th><th>输出</th><th>是否需要梯度到</th><th>特征字段</th></tr></thead><tbody><tr><td><strong>Power</strong></td><td>size, vt, x, y, leakage</td><td><code>scalar</code> 或 <code>pin-wise map</code></td><td>✅ x, y, size, vt</td><td><code>feat[:, [2,3]]</code> + <code>leakage</code></td></tr><tr><td><strong>TNS</strong></td><td>时延/路径拓扑</td><td>标量/路径级 loss</td><td>✅ x, y (影响 wire delay)</td><td><code>feat[:, :2]</code></td></tr></tbody></table></div>
<hr>
<h2>✅ 推荐的建图小优化 (直接在构图函数结尾加上)</h2>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span style="color: rgb(212, 208, 171);"># === 特征打包 &amp; 启用梯度 ===</span><span>
</span><span>pos = torch.stack([node_x, node_y], dim=</span><span style="color: rgb(245, 171, 53);">1</span><span>).to(device).requires_grad_()
</span><span>size = node_size.to(device).unsqueeze(</span><span style="color: rgb(245, 171, 53);">1</span><span>).requires_grad_()
</span><span>vt = node_vt.to(device).unsqueeze(</span><span style="color: rgb(245, 171, 53);">1</span><span>).requires_grad_()
</span><span>leakage = node_leakage.to(device).unsqueeze(</span><span style="color: rgb(245, 171, 53);">1</span><span>).to(device)  </span><span style="color: rgb(212, 208, 171);"># 仅辅助</span><span>
</span>
<span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"pos"</span><span>] = pos
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"size"</span><span>] = size
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"vt"</span><span>] = vt
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>] = leakage
</span><span>g.ndata[</span><span style="color: rgb(171, 227, 56);">"feat"</span><span>] = torch.cat([pos, vt, size], dim=</span><span style="color: rgb(245, 171, 53);">1</span><span>)  </span><span style="color: rgb(212, 208, 171);"># shape = (N, 4)</span><span>
</span></code></pre></div></div></div>
<hr>
<h2>4️⃣ 如果你打算做物理可微优化（e.g. gradient-based placement）</h2>
<p>建议在反向传播（例如优化 <code>x, y</code>）时：</p>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="unknown"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span>optimizer = torch.optim.Adam([g.ndata[</span><span style="color: rgb(171, 227, 56);">'pos'</span><span>], g.ndata[</span><span style="color: rgb(171, 227, 56);">'vt'</span><span>], g.ndata[</span><span style="color: rgb(171, 227, 56);">'size'</span><span>]], lr=</span><span style="color: rgb(245, 171, 53);">1e-3</span><span>)
</span></code></pre></div></div></div>
<blockquote node="[object Object]">
<p>注意这里直接把 graph 的 feature tensor 作为 parameter 管理。</p>
</blockquote>
<hr>
<h2>🚀 可选增强项（取决于你的建模需求）</h2>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>功能</th><th>建议</th></tr></thead><tbody><tr><td><strong>边特征</strong></td><td>可计算 `distance =</td></tr><tr><td><strong>node_type encoding</strong></td><td>把 <code>cell_id_to_type</code> 映射成一个可学习 embedding，拼进 <code>feat</code>。</td></tr><tr><td><strong>leakage normalization</strong></td><td>因为量级差异大，建议归一化（如 z-score）以免梯度爆炸。</td></tr><tr><td><strong>size/vt discrete bins</strong></td><td>若 vt 和 size 是离散设计点（e.g., “SVT/HVT/LVT”），可以添加 embedding lookup。</td></tr></tbody></table></div>
<hr>
<h2>✅ 总结</h2>
<p>你的当前图是一个很好的“<strong>物理可微图</strong>”，只需确保：</p>
<ol>
<li><code>pos / vt / size</code> 的 Tensor 打开梯度 (<code>requires_grad_()</code>)，</li>
<li>在模型中 <strong>不要 detach/deepcopy 它们</strong>，</li>
<li>优化器直接作用于这些节点特征。</li>
</ol>
<hr>
<p>我可以帮你在这套构图代码后面直接生成一个<strong>可直接用于训练的输入封装类</strong>（带梯度开关 + feature 管理），<br>
方便你做 end-to-end placement / power 优化。</p>
<p>是否希望我补上这个 <code>GraphFeatureManager</code> 类，让你直接做训练式迭代（forward→loss→backward→update）？</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:55 PM</span></div></div></div></div></div></div></div></div></div><div class="ChatMessagesView_messageTuple__Jh5lQ ChatMessagesView_largerGap__hMKSc" data-animate-jump="true"><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443077095651"><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6 ChatMessage_rightSideMessageWrapper__r0roB"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU Message_rightSideMessageRow__23wdY"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_rightSideMessageBubble__ioa_i Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_accentContainer__kl4s4"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc" style=""><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-on-accent__rESxX"><p>我没太看懂，现在这个图只是训练集，暂时不需要传梯度，但是我训练好的模型</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:55 PM</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="Message_messageSeenStateIcon__Cl_ov"><path d="m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"></path><path d="M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"></path></svg></div></div></div></div></div></div></div></div><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443077097699"><div class="LeftSideMessageHeader_leftSideMessageHeader__5CfdD"><div class="LeftSideMessageHeader_headerWrapper__EpVkV"><div class="BotMessageHeader_wrapper__gvvdw"><a class="BotHeader_title__cURS_" target="_blank" href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div><div class="BotHeader_textContainer__kVf_I"><p>GPT-5-Chat</p></div></a></div></div></div><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_leftSideMessageBubble__VPdk6 Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_neutralContainer__RAZX6"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ notranslate" translate="no"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-hi-contrast__LQyM9"><p>非常好，这个澄清很关键</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:55 PM</span></div></div></div></div></div></div></div></div></div><div class="ChatMessagesView_messageTuple__Jh5lQ ChatMessagesView_largerGap__hMKSc" data-full-height="true" data-animate-jump="true"><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443077184739"><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6 ChatMessage_rightSideMessageWrapper__r0roB"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU Message_rightSideMessageRow__23wdY"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_rightSideMessageBubble__ioa_i Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_hidden__8x_8Y MessageOverflowActions_accentContainer__kl4s4"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc" style=""><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-on-accent__rESxX"><p>我没太看懂，现在这个图只是训练集，暂时不需要传梯度，但是我训练好的模型x y size和vt就要有梯度了，请帮我先完整的把这个训练集的图建好</p></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:56 PM</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="Message_messageSeenStateIcon__Cl_ov"><path d="m11.945 12.928 5.362-7.338a1 1 0 1 0-1.615-1.179l-5.002 6.844 1.255 1.673ZM6.204 18.605a.987.987 0 1 0 1.578-1.185l-4.506-6.027a.987.987 0 1 0-1.578 1.185l4.506 6.027Z"></path><path d="M12 19a1 1 0 0 1-.8-.4l-4.5-6a.998.998 0 1 1 1.599-1.199l3.689 4.919 8.704-11.91a1 1 0 0 1 1.615 1.179l-9.5 13a1.001 1.001 0 0 1-.802.41L12 19Z"></path></svg></div></div></div></div></div></div></div></div><div class="ChatMessage_chatMessage__xkgHx" data-complete="true" id="message-443077185763"><div class="LeftSideMessageHeader_leftSideMessageHeader__5CfdD"><div class="LeftSideMessageHeader_headerWrapper__EpVkV"><div class="BotMessageHeader_wrapper__gvvdw"><a class="BotHeader_title__cURS_" target="_blank" href="https://poe.com/GPT-5-Chat"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_" data-pdl-avatar=""><img alt="Bot image for GPT-5-Chat" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg" style="color: transparent;"></div><div class="BotHeader_textContainer__kVf_I"><p>GPT-5-Chat</p></div></a></div></div></div><div class="ChatMessage_messageRow__DHlnq"><div></div><div class="ChatMessage_messageWrapper__4Ugd6"><div class="Message_rowWithFooter__FShU6"><div class="Message_row__ug_UU"><div class="Message_messageBubbleWrapper__sEq8z"><div class="Message_leftSideMessageBubble__VPdk6 Message_positionRelative__rhTwC"><div class="MessageOverflowActions_overflowActionsWrapper__uC5oj MessageOverflowActions_visible__eGaI4 MessageOverflowActions_neutralContainer__RAZX6"><div class="DropdownMenuButton_wrapper__uc04T ChatMessageOverflowButton_overflowButtonWrapper__gzb2s"><button class="button_root__TL8nv button_transparent__SWPSr button_x-sm__3wseJ button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessage_messageOverflowButton__8PaKN ChatMessage_inBubbleButton__lvXY_" type="button" aria-label="More actions" aria-expanded="false" data-theme="transparent"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M5 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4m7 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="Message_messageTextContainer__w64Sc"><div class="Message_selectableText__SQ8WH"><div class="Markdown_markdownContainer__Tz3HQ notranslate" translate="no"><div class="Prose_prose__7AjXb Prose_presets_prose__H9VRM Prose_presets_theme-hi-contrast__LQyM9"><p>完全明白 ✅</p>
<p>你现在只想：<br>
👉 <strong>构建训练集图（静态特征，不需要 <code>requires_grad</code>）</strong><br>
用于模型训练输入（不更新 x、y、size、vt）。<br>
后续预测阶段再把这些设置成可导的。</p>
<p>下面是你要的最终、干净、完整的 <code>build_dreamplace_hetero_graph()</code>，<br>
专注于：</p>
<ul>
<li>正确的图结构；</li>
<li>节点特征（x, y, size, vt, leakage, cell_id）；</li>
<li>可作为训练样本直接用（不传梯度）。</li>
</ul>
<hr>
<div class="MarkdownCodeBlock_container__nRn2j"><div class="MarkdownCodeBlock_codeBlock__rvLec force-dark"><div class="MarkdownCodeBlock_codeHeader__zWt_V"><div class="MarkdownCodeBlock_languageName__4_BF8">python</div><div class="MarkdownCodeBlock_codeActions__wvgwQ"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_isDisabled__pJu5B button_showIconOnly-compact-below___fiXt MarkdownCodeBlock_codeActionButton__xJBAg" type="button" disabled="" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.537 11.156a1 1 0 0 1 0 1.688l-11 7A1 1 0 0 1 7 19V5a1 1 0 0 1 1.537-.844l11 7Z"></path></svg><span class="button_label__mCaDf">Run</span></button><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 MarkdownCodeBlock_codeActionButton__xJBAg" type="button" data-theme="ghost"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m21.205 7.556-5.291-5.265A.995.995 0 0 0 15.209 2h-6.5a1 1 0 0 0-1 1v2.235h2V4h4.503v4.265a1 1 0 0 0 1 1H19.5v5.5h-1.209v2H20.5a1 1 0 0 0 1-1v-7.5a.998.998 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865V5.409Z"></path><path d="m15.996 12.791-5.291-5.265a1 1 0 0 0-.705-.29H3.5a1 1 0 0 0-1 1V21a1 1 0 0 0 1 1h11.791a1 1 0 0 0 1-1v-7.5a1 1 0 0 0-.295-.709Zm-4.993-2.147 1.865 1.856h-1.865v-1.856ZM4.5 20V9.235h4.503V13.5a1 1 0 0 0 1 1h4.288V20H4.5Z"></path></svg><span class="button_label__mCaDf"></span></button></div></div><div class="MarkdownCodeBlock_collapsible__n09uc" data-collapsed="false"><pre class="MarkdownCodeBlock_preTag__QMZEO MarkdownCodeBlock_horizontalScrollable__aGZiW" style="display: block; overflow-x: auto; background: rgb(43, 43, 43); color: rgb(248, 248, 242); padding: 0.5em;"><code class="language-python" style="white-space: pre;"><span style="color: rgb(220, 198, 224);">import</span><span> torch
</span><span></span><span style="color: rgb(220, 198, 224);">import</span><span> dgl
</span><span></span><span style="color: rgb(220, 198, 224);">from</span><span> dreamplace </span><span style="color: rgb(220, 198, 224);">import</span><span> PlaceDB, Params
</span><span></span><span style="color: rgb(220, 198, 224);">from</span><span> dreamplace.ops.place_io </span><span style="color: rgb(220, 198, 224);">import</span><span> suppress_output
</span><span></span><span style="color: rgb(220, 198, 224);">from</span><span> your_library.cell_reader </span><span style="color: rgb(220, 198, 224);">import</span><span> CellLibraryReader  </span><span style="color: rgb(212, 208, 171);"># 修改为你的路径</span><span>
</span>

<span></span><span class="hljs-function" style="color: rgb(220, 198, 224);">def</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(0, 224, 224);">build_dreamplace_hetero_graph</span><span class="hljs-function">(</span><span class="hljs-function" style="color: rgb(245, 171, 53);">params_json, device=</span><span class="hljs-function" style="color: rgb(171, 227, 56);">'cuda'</span><span class="hljs-function" style="color: rgb(245, 171, 53);">, lib_json_path=</span><span class="hljs-function" style="color: rgb(245, 171, 53);">None</span><span class="hljs-function">):</span><span>
</span><span>    </span><span style="color: rgb(171, 227, 56);">"""
</span><span style="color: rgb(171, 227, 56);">    Build a DGL heterograph from DREAMPlace PlaceDB.
</span><span style="color: rgb(171, 227, 56);">
</span><span style="color: rgb(171, 227, 56);">    - 全部数值型 node/edge 特征写入 ndata/edata 中。
</span><span style="color: rgb(171, 227, 56);">    - 非数值或复杂属性保存到 g.graph_aux。
</span><span style="color: rgb(171, 227, 56);">    - 本函数仅构建训练集图，不创建梯度。
</span><span style="color: rgb(171, 227, 56);">    """</span><span>
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 1. 初始化 DREAMPlace =========</span><span>
</span>    params = Params.Params()
<span>    </span><span style="color: rgb(220, 198, 224);">with</span><span> suppress_output():
</span>        params.load(params_json)
        placedb = PlaceDB()
        placedb(params)

    num_nodes = placedb.num_physical_nodes
    reader = CellLibraryReader(lib_json_path)

<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 2. 收集 Cell 信息 =========</span><span>
</span>    cell_id_to_type = {}
    cell_id_to_info = {}
    cell_internal_connect_map = {}

<span>    </span><span style="color: rgb(220, 198, 224);">for</span><span> node_id </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">range</span><span>(num_nodes):
</span>        node_name = placedb.node_names[node_id]
        macro_name = placedb.rawdb.macroName(node_id)
        cell_info = reader.get_cell_info(macro_name)
        cell_internal_connect_map[node_id] = {}

        info = {
<span>            </span><span style="color: rgb(171, 227, 56);">"cell_name"</span><span>: </span><span style="color: rgb(171, 227, 56);">"TERMINAL"</span><span>,
</span><span>            </span><span style="color: rgb(171, 227, 56);">"x"</span><span>: </span><span style="color: rgb(245, 171, 53);">float</span><span>(placedb.node_x[node_id]),
</span><span>            </span><span style="color: rgb(171, 227, 56);">"y"</span><span>: </span><span style="color: rgb(245, 171, 53);">float</span><span>(placedb.node_y[node_id]),
</span><span>            </span><span style="color: rgb(171, 227, 56);">"size"</span><span>: </span><span style="color: rgb(245, 171, 53);">0.0</span><span>,
</span><span>            </span><span style="color: rgb(171, 227, 56);">"vt"</span><span>: </span><span style="color: rgb(245, 171, 53);">0.0</span><span>,
</span><span>            </span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>: </span><span style="color: rgb(245, 171, 53);">0.0</span><span>
</span>        }

<span>        </span><span style="color: rgb(220, 198, 224);">if</span><span> cell_info:
</span><span>            info[</span><span style="color: rgb(171, 227, 56);">"cell_name"</span><span>] = cell_info[</span><span style="color: rgb(171, 227, 56);">"cell_name"</span><span>]
</span><span>            info[</span><span style="color: rgb(171, 227, 56);">"size"</span><span>] = </span><span style="color: rgb(245, 171, 53);">float</span><span>(cell_info[</span><span style="color: rgb(171, 227, 56);">"size_value"</span><span>])
</span><span>            info[</span><span style="color: rgb(171, 227, 56);">"vt"</span><span>] = </span><span style="color: rgb(245, 171, 53);">float</span><span>(cell_info[</span><span style="color: rgb(171, 227, 56);">"vt_id"</span><span>])
</span><span>            info[</span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>] = </span><span style="color: rgb(245, 171, 53);">float</span><span>(cell_info.get(</span><span style="color: rgb(171, 227, 56);">"leakage_power"</span><span>, </span><span style="color: rgb(245, 171, 53);">0.0</span><span>))
</span>
<span>        cell_id_to_type[node_id] = info[</span><span style="color: rgb(171, 227, 56);">"cell_name"</span><span>]
</span>        cell_id_to_info[node_id] = info

<span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">f"[INFO] Collected </span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{</span><span class="hljs-subst" style="color: rgb(245, 171, 53);">len</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">(cell_id_to_info)}</span><span style="color: rgb(171, 227, 56);"> cells from PlaceDB"</span><span>)
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 3. 建立网络连接（driver → sink） =========</span><span>
</span><span>    </span><span class="hljs-function" style="color: rgb(220, 198, 224);">def</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(0, 224, 224);">_b2s</span><span class="hljs-function">(</span><span class="hljs-function" style="color: rgb(245, 171, 53);">v</span><span class="hljs-function">):</span><span>
</span><span>        </span><span style="color: rgb(220, 198, 224);">return</span><span> v.decode(</span><span style="color: rgb(171, 227, 56);">'utf-8'</span><span>) </span><span style="color: rgb(220, 198, 224);">if</span><span> </span><span style="color: rgb(245, 171, 53);">isinstance</span><span>(v, </span><span style="color: rgb(245, 171, 53);">bytes</span><span>) </span><span style="color: rgb(220, 198, 224);">else</span><span> </span><span style="color: rgb(245, 171, 53);">str</span><span>(v)
</span>
    src_net_pin, dst_net_pin = [], []

<span>    </span><span style="color: rgb(220, 198, 224);">for</span><span> pins </span><span style="color: rgb(220, 198, 224);">in</span><span> placedb.net2pin_map:
</span>        drivers, sinks = [], []
<span>        dont_care_net_flag = </span><span style="color: rgb(245, 171, 53);">False</span><span>
</span>
<span>        </span><span style="color: rgb(220, 198, 224);">for</span><span> pin_id </span><span style="color: rgb(220, 198, 224);">in</span><span> pins:
</span>            dir_s = _b2s(placedb.pin_direct[pin_id]).strip().upper()
<span>            </span><span style="color: rgb(220, 198, 224);">if</span><span> dir_s.startswith(</span><span style="color: rgb(171, 227, 56);">'O'</span><span>) </span><span style="color: rgb(220, 198, 224);">or</span><span> </span><span style="color: rgb(171, 227, 56);">'OUT'</span><span> </span><span style="color: rgb(220, 198, 224);">in</span><span> dir_s:
</span>                drivers.append(pin_id)
<span>            </span><span style="color: rgb(220, 198, 224);">elif</span><span> dir_s.startswith(</span><span style="color: rgb(171, 227, 56);">'I'</span><span>) </span><span style="color: rgb(220, 198, 224);">or</span><span> </span><span style="color: rgb(171, 227, 56);">'IN'</span><span> </span><span style="color: rgb(220, 198, 224);">in</span><span> dir_s:
</span>                sinks.append(pin_id)
<span>            </span><span style="color: rgb(220, 198, 224);">elif</span><span> dir_s </span><span style="color: rgb(220, 198, 224);">in</span><span> (</span><span style="color: rgb(171, 227, 56);">'B'</span><span>, </span><span style="color: rgb(171, 227, 56);">'IO'</span><span>, </span><span style="color: rgb(171, 227, 56);">'INOUT'</span><span>):
</span>                drivers.append(pin_id)
                sinks.append(pin_id)

<span>        </span><span style="color: rgb(220, 198, 224);">if</span><span> </span><span style="color: rgb(220, 198, 224);">not</span><span> drivers:
</span><span>            </span><span style="color: rgb(220, 198, 224);">continue</span><span>
</span>
<span>        </span><span style="color: rgb(220, 198, 224);">for</span><span> dpid </span><span style="color: rgb(220, 198, 224);">in</span><span> drivers:
</span><span>            src_node = </span><span style="color: rgb(245, 171, 53);">int</span><span>(placedb.pin2node_map[dpid])
</span>            src_name = _b2s(placedb.node_names[src_node])
<span>            </span><span style="color: rgb(220, 198, 224);">if</span><span> src_name </span><span style="color: rgb(220, 198, 224);">in</span><span> (</span><span style="color: rgb(171, 227, 56);">'clk'</span><span>, </span><span style="color: rgb(171, 227, 56);">'reset'</span><span>):
</span><span>                dont_care_net_flag = </span><span style="color: rgb(245, 171, 53);">True</span><span>
</span><span>                </span><span style="color: rgb(220, 198, 224);">break</span><span>
</span>            src_pin_name = _b2s(placedb.rawdb.macroPin(dpid).name())
<span>            src_net_pin.append(</span><span style="color: rgb(171, 227, 56);">f"</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{src_node}</span><span style="color: rgb(171, 227, 56);">:</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{src_pin_name}</span><span style="color: rgb(171, 227, 56);">"</span><span>)
</span><span>            cell_internal_connect_map[src_node][src_pin_name] = </span><span style="color: rgb(171, 227, 56);">"output"</span><span>
</span>
<span>        </span><span style="color: rgb(220, 198, 224);">if</span><span> dont_care_net_flag:
</span><span>            </span><span style="color: rgb(220, 198, 224);">continue</span><span>
</span>
<span>        </span><span style="color: rgb(220, 198, 224);">for</span><span> spid </span><span style="color: rgb(220, 198, 224);">in</span><span> sinks:
</span><span>            dst_node = </span><span style="color: rgb(245, 171, 53);">int</span><span>(placedb.pin2node_map[spid])
</span>            dst_pin_name = _b2s(placedb.rawdb.macroPin(spid).name())
<span>            dst_net_pin.append(</span><span style="color: rgb(171, 227, 56);">f"</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{dst_node}</span><span style="color: rgb(171, 227, 56);">:</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{dst_pin_name}</span><span style="color: rgb(171, 227, 56);">"</span><span>)
</span><span>            cell_internal_connect_map[dst_node][dst_pin_name] = </span><span style="color: rgb(171, 227, 56);">"input"</span><span>
</span>
<span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">f"[INFO] Parsed nets: </span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{</span><span class="hljs-subst" style="color: rgb(245, 171, 53);">len</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">(src_net_pin)}</span><span style="color: rgb(171, 227, 56);"> drivers, </span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{</span><span class="hljs-subst" style="color: rgb(245, 171, 53);">len</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">(dst_net_pin)}</span><span style="color: rgb(171, 227, 56);"> sinks"</span><span>)
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 4. 建立 pin 节点映射 =========</span><span>
</span><span>    pin_nodes = </span><span style="color: rgb(245, 171, 53);">sorted</span><span>(</span><span style="color: rgb(245, 171, 53);">set</span><span>(src_net_pin + dst_net_pin))
</span><span>    pin2id = {name: idx </span><span style="color: rgb(220, 198, 224);">for</span><span> idx, name </span><span style="color: rgb(220, 198, 224);">in</span><span> </span><span style="color: rgb(245, 171, 53);">enumerate</span><span>(pin_nodes)}
</span>
<span>    src_net_in = torch.tensor([pin2id[s] </span><span style="color: rgb(220, 198, 224);">for</span><span> s </span><span style="color: rgb(220, 198, 224);">in</span><span> src_net_pin], dtype=torch.long)
</span><span>    dst_net_in = torch.tensor([pin2id[d] </span><span style="color: rgb(220, 198, 224);">for</span><span> d </span><span style="color: rgb(220, 198, 224);">in</span><span> dst_net_pin], dtype=torch.long)
</span>
    src_net_out = dst_net_in
    dst_net_out = src_net_in

<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 5. 构建 Cell 内部连线 =========</span><span>
</span>    src_cell, dst_cell = [], []

<span>    </span><span style="color: rgb(220, 198, 224);">for</span><span> node_id, pin_dir_map </span><span style="color: rgb(220, 198, 224);">in</span><span> cell_internal_connect_map.items():
</span><span>        out_pins = [p </span><span style="color: rgb(220, 198, 224);">for</span><span> p, d </span><span style="color: rgb(220, 198, 224);">in</span><span> pin_dir_map.items() </span><span style="color: rgb(220, 198, 224);">if</span><span> d == </span><span style="color: rgb(171, 227, 56);">"output"</span><span>]
</span><span>        in_pins = [p </span><span style="color: rgb(220, 198, 224);">for</span><span> p, d </span><span style="color: rgb(220, 198, 224);">in</span><span> pin_dir_map.items() </span><span style="color: rgb(220, 198, 224);">if</span><span> d == </span><span style="color: rgb(171, 227, 56);">"input"</span><span>]
</span><span>        </span><span style="color: rgb(220, 198, 224);">for</span><span> op </span><span style="color: rgb(220, 198, 224);">in</span><span> out_pins:
</span><span>            </span><span style="color: rgb(220, 198, 224);">for</span><span> ip </span><span style="color: rgb(220, 198, 224);">in</span><span> in_pins:
</span><span>                src_name = </span><span style="color: rgb(171, 227, 56);">f"</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{node_id}</span><span style="color: rgb(171, 227, 56);">:</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{op}</span><span style="color: rgb(171, 227, 56);">"</span><span>
</span><span>                dst_name = </span><span style="color: rgb(171, 227, 56);">f"</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{node_id}</span><span style="color: rgb(171, 227, 56);">:</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{ip}</span><span style="color: rgb(171, 227, 56);">"</span><span>
</span><span>                </span><span style="color: rgb(220, 198, 224);">if</span><span> src_name </span><span style="color: rgb(220, 198, 224);">in</span><span> pin2id </span><span style="color: rgb(220, 198, 224);">and</span><span> dst_name </span><span style="color: rgb(220, 198, 224);">in</span><span> pin2id:
</span>                    src_cell.append(pin2id[src_name])
                    dst_cell.append(pin2id[dst_name])

    src_cell = torch.tensor(src_cell, dtype=torch.long)
    dst_cell = torch.tensor(dst_cell, dtype=torch.long)

<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 6. 构图 =========</span><span>
</span>    data_dict = {
<span>        (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'net_in'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>): (src_net_in, dst_net_in),
</span><span>        (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'net_out'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>): (src_net_out, dst_net_out),
</span><span>        (</span><span style="color: rgb(171, 227, 56);">'node'</span><span>, </span><span style="color: rgb(171, 227, 56);">'cell_out'</span><span>, </span><span style="color: rgb(171, 227, 56);">'node'</span><span>): (src_cell, dst_cell)
</span>    }

<span>    g = dgl.heterograph(data_dict, num_nodes_dict={</span><span style="color: rgb(171, 227, 56);">'node'</span><span>: </span><span style="color: rgb(245, 171, 53);">len</span><span>(pin_nodes)}, device=device)
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 7. 节点特征 =========</span><span>
</span><span>    n = </span><span style="color: rgb(245, 171, 53);">len</span><span>(pin_nodes)
</span>    node_x = torch.zeros(n, dtype=torch.float32)
    node_y = torch.zeros(n, dtype=torch.float32)
    node_size = torch.zeros(n, dtype=torch.float32)
    node_vt = torch.zeros(n, dtype=torch.float32)
    node_leakage = torch.zeros(n, dtype=torch.float32)
    node_cell_id = torch.zeros(n, dtype=torch.long)

<span>    </span><span style="color: rgb(220, 198, 224);">for</span><span> name, idx </span><span style="color: rgb(220, 198, 224);">in</span><span> pin2id.items():
</span><span>        node_id_str, _ = name.split(</span><span style="color: rgb(171, 227, 56);">":"</span><span>, </span><span style="color: rgb(245, 171, 53);">1</span><span>)
</span><span>        node_id = </span><span style="color: rgb(245, 171, 53);">int</span><span>(node_id_str)
</span>        info = cell_id_to_info[node_id]

<span>        node_x[idx] = info[</span><span style="color: rgb(171, 227, 56);">"x"</span><span>]
</span><span>        node_y[idx] = info[</span><span style="color: rgb(171, 227, 56);">"y"</span><span>]
</span><span>        node_size[idx] = info[</span><span style="color: rgb(171, 227, 56);">"size"</span><span>]
</span><span>        node_vt[idx] = info[</span><span style="color: rgb(171, 227, 56);">"vt"</span><span>]
</span><span>        node_leakage[idx] = info[</span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>]
</span>        node_cell_id[idx] = node_id

<span>    </span><span style="color: rgb(212, 208, 171);"># 格式统一</span><span>
</span><span>    g.ndata[</span><span style="color: rgb(171, 227, 56);">"pos"</span><span>] = torch.stack([node_x, node_y], dim=</span><span style="color: rgb(245, 171, 53);">1</span><span>).to(device)
</span><span>    g.ndata[</span><span style="color: rgb(171, 227, 56);">"size"</span><span>] = node_size.to(device)
</span><span>    g.ndata[</span><span style="color: rgb(171, 227, 56);">"vt"</span><span>] = node_vt.to(device)
</span><span>    g.ndata[</span><span style="color: rgb(171, 227, 56);">"leakage"</span><span>] = node_leakage.to(device)
</span><span>    g.ndata[</span><span style="color: rgb(171, 227, 56);">"cell_id"</span><span>] = node_cell_id.to(device)
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># 合并基本特征为 "feat"，用于模型输入</span><span>
</span><span>    g.ndata[</span><span style="color: rgb(171, 227, 56);">"feat"</span><span>] = torch.cat(
</span><span>        [g.ndata[</span><span style="color: rgb(171, 227, 56);">"pos"</span><span>], g.ndata[</span><span style="color: rgb(171, 227, 56);">"vt"</span><span>].unsqueeze(</span><span style="color: rgb(245, 171, 53);">1</span><span>), g.ndata[</span><span style="color: rgb(171, 227, 56);">"size"</span><span>].unsqueeze(</span><span style="color: rgb(245, 171, 53);">1</span><span>)], dim=</span><span style="color: rgb(245, 171, 53);">1</span><span>
</span>    )

<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 8. 空 edge features =========</span><span>
</span><span>    </span><span style="color: rgb(220, 198, 224);">for</span><span> etype </span><span style="color: rgb(220, 198, 224);">in</span><span> [</span><span style="color: rgb(171, 227, 56);">'net_in'</span><span>, </span><span style="color: rgb(171, 227, 56);">'net_out'</span><span>, </span><span style="color: rgb(171, 227, 56);">'cell_out'</span><span>]:
</span>        ecount = g.num_edges(etype)
<span>        g.edges[etype].data[</span><span style="color: rgb(171, 227, 56);">'ef'</span><span>] = torch.empty((ecount, </span><span style="color: rgb(245, 171, 53);">0</span><span>), dtype=torch.float32, device=device)
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 9. 附加图信息 =========</span><span>
</span>    g.graph_aux = {
<span>        </span><span style="color: rgb(171, 227, 56);">"pin_names"</span><span>: pin_nodes,
</span><span>        </span><span style="color: rgb(171, 227, 56);">"pin2id"</span><span>: pin2id,
</span><span>        </span><span style="color: rgb(171, 227, 56);">"cell_id_to_info"</span><span>: cell_id_to_info,
</span><span>        </span><span style="color: rgb(171, 227, 56);">"cell_internal_connect_map"</span><span>: cell_internal_connect_map,
</span><span>        </span><span style="color: rgb(171, 227, 56);">"cell_id_to_type"</span><span>: cell_id_to_type,
</span>    }

<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 10. 输出信息 =========</span><span>
</span><span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(g)
</span><span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">f"节点数量: </span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{g.num_nodes()}</span><span style="color: rgb(171, 227, 56);">"</span><span>)
</span><span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">f"net_in 边数量: </span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{g.num_edges(</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">'net_in'</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">)}</span><span style="color: rgb(171, 227, 56);">"</span><span>)
</span><span>    </span><span style="color: rgb(245, 171, 53);">print</span><span>(</span><span style="color: rgb(171, 227, 56);">f"cell_out 边数量: </span><span class="hljs-subst" style="color: rgb(171, 227, 56);">{g.num_edges(</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">'cell_out'</span><span class="hljs-subst" style="color: rgb(171, 227, 56);">)}</span><span style="color: rgb(171, 227, 56);">"</span><span>)
</span>
<span>    </span><span style="color: rgb(212, 208, 171);"># ========= 11. 清理 =========</span><span>
</span><span>    </span><span style="color: rgb(220, 198, 224);">with</span><span> suppress_output():
</span><span>        </span><span style="color: rgb(220, 198, 224);">del</span><span> placedb
</span><span>        </span><span style="color: rgb(220, 198, 224);">del</span><span> params
</span><span>        </span><span style="color: rgb(220, 198, 224);">del</span><span> reader
</span>
<span>    </span><span style="color: rgb(220, 198, 224);">return</span><span> g
</span></code></pre></div></div></div>
<hr>
<h2>✅ 生成完的图内容</h2>
<div role="region" tabindex="0" class="MarkdownTable_tableContainer__2k5Kh"><table node="[object Object]"><thead><tr><th>键</th><th>内容</th><th>说明</th></tr></thead><tbody><tr><td><code>g.ndata['feat']</code></td><td>(N, 4)，结构 <code>[x, y, vt, size]</code></td><td>模型输入</td></tr><tr><td><code>g.ndata['leakage']</code></td><td>(N,)</td><td>辅助功耗信息</td></tr><tr><td><code>g.ndata['cell_id']</code></td><td>(N,)</td><td>node_id 映射</td></tr><tr><td><code>g.graph_aux</code></td><td>各种原始信息字典</td><td>用于解释或导出</td></tr></tbody></table></div>
<hr>
<h2>🔍</h2></div></div></div></div><div class="Message_messageMetadataContainer__nBPq7"><span class="Message_messageMetadataText__FxY5_">12:56 PM</span></div></div></div></div></div></div></div></div><div><section class="ChatMessageActionBar_actionBar__gyeEs"><button class="Button_buttonBase__Bv9Vx Button_tertiary__KEQm1"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 8c.24 0 .47-.08.66-.25L11 5.23v9.52c0 .55.45 1 1 1s1-.45 1-1V5.23l2.84 2.52c.19.17.42.25.66.25.28 0 .55-.11.75-.34a.998.998 0 0 0-.08-1.41l-4.5-4c-.04-.03-.08-.04-.12-.07-.05-.03-.08-.07-.13-.09-.02-.01-.04-.01-.06-.02-.05-.02-.11-.03-.17-.04-.05-.01-.1-.03-.16-.03-.01.01-.02 0-.03 0-.01 0-.02.01-.03.01-.05 0-.1.02-.16.03-.06.01-.11.02-.17.04-.02.01-.04.01-.06.02-.05.02-.09.06-.13.09-.04.03-.09.04-.12.07l-4.5 4c-.41.37-.45 1-.08 1.41.2.22.47.33.75.33Z"></path><path d="M18.5 9H16c-.55 0-1 .45-1 1s.45 1 1 1h1.5v8h-11v-8H8c.55 0 1-.45 1-1s-.45-1-1-1H5.5c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h13c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1Z"></path></svg>Share</button><button aria-label="Retry" class="Button_buttonBase__Bv9Vx Button_tertiary__KEQm1 Button_iconOnly__poDNY"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.33 9.92a.973.973 0 0 0-.71-.29 1 1 0 0 0-.71.3l-.99 1.01a8.746 8.746 0 0 0-8.68-7.7C6.42 3.25 2.5 7.17 2.5 12s3.92 8.75 8.75 8.75c2.34 0 4.53-.91 6.19-2.56a.99.99 0 0 0 .29-.71.99.99 0 0 0-1-1c-.27 0-.52.1-.71.29a6.736 6.736 0 0 1-4.77 1.98c-3.72 0-6.75-3.03-6.75-6.75s3.03-6.75 6.75-6.75c3.35 0 6.15 2.46 6.66 5.7l-1.05-1.02c-.39-.38-1.03-.38-1.42.02-.38.39-.37 1.03.02 1.41l2.79 2.71c.38.37 1.04.36 1.41-.02l2.68-2.73a.99.99 0 0 0 .29-.71c0-.25-.1-.5-.3-.69Z"></path></svg></button></section><section class="ChatMessageFollowupActions_container__0Mrhg"><div class="ResendRemixFollowupButton_container__J48ou"><button class="Button_buttonBase__Bv9Vx Button_secondary__IuV5T ResendRemixFollowupButton_left__dS_FL ResendRemixFollowupButton_followupButton__FF081">Compare</button><button class="Button_buttonBase__Bv9Vx Button_tertiary__KEQm1 ResendRemixFollowupButton_right__du4Gd ResendRemixFollowupButton_followupButton__FF081 ResendRemixFollowupButton_followupButtonWithTitle__Ev__0"><div class="ResendRemixFollowupButton_promptContainer__8vM_4 ResendRemixFollowupButton_right__du4Gd"><div class="FollowupActionImageSources_imageAttachmentsContainer__oENKO"><div class="FollowupActionImageSources_botPreviewContainer__W0qs2"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_ Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for QwQ-32B-T" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-5817332-200-kbyuopojfidghadhnnifhoyyyztqgeno.jpeg" style="color: transparent;"></div></div></div><div class="ResendRemixFollowupButton_botAndPromptContainer__2Ywgf"><div class="ResendRemixFollowupButton_prompt__nje8B"><span class="ResendRemixFollowupButton_specialSyntaxSection__nX_nw">@QwQ-32B-T </span></div></div></div><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="ResendRemixFollowupButton_followUpActionIcon__1tLQl"><path d="M4 13h14.09l-6.79 6.79a.996.996 0 1 0 1.41 1.41l8.5-8.5c.06-.06.09-.13.13-.2.03-.04.06-.08.08-.13a.91.91 0 0 0 .08-.37c0-.03-.01-.05-.01-.07-.01-.1-.02-.21-.06-.31a.955.955 0 0 0-.22-.33L12.72 2.8c-.2-.2-.45-.29-.71-.29-.26 0-.51.1-.71.29a.996.996 0 0 0 0 1.41L18.08 11H4c-.55 0-1 .45-1 1s.45 1 1 1Z"></path></svg></button></div><div class="ResendRemixFollowupButton_container__J48ou"><button class="Button_buttonBase__Bv9Vx Button_secondary__IuV5T ResendRemixFollowupButton_left__dS_FL ResendRemixFollowupButton_followupButton__FF081">Compare</button><button class="Button_buttonBase__Bv9Vx Button_tertiary__KEQm1 ResendRemixFollowupButton_right__du4Gd ResendRemixFollowupButton_followupButton__FF081 ResendRemixFollowupButton_followupButtonWithTitle__Ev__0"><div class="ResendRemixFollowupButton_promptContainer__8vM_4 ResendRemixFollowupButton_right__du4Gd"><div class="FollowupActionImageSources_imageAttachmentsContainer__oENKO"><div class="FollowupActionImageSources_botPreviewContainer__W0qs2"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_ Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for o3-mini" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3029-200-nuviihlnpoospinftbtoydhhwqdbneoi.jpeg" style="color: transparent;"></div></div></div><div class="ResendRemixFollowupButton_botAndPromptContainer__2Ywgf"><div class="ResendRemixFollowupButton_prompt__nje8B"><span class="ResendRemixFollowupButton_specialSyntaxSection__nX_nw">@o3-mini </span></div></div></div><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="ResendRemixFollowupButton_followUpActionIcon__1tLQl"><path d="M4 13h14.09l-6.79 6.79a.996.996 0 1 0 1.41 1.41l8.5-8.5c.06-.06.09-.13.13-.2.03-.04.06-.08.08-.13a.91.91 0 0 0 .08-.37c0-.03-.01-.05-.01-.07-.01-.1-.02-.21-.06-.31a.955.955 0 0 0-.22-.33L12.72 2.8c-.2-.2-.45-.29-.71-.29-.26 0-.51.1-.71.29a.996.996 0 0 0 0 1.41L18.08 11H4c-.55 0-1 .45-1 1s.45 1 1 1Z"></path></svg></button></div><div class="ResendRemixFollowupButton_container__J48ou"><button class="Button_buttonBase__Bv9Vx Button_secondary__IuV5T ResendRemixFollowupButton_left__dS_FL ResendRemixFollowupButton_followupButton__FF081">Compare</button><button class="Button_buttonBase__Bv9Vx Button_tertiary__KEQm1 ResendRemixFollowupButton_right__du4Gd ResendRemixFollowupButton_followupButton__FF081 ResendRemixFollowupButton_followupButtonWithTitle__Ev__0"><div class="ResendRemixFollowupButton_promptContainer__8vM_4 ResendRemixFollowupButton_right__du4Gd"><div class="FollowupActionImageSources_imageAttachmentsContainer__oENKO"><div class="FollowupActionImageSources_botPreviewContainer__W0qs2"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_ Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for GPT-5" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-3045-200-wkomexlqbcxpravoniszumuijaodcygr.jpeg" style="color: transparent;"></div></div></div><div class="ResendRemixFollowupButton_botAndPromptContainer__2Ywgf"><div class="ResendRemixFollowupButton_prompt__nje8B"><span class="ResendRemixFollowupButton_specialSyntaxSection__nX_nw">@GPT-5 </span></div></div></div><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="ResendRemixFollowupButton_followUpActionIcon__1tLQl"><path d="M4 13h14.09l-6.79 6.79a.996.996 0 1 0 1.41 1.41l8.5-8.5c.06-.06.09-.13.13-.2.03-.04.06-.08.08-.13a.91.91 0 0 0 .08-.37c0-.03-.01-.05-.01-.07-.01-.1-.02-.21-.06-.31a.955.955 0 0 0-.22-.33L12.72 2.8c-.2-.2-.45-.29-.71-.29-.26 0-.51.1-.71.29a.996.996 0 0 0 0 1.41L18.08 11H4c-.55 0-1 .45-1 1s.45 1 1 1Z"></path></svg></button></div><div class="ResendRemixFollowupButton_container__J48ou"><button class="Button_buttonBase__Bv9Vx Button_secondary__IuV5T ResendRemixFollowupButton_left__dS_FL ResendRemixFollowupButton_followupButton__FF081">Speak</button><button class="Button_buttonBase__Bv9Vx Button_tertiary__KEQm1 ResendRemixFollowupButton_right__du4Gd ResendRemixFollowupButton_followupButton__FF081 ResendRemixFollowupButton_followupButtonWithTitle__Ev__0"><div class="ResendRemixFollowupButton_promptContainer__8vM_4 ResendRemixFollowupButton_right__du4Gd"><div class="FollowupActionImageSources_imageAttachmentsContainer__oENKO"><div class="FollowupActionImageSources_botPreviewContainer__W0qs2"><div class="Avatar_root__rwLF0 Avatar_rounded__qlug0 Avatar_xx-sm__hwmu_ Avatar_hasBorder__BIKm9" data-pdl-avatar=""><img alt="Bot image for ElevenLabs-v2.5-Turbo" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" src="./代码解析 - Poe_files/main-thumb-pb-5176044-200-ixsrhozcvbrhrvwgdxghshtrqpjjashv.jpeg" style="color: transparent;"></div></div></div><div class="ResendRemixFollowupButton_botAndPromptContainer__2Ywgf"><div class="ResendRemixFollowupButton_prompt__nje8B"><span class="ResendRemixFollowupButton_specialSyntaxSection__nX_nw">@ElevenLabs-v2.5-Turbo </span></div></div></div><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="ResendRemixFollowupButton_followUpActionIcon__1tLQl"><path d="M4 13h14.09l-6.79 6.79a.996.996 0 1 0 1.41 1.41l8.5-8.5c.06-.06.09-.13.13-.2.03-.04.06-.08.08-.13a.91.91 0 0 0 .08-.37c0-.03-.01-.05-.01-.07-.01-.1-.02-.21-.06-.31a.955.955 0 0 0-.22-.33L12.72 2.8c-.2-.2-.45-.29-.71-.29-.26 0-.51.1-.71.29a.996.996 0 0 0 0 1.41L18.08 11H4c-.55 0-1 .45-1 1s.45 1 1 1Z"></path></svg></button></div><div class="ResendRemixFollowupButton_container__J48ou"><button class="Button_buttonBase__Bv9Vx Button_tertiary__KEQm1 ResendRemixFollowupButton_rightRounded__W3o65 ResendRemixFollowupButton_followupButton__FF081"><div class="ResendRemixFollowupButton_promptContainer__8vM_4 ResendRemixFollowupButton_right__du4Gd"><div class="ResendRemixFollowupButton_botAndPromptContainer__2Ywgf"><div class="ResendRemixFollowupButton_truncatedPrompt__Pr6qw">如何确认构建的图结构是正确的？</div></div></div><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="ResendRemixFollowupButton_followUpActionIcon__1tLQl"><path d="M4 13h14.09l-6.79 6.79a.996.996 0 1 0 1.41 1.41l8.5-8.5c.06-.06.09-.13.13-.2.03-.04.06-.08.08-.13a.91.91 0 0 0 .08-.37c0-.03-.01-.05-.01-.07-.01-.1-.02-.21-.06-.31a.955.955 0 0 0-.22-.33L12.72 2.8c-.2-.2-.45-.29-.71-.29-.26 0-.51.1-.71.29a.996.996 0 0 0 0 1.41L18.08 11H4c-.55 0-1 .45-1 1s.45 1 1 1Z"></path></svg></button></div><div class="ResendRemixFollowupButton_container__J48ou"><button class="Button_buttonBase__Bv9Vx Button_tertiary__KEQm1 ResendRemixFollowupButton_rightRounded__W3o65 ResendRemixFollowupButton_followupButton__FF081"><div class="ResendRemixFollowupButton_promptContainer__8vM_4 ResendRemixFollowupButton_right__du4Gd"><div class="ResendRemixFollowupButton_botAndPromptContainer__2Ywgf"><div class="ResendRemixFollowupButton_truncatedPrompt__Pr6qw">如何将这个图用于模型训练？</div></div></div><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="ResendRemixFollowupButton_followUpActionIcon__1tLQl"><path d="M4 13h14.09l-6.79 6.79a.996.996 0 1 0 1.41 1.41l8.5-8.5c.06-.06.09-.13.13-.2.03-.04.06-.08.08-.13a.91.91 0 0 0 .08-.37c0-.03-.01-.05-.01-.07-.01-.1-.02-.21-.06-.31a.955.955 0 0 0-.22-.33L12.72 2.8c-.2-.2-.45-.29-.71-.29-.26 0-.51.1-.71.29a.996.996 0 0 0 0 1.41L18.08 11H4c-.55 0-1 .45-1 1s.45 1 1 1Z"></path></svg></button></div><div class="ResendRemixFollowupButton_container__J48ou"><button class="Button_buttonBase__Bv9Vx Button_tertiary__KEQm1 ResendRemixFollowupButton_rightRounded__W3o65 ResendRemixFollowupButton_followupButton__FF081"><div class="ResendRemixFollowupButton_promptContainer__8vM_4 ResendRemixFollowupButton_right__du4Gd"><div class="ResendRemixFollowupButton_botAndPromptContainer__2Ywgf"><div class="ResendRemixFollowupButton_truncatedPrompt__Pr6qw">能否提供一个使用该图的简单示例？</div></div></div><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="ResendRemixFollowupButton_followUpActionIcon__1tLQl"><path d="M4 13h14.09l-6.79 6.79a.996.996 0 1 0 1.41 1.41l8.5-8.5c.06-.06.09-.13.13-.2.03-.04.06-.08.08-.13a.91.91 0 0 0 .08-.37c0-.03-.01-.05-.01-.07-.01-.1-.02-.21-.06-.31a.955.955 0 0 0-.22-.33L12.72 2.8c-.2-.2-.45-.29-.71-.29-.26 0-.51.1-.71.29a.996.996 0 0 0 0 1.41L18.08 11H4c-.55 0-1 .45-1 1s.45 1 1 1Z"></path></svg></button></div></section></div></div></div></div></div></div><div class="ChatPageMain_flexGrow__UnM8q"></div><footer class="ChatPageMainFooter_footer__HBGcX"><div class="ChatPageMainFooter_footerWrapper__RH5Dq"><div class="ChatFooterHoveringButtonSection_section__6i4Bc" style="bottom: 112px;"><span class="ChatFooterHoveringButtonSection_left__Lt5yM"></span><span class="ChatFooterHoveringButtonSection_center__KuhMd"></span><span class="ChatFooterHoveringButtonSection_right__Qbc1p"></span></div><div class="ChatPageMainFooter_footerInner__BEj26"><div><div class="ChatMessageInputFooter_footer__v4dFF"><div class="ChatMessageInputContainer_inputContainer__s2AGa" data-input-is-empty="true" tabindex="-1"><div class="GrowingTextArea_growWrap__im5W3 ChatMessageInputContainer_textArea__fNi6E" data-replicated-value=""><template shadowrootmode="closed"><lt-mirror contenteditable="false" class="qb--mac-os lt-mirror--grid-item" style="display: none;"><template shadowrootmode="closed"><qb-highlighter contenteditable="false" class="qb--mac-os" style="display: none;"><qb-div spellcheck="false" class="qb-highlighter__wrapper" style="width: 726px !important; height: 24px !important; transform: none !important; transform-origin: 363px 12px !important; zoom: 1 !important; margin-top: 12px !important; margin-left: 16px !important;"><qb-div class="qb-highlighter__scroll-element" style="top: 0px !important; left: 0px !important; width: 726px !important; height: 24px !important;"></qb-div></qb-div></qb-highlighter><slot style="color-scheme: inherit; forced-color-adjust: inherit; mask: inherit; math-depth: inherit; position: inherit; position-anchor: inherit; text-size-adjust: inherit; appearance: inherit; color: inherit; font: inherit; font-palette: inherit; font-synthesis: inherit; position-area: inherit; text-orientation: inherit; text-rendering: inherit; text-spacing-trim: inherit; -webkit-font-smoothing: inherit; -webkit-locale: inherit; -webkit-text-orientation: inherit; -webkit-writing-mode: inherit; writing-mode: inherit; zoom: inherit; accent-color: inherit; place-content: inherit; place-items: inherit; place-self: inherit; alignment-baseline: inherit; anchor-name: inherit; anchor-scope: inherit; animation-composition: inherit; animation: inherit; app-region: inherit; aspect-ratio: inherit; backdrop-filter: inherit; backface-visibility: inherit; background: inherit; background-blend-mode: inherit; baseline-shift: inherit; baseline-source: inherit; block-size: inherit; border-block: inherit; border: inherit; border-radius: inherit; border-collapse: inherit; border-end-end-radius: inherit; border-end-start-radius: inherit; border-inline: inherit; border-start-end-radius: inherit; border-start-start-radius: inherit; inset: inherit; box-decoration-break: inherit; box-shadow: inherit; box-sizing: inherit; break-after: inherit; break-before: inherit; break-inside: inherit; buffered-rendering: inherit; caption-side: inherit; caret-animation: inherit; caret-color: inherit; clear: inherit; clip: inherit; clip-path: inherit; clip-rule: inherit; color-interpolation: inherit; color-interpolation-filters: inherit; color-rendering: inherit; columns: inherit; column-fill: inherit; gap: inherit; column-rule: inherit; column-span: inherit; contain: inherit; contain-intrinsic-block-size: inherit; contain-intrinsic-size: inherit; contain-intrinsic-inline-size: inherit; container: inherit; content: inherit; content-visibility: inherit; corner-shape: inherit; corner-block-end-shape: inherit; corner-block-start-shape: inherit; counter-increment: inherit; counter-reset: inherit; counter-set: inherit; cursor: inherit; cx: inherit; cy: inherit; d: inherit; display: contents; dominant-baseline: inherit; dynamic-range-limit: inherit; empty-cells: inherit; field-sizing: inherit; fill: inherit; fill-opacity: inherit; fill-rule: inherit; filter: inherit; flex: inherit; flex-flow: inherit; float: inherit; flood-color: inherit; flood-opacity: inherit; grid: inherit; grid-area: inherit; height: inherit; hyphenate-character: inherit; hyphenate-limit-chars: inherit; hyphens: inherit; image-orientation: inherit; image-rendering: inherit; initial-letter: inherit; inline-size: inherit; inset-block: inherit; inset-inline: inherit; interpolate-size: inherit; isolation: inherit; letter-spacing: inherit; lighting-color: inherit; line-break: inherit; list-style: inherit; margin-block: inherit; margin: inherit; margin-inline: inherit; marker: inherit; mask-type: inherit; math-shift: inherit; math-style: inherit; max-block-size: inherit; max-height: inherit; max-inline-size: inherit; max-width: inherit; min-block-size: inherit; min-height: inherit; min-inline-size: inherit; min-width: inherit; mix-blend-mode: inherit; object-fit: inherit; object-position: inherit; object-view-box: inherit; offset: inherit; opacity: inherit; order: inherit; orphans: inherit; outline: inherit; outline-offset: inherit; overflow-anchor: inherit; overflow-block: inherit; overflow-clip-margin: inherit; overflow-inline: inherit; overflow-wrap: inherit; overflow: inherit; overlay: inherit; overscroll-behavior-block: inherit; overscroll-behavior-inline: inherit; overscroll-behavior: inherit; padding-block: inherit; padding: inherit; padding-inline: inherit; page: inherit; page-orientation: inherit; paint-order: inherit; perspective: inherit; perspective-origin: inherit; pointer-events: inherit; position-try: inherit; position-visibility: inherit; print-color-adjust: inherit; quotes: inherit; r: inherit; reading-flow: inherit; reading-order: inherit; resize: inherit; rotate: inherit; ruby-align: inherit; ruby-position: inherit; rx: inherit; ry: inherit; scale: inherit; scroll-behavior: inherit; scroll-initial-target: inherit; scroll-margin-block: inherit; scroll-margin: inherit; scroll-margin-inline: inherit; scroll-marker-group: inherit; scroll-padding-block: inherit; scroll-padding: inherit; scroll-padding-inline: inherit; scroll-snap-align: inherit; scroll-snap-stop: inherit; scroll-snap-type: inherit; scroll-target-group: inherit; scroll-timeline: inherit; scrollbar-color: inherit; scrollbar-gutter: inherit; scrollbar-width: inherit; shape-image-threshold: inherit; shape-margin: inherit; shape-outside: inherit; shape-rendering: inherit; size: inherit; speak: inherit; stop-color: inherit; stop-opacity: inherit; stroke: inherit; stroke-dasharray: inherit; stroke-dashoffset: inherit; stroke-linecap: inherit; stroke-linejoin: inherit; stroke-miterlimit: inherit; stroke-opacity: inherit; stroke-width: inherit; tab-size: inherit; table-layout: inherit; text-align: inherit; text-align-last: inherit; text-anchor: inherit; text-autospace: inherit; text-box: inherit; text-combine-upright: inherit; text-decoration: inherit; text-decoration-skip-ink: inherit; text-emphasis: inherit; text-emphasis-position: inherit; text-indent: inherit; text-overflow: inherit; text-shadow: inherit; text-transform: inherit; text-underline-offset: inherit; text-underline-position: inherit; text-wrap: inherit; timeline-scope: inherit; touch-action: inherit; transform: inherit; transform-box: inherit; transform-origin: inherit; transform-style: inherit; transition: inherit; translate: inherit; user-select: inherit; vector-effect: inherit; vertical-align: inherit; view-timeline: inherit; view-transition-class: inherit; view-transition-group: inherit; view-transition-name: inherit; visibility: inherit; border-spacing: inherit; -webkit-box-align: inherit; -webkit-box-decoration-break: inherit; -webkit-box-direction: inherit; -webkit-box-flex: inherit; -webkit-box-ordinal-group: inherit; -webkit-box-orient: inherit; -webkit-box-pack: inherit; -webkit-box-reflect: inherit; -webkit-line-break: inherit; -webkit-line-clamp: inherit; -webkit-mask-box-image: inherit; -webkit-rtl-ordering: inherit; -webkit-ruby-position: inherit; -webkit-tap-highlight-color: inherit; -webkit-text-combine: inherit; -webkit-text-decorations-in-effect: inherit; -webkit-text-fill-color: inherit; -webkit-text-security: inherit; -webkit-text-stroke: inherit; -webkit-user-drag: inherit; white-space-collapse: inherit; widows: inherit; width: inherit; will-change: inherit; word-break: inherit; word-spacing: inherit; x: inherit; y: inherit; z-index: inherit;"></slot></template><lt-div spellcheck="false" class="lt-mirror__wrapper notranslate" data-lt-scroll-top="0" data-lt-scroll-left="0" data-lt-scroll-top-scaled="0" data-lt-scroll-left-scaled="0" data-lt-scroll-top-scaled-and-zoomed="0" data-lt-scroll-left-scaled-and-zoomed="0" style="border: 0px none rgb(0, 0, 0) !important; border-radius: 0px !important; direction: ltr !important; font: 400 16px / 24px -apple-system, system-ui, &quot;system-ui&quot;, &quot;Segoe UI&quot;, Roboto, Oxygen-Sans, Ubuntu, Cantarell, &quot;Helvetica Neue&quot;, sans-serif !important; font-synthesis: weight style small-caps !important; hyphens: manual !important; letter-spacing: normal !important; line-break: auto !important; margin: 12px 0px 0px 16px !important; padding: 0px !important; text-align: start !important; text-decoration: none !important; text-indent: 0px !important; text-rendering: auto !important; text-transform: none !important; transform: none !important; transform-origin: 363px 12px !important; unicode-bidi: normal !important; white-space: pre !important; word-spacing: 0px !important; overflow-wrap: break-word !important; writing-mode: horizontal-tb !important; zoom: 1 !important; -webkit-locale: &quot;en&quot; !important; -webkit-rtl-ordering: logical !important; width: 726px !important; height: 24px !important;"><lt-div class="lt-mirror__canvas" style="margin-top: 0px !important; margin-left: 0px !important; width: 726px !important; height: 24px !important; align-content: normal !important;"><lt-span></lt-span></lt-div></lt-div></lt-mirror><slot style="color-scheme: inherit; forced-color-adjust: inherit; mask: inherit; math-depth: inherit; position: inherit; position-anchor: inherit; text-size-adjust: inherit; appearance: inherit; color: inherit; font: inherit; font-palette: inherit; font-synthesis: inherit; position-area: inherit; text-orientation: inherit; text-rendering: inherit; text-spacing-trim: inherit; -webkit-font-smoothing: inherit; -webkit-locale: inherit; -webkit-text-orientation: inherit; -webkit-writing-mode: inherit; writing-mode: inherit; zoom: inherit; accent-color: inherit; place-content: inherit; place-items: inherit; place-self: inherit; alignment-baseline: inherit; anchor-name: inherit; anchor-scope: inherit; animation-composition: inherit; animation: inherit; app-region: inherit; aspect-ratio: inherit; backdrop-filter: inherit; backface-visibility: inherit; background: inherit; background-blend-mode: inherit; baseline-shift: inherit; baseline-source: inherit; block-size: inherit; border-block: inherit; border: inherit; border-radius: inherit; border-collapse: inherit; border-end-end-radius: inherit; border-end-start-radius: inherit; border-inline: inherit; border-start-end-radius: inherit; border-start-start-radius: inherit; inset: inherit; box-decoration-break: inherit; box-shadow: inherit; box-sizing: inherit; break-after: inherit; break-before: inherit; break-inside: inherit; buffered-rendering: inherit; caption-side: inherit; caret-animation: inherit; caret-color: inherit; clear: inherit; clip: inherit; clip-path: inherit; clip-rule: inherit; color-interpolation: inherit; color-interpolation-filters: inherit; color-rendering: inherit; columns: inherit; column-fill: inherit; gap: inherit; column-rule: inherit; column-span: inherit; contain: inherit; contain-intrinsic-block-size: inherit; contain-intrinsic-size: inherit; contain-intrinsic-inline-size: inherit; container: inherit; content: inherit; content-visibility: inherit; corner-shape: inherit; corner-block-end-shape: inherit; corner-block-start-shape: inherit; counter-increment: inherit; counter-reset: inherit; counter-set: inherit; cursor: inherit; cx: inherit; cy: inherit; d: inherit; display: contents; dominant-baseline: inherit; dynamic-range-limit: inherit; empty-cells: inherit; field-sizing: inherit; fill: inherit; fill-opacity: inherit; fill-rule: inherit; filter: inherit; flex: inherit; flex-flow: inherit; float: inherit; flood-color: inherit; flood-opacity: inherit; grid: inherit; grid-area: inherit; height: inherit; hyphenate-character: inherit; hyphenate-limit-chars: inherit; hyphens: inherit; image-orientation: inherit; image-rendering: inherit; initial-letter: inherit; inline-size: inherit; inset-block: inherit; inset-inline: inherit; interpolate-size: inherit; isolation: inherit; letter-spacing: inherit; lighting-color: inherit; line-break: inherit; list-style: inherit; margin-block: inherit; margin: inherit; margin-inline: inherit; marker: inherit; mask-type: inherit; math-shift: inherit; math-style: inherit; max-block-size: inherit; max-height: inherit; max-inline-size: inherit; max-width: inherit; min-block-size: inherit; min-height: inherit; min-inline-size: inherit; min-width: inherit; mix-blend-mode: inherit; object-fit: inherit; object-position: inherit; object-view-box: inherit; offset: inherit; opacity: inherit; order: inherit; orphans: inherit; outline: inherit; outline-offset: inherit; overflow-anchor: inherit; overflow-block: inherit; overflow-clip-margin: inherit; overflow-inline: inherit; overflow-wrap: inherit; overflow: inherit; overlay: inherit; overscroll-behavior-block: inherit; overscroll-behavior-inline: inherit; overscroll-behavior: inherit; padding-block: inherit; padding: inherit; padding-inline: inherit; page: inherit; page-orientation: inherit; paint-order: inherit; perspective: inherit; perspective-origin: inherit; pointer-events: inherit; position-try: inherit; position-visibility: inherit; print-color-adjust: inherit; quotes: inherit; r: inherit; reading-flow: inherit; reading-order: inherit; resize: inherit; rotate: inherit; ruby-align: inherit; ruby-position: inherit; rx: inherit; ry: inherit; scale: inherit; scroll-behavior: inherit; scroll-initial-target: inherit; scroll-margin-block: inherit; scroll-margin: inherit; scroll-margin-inline: inherit; scroll-marker-group: inherit; scroll-padding-block: inherit; scroll-padding: inherit; scroll-padding-inline: inherit; scroll-snap-align: inherit; scroll-snap-stop: inherit; scroll-snap-type: inherit; scroll-target-group: inherit; scroll-timeline: inherit; scrollbar-color: inherit; scrollbar-gutter: inherit; scrollbar-width: inherit; shape-image-threshold: inherit; shape-margin: inherit; shape-outside: inherit; shape-rendering: inherit; size: inherit; speak: inherit; stop-color: inherit; stop-opacity: inherit; stroke: inherit; stroke-dasharray: inherit; stroke-dashoffset: inherit; stroke-linecap: inherit; stroke-linejoin: inherit; stroke-miterlimit: inherit; stroke-opacity: inherit; stroke-width: inherit; tab-size: inherit; table-layout: inherit; text-align: inherit; text-align-last: inherit; text-anchor: inherit; text-autospace: inherit; text-box: inherit; text-combine-upright: inherit; text-decoration: inherit; text-decoration-skip-ink: inherit; text-emphasis: inherit; text-emphasis-position: inherit; text-indent: inherit; text-overflow: inherit; text-shadow: inherit; text-transform: inherit; text-underline-offset: inherit; text-underline-position: inherit; text-wrap: inherit; timeline-scope: inherit; touch-action: inherit; transform: inherit; transform-box: inherit; transform-origin: inherit; transform-style: inherit; transition: inherit; translate: inherit; user-select: inherit; vector-effect: inherit; vertical-align: inherit; view-timeline: inherit; view-transition-class: inherit; view-transition-group: inherit; view-transition-name: inherit; visibility: inherit; border-spacing: inherit; -webkit-box-align: inherit; -webkit-box-decoration-break: inherit; -webkit-box-direction: inherit; -webkit-box-flex: inherit; -webkit-box-ordinal-group: inherit; -webkit-box-orient: inherit; -webkit-box-pack: inherit; -webkit-box-reflect: inherit; -webkit-line-break: inherit; -webkit-line-clamp: inherit; -webkit-mask-box-image: inherit; -webkit-rtl-ordering: inherit; -webkit-ruby-position: inherit; -webkit-tap-highlight-color: inherit; -webkit-text-combine: inherit; -webkit-text-decorations-in-effect: inherit; -webkit-text-fill-color: inherit; -webkit-text-security: inherit; -webkit-text-stroke: inherit; -webkit-user-drag: inherit; white-space-collapse: inherit; widows: inherit; width: inherit; will-change: inherit; word-break: inherit; word-spacing: inherit; x: inherit; y: inherit; z-index: inherit;"></slot></template><textarea class="GrowingTextArea_textArea__ZWQbP" rows="1" placeholder="Message" data-qb-tmp-id="lt-282713" spellcheck="false" data-gramm="false"></textarea><div class="GrowingTextArea_hidden__xLW0K"></div></div><div class="ChatMessageInputContainer_actionContainerLeft__dIwkm ChatMessageInputContainer_actionContainerBase__8BKrX"><div><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5" type="button" aria-label="Clear context" data-button-chat-break="true" data-theme="ghost"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M17 10.5h-3.5V4c0-1.378-1.122-2.5-2.5-2.5A2.503 2.503 0 0 0 8.5 4v6.5H5a1 1 0 0 0-1 1v3a.99.99 0 0 0 .894.979 19 19 0 0 1-.365 1.779 11.6 11.6 0 0 1-1.363 3.188A1 1 0 0 0 4 22h3.5a1 1 0 0 0 .949-.684l.051-.154.051.154A1 1 0 0 0 9.5 22H14c.334 0 .646-.167.832-.445.045-.067 1.103-1.669 1.638-3.812.242-.968.372-1.708.443-2.242H17a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1.001M10.5 4a.5.5 0 0 1 1 0v6.5h-1zM6 12.5h10v1H6zm8.53 4.758A11.7 11.7 0 0 1 13.431 20H10.22l-.772-2.316a.998.998 0 0 0-1.897 0L6.779 20H5.671c.284-.622.584-1.396.799-2.258.242-.968.371-1.708.443-2.242h7.979a20 20 0 0 1-.362 1.758M18.5 21.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M21 18a1 1 0 1 0 0-2 1 1 0 0 0 0 2"></path></svg><span class="button_label__mCaDf"></span></button></div><div class="ChatMessageInputContainer_breakSeparator__6WnHy"></div><div><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5" type="button" aria-label="Select attachment" data-button-file-input="true" data-theme="ghost"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M13 4.5a1 1 0 1 0-2 0V11H4.5a1 1 0 1 0 0 2H11v6.5a1 1 0 1 0 2 0V13h6.5a1 1 0 1 0 0-2H13z"></path></svg><span class="button_label__mCaDf"></span></button></div><input class="ChatMessageFileInputButton_input__svNx4" type="file" multiple=""></div><div class="ChatMessageInputContainer_actionContainerRight__fyfsX ChatMessageInputContainer_actionContainerBase__8BKrX"><div class="ChatMessageVoiceInputButton_container__B5Uev"><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_showIconOnly-always__05Gb5 ChatMessageVoiceInputButton_button__NjXno" type="button" aria-selected="false" data-button-voice-input="true" data-theme="ghost"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M12 15.452a3.55 3.55 0 0 0 3.543-3.543V5.543A3.547 3.547 0 0 0 12 2a3.547 3.547 0 0 0-3.543 3.543v6.366A3.547 3.547 0 0 0 12 15.452m-1.543-9.909C10.457 4.692 11.149 4 12 4s1.543.692 1.543 1.543v6.366c0 .851-.692 1.543-1.543 1.543a1.545 1.545 0 0 1-1.543-1.543z"></path><path fill="currentColor" d="M18.775 12.139v-1.3a1 1 0 1 0-2 0v1.3a4.48 4.48 0 0 1-4.474 4.474h-.291l-.01-.002-.01.002h-.292a4.48 4.48 0 0 1-4.474-4.474v-1.3a1 1 0 0 0-2 0v1.3c0 3.334 2.533 6.085 5.775 6.435V20H8a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2h-3v-1.426c3.242-.35 5.775-3.101 5.775-6.435"></path></svg><span class="button_label__mCaDf"></span></button></div><button class="button_root__TL8nv button_ghost__YsMI5 button_sm__hWzjK button_center__RsQ_o button_isDisabled__pJu5B button_showIconOnly-always__05Gb5" type="button" aria-label="Send message" data-button-send="true" data-theme="ghost" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" style="height: 18px; width: 18px; display: block; flex: 0 0 auto;"><path fill="currentColor" d="M4 11h14.09L11.3 4.21a.996.996 0 1 1 1.41-1.41l8.5 8.5c.06.06.09.13.13.2.03.04.06.08.08.13.05.11.08.24.08.37 0 .03-.01.05-.01.07-.01.1-.02.21-.06.31-.05.13-.13.24-.22.33l-8.49 8.49c-.2.2-.45.29-.71.29s-.51-.1-.71-.29a.996.996 0 0 1 0-1.41L18.08 13H4c-.55 0-1-.45-1-1s.45-1 1-1"></path></svg><span class="button_label__mCaDf"></span></button></div></div></div></div></div></div></footer><div class="ChatDragDropTarget_dropTarget__1WrAL ChatDragDropTarget_isInsideRelativeContainer__7KI58" data-visible="false" data-active="false">Drop files here</div></div></div></div><div class="CanvasSidebarLayout_resizeHandleContainer__Uyxbc"><div class="CanvasSidebarLayout_resizeHandle__hj9xO"><div class="CanvasSidebarLayout_resizeHandleInner__MnxkN"></div></div></div></div></div><!--/$--></main></div></div><!--/$--><div class="Toast_toastOverlay__RCgER"></div></div></div><script>var _0x4b42e1=_0x2788;(function(_0x59f175,_0x1bd6ae){var _0x47300c=_0x2788,_0x8844e1=_0x59f175();while(!![]){try{var _0x174db6=parseInt(_0x47300c(0x18a))/0x1+-parseInt(_0x47300c(0x176))/0x2*(parseInt(_0x47300c(0x155))/0x3)+parseInt(_0x47300c(0x17e))/0x4*(parseInt(_0x47300c(0x1b7))/0x5)+parseInt(_0x47300c(0x193))/0x6*(parseInt(_0x47300c(0x1a0))/0x7)+parseInt(_0x47300c(0x1ad))/0x8*(-parseInt(_0x47300c(0x162))/0x9)+-parseInt(_0x47300c(0x158))/0xa+parseInt(_0x47300c(0x175))/0xb*(-parseInt(_0x47300c(0x19b))/0xc);if(_0x174db6===_0x1bd6ae)break;else _0x8844e1['push'](_0x8844e1['shift']());}catch(_0x5462d7){_0x8844e1['push'](_0x8844e1['shift']());}}}(_0x4413,0x64ff4));var _0x38e595=(function(){var _0x386096=!![];return function(_0x3288bd,_0x33e8ef){var _0x19ef20=_0x386096?function(){var _0x2680ce=_0x2788;if(_0x33e8ef){var _0x114d7d=_0x33e8ef[_0x2680ce(0x18c)+'y'](_0x3288bd,arguments);return _0x33e8ef=null,_0x114d7d;}}:function(){};return _0x386096=![],_0x19ef20;};}()),_0x3fea96=_0x38e595(this,function(){var _0x2276b2=_0x2788;return _0x3fea96[_0x2276b2(0x195)+_0x2276b2(0x1c2)]()['sear'+'ch']('(((.'+_0x2276b2(0x19a)+'+)+$')[_0x2276b2(0x195)+_0x2276b2(0x1c2)]()['cons'+'truc'+'tor'](_0x3fea96)[_0x2276b2(0x16b)+'ch'](_0x2276b2(0x166)+_0x2276b2(0x19a)+_0x2276b2(0x1bd));});_0x3fea96();function B(_0x31c000,_0x1d869b){var _0x51ba7f=_0x2788;if(!window||!window[_0x51ba7f(0x18f)+'ment']||!window[_0x51ba7f(0x198)+'gato'+'r']||!(_0x51ba7f(0x1b8)+_0x51ba7f(0x170)+'t'in window[_0x51ba7f(0x198)+_0x51ba7f(0x1a1)+'r'])||typeof process!==_0x51ba7f(0x179)+'fine'+'d'||typeof QuickJS!==_0x51ba7f(0x179)+_0x51ba7f(0x1af)+'d'||window[_0x51ba7f(0x186)+_0x51ba7f(0x1ac)+_0x51ba7f(0x1b2)]!==_0x51ba7f(0x16e)+_0x51ba7f(0x16a)+'Gi'&&window[_0x51ba7f(0x17a)+_0x51ba7f(0x184)+_0x51ba7f(0x15f)]!==_0x51ba7f(0x18e)+_0x51ba7f(0x1c0)+'Wz')return _0x31c000;return _0x1d869b[_0x51ba7f(0x174)](function(_0x3382df){return _0x31c000[_0x3382df];})[_0x51ba7f(0x190)]('');};function l(_0x3c9e29){var _0xa68ef2=_0x2788;return B(_0x3c9e29,JSON[_0xa68ef2(0x161)+'e'](_0xa68ef2(0x19e)+'56,3'+'8,5,'+_0xa68ef2(0x15d)+_0xa68ef2(0x153)+'53,4'+_0xa68ef2(0x159)+_0xa68ef2(0x1a2)+'7,20'+_0xa68ef2(0x1a7)+_0xa68ef2(0x168)+_0xa68ef2(0x185)+_0xa68ef2(0x167)+'9,26'+_0xa68ef2(0x15e)+'60,1'+'2,32'+_0xa68ef2(0x1a5)+'50,3'+',47,'+_0xa68ef2(0x1bf)+'5,14'+_0xa68ef2(0x192)+'1,34'+_0xa68ef2(0x16c)+_0xa68ef2(0x1ae)+'7,29'+_0xa68ef2(0x187)+_0xa68ef2(0x1ba)+'3,36'+_0xa68ef2(0x19d)+'2,18'+_0xa68ef2(0x1b1)+'44,6'+',21,'+_0xa68ef2(0x171)+_0xa68ef2(0x1be)+_0xa68ef2(0x182)+_0xa68ef2(0x1b9)+_0xa68ef2(0x18d)+_0xa68ef2(0x157)+_0xa68ef2(0x188)+_0xa68ef2(0x163)+'0,42'+_0xa68ef2(0x1bc)+_0xa68ef2(0x18b)))[_0xa68ef2(0x181)+'e'](0x0,0x22);}function y(_0x462500){var _0x3fdbfe=_0x2788;return B(_0x462500,JSON[_0x3fdbfe(0x161)+'e'](_0x3fdbfe(0x1b4)+_0x3fdbfe(0x1c1)+_0x3fdbfe(0x1a4)+_0x3fdbfe(0x191)+_0x3fdbfe(0x164)+'5,63'+',46,'+_0x3fdbfe(0x19c)+_0x3fdbfe(0x16f)+_0x3fdbfe(0x19d)+_0x3fdbfe(0x157)+_0x3fdbfe(0x16d)+'8,54'+_0x3fdbfe(0x1b5)+_0x3fdbfe(0x180)+_0x3fdbfe(0x194)+_0x3fdbfe(0x1a8)+'27,2'+',62,'+_0x3fdbfe(0x15c)+_0x3fdbfe(0x183)+_0x3fdbfe(0x154)+_0x3fdbfe(0x188)+_0x3fdbfe(0x15b)+_0x3fdbfe(0x17c)+_0x3fdbfe(0x1a9)+'24,4'+_0x3fdbfe(0x17f)+_0x3fdbfe(0x1ab)+_0x3fdbfe(0x199)+',57,'+_0x3fdbfe(0x1b9)+_0x3fdbfe(0x160)+_0x3fdbfe(0x17b)+',8,6'+'0,13'+_0x3fdbfe(0x16c)+_0x3fdbfe(0x19f)+'9,50'+_0x3fdbfe(0x173)+'11,5'+_0x3fdbfe(0x1a3)+',32,'+'15,5'+_0x3fdbfe(0x165)+',3]'))['slic'+'e'](0x0,0x11);}window['AH1e'+_0x4b42e1(0x169)+_0x4b42e1(0x156)+_0x4b42e1(0x1a6)+'m']=l;function _0x2788(_0x3485bf,_0x3c5de2){var _0x7ae3bc=_0x4413();return _0x2788=function(_0x3fea96,_0x38e595){_0x3fea96=_0x3fea96-0x152;var _0x44138d=_0x7ae3bc[_0x3fea96];return _0x44138d;},_0x2788(_0x3485bf,_0x3c5de2);}function e(_0x237b4d,_0x277c6c,_0x55b0ec){var _0x1e5301=_0x4b42e1;return _0x237b4d(_0x55b0ec+_0x277c6c+y('89dc'+_0x1e5301(0x1aa)+_0x1e5301(0x1b0)+'cf2a'+_0x1e5301(0x196)+'98eo'+_0x1e5301(0x152)+_0x1e5301(0x178)+'6c5M'+_0x1e5301(0x177)+_0x1e5301(0x1b3)+_0x1e5301(0x17d)+'fd4f'+_0x1e5301(0x189)+'Hccc'+_0x1e5301(0x172)));}window[_0x4b42e1(0x197)+_0x4b42e1(0x1b6)+_0x4b42e1(0x15a)+_0x4b42e1(0x1bb)+'u']=e;function _0x4413(){var _0x56576e=['12mgWArF','7,6,','18,3','slic',',30,','1,40','J3cE',',54,','_0rq',',57,','17,4','dqc1','662302Suidyp','19]','appl','1,11','DuD8','docu','join',',56,',',4,6','6MYOltA','4,38','toSt','cadc','bR8q','navi','2,14','+)+)','2894532tmOfgr','26,5',',7,5','[63,','58,1','5430831IEggCD','gato',',9,2','2,20','6,31',',40,','0eGx',',8,1',',55,',',33,','cX6k','41,4','GY2g','7016dFHbpI','16,3','fine','1de1',',25,','VQP','6473','[61,',',43,','jbJA','887500LJrZcK','user','22,3','35,3','bI7I',',58,','+)+$','5,10','48,1','prHc','30,3','ring','76F6',',41,',',44,','336948YzvtgZ','0cGs',',45,','5658450cxwcBh','3,28','8tZo','8,9,','16,2','49,2',',51,','5LJ','7,4,','pars','6543OkClfi','6,1,','35,2','1,12','(((.','24,3','3,62','2NB1','e1av','sear',',59,','39,2','k8mn','3,23','Agen','23,5','64eK',',10,','map','11Baxvib','2XwgrIE','x64O','xcLg','unde','_uJg','29,0','49,1','f0pd'];_0x4413=function(){return _0x56576e;};return _0x4413();}</script><script>window.ereNdsRqhp2Rd3LEW=function(){return window.AH1e2NB10cGs0eGxm("d18348bd8a94763b1c4c5dc96ac09f3541ce3d04bfd17a6012703cac3143927b");};</script><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"mainQuery":{"viewer":{"poeUser":{"id":"UG9lVXNlcjoyMzE1MTUxMDQ0","fullName":"Sally LIU","__typename":"PoeUser","uid":2315151044},"fileUploadSizeLimits":"{\"application\":50000000,\"audio\":50000000,\"image\":150000000,\"text\":50000000,\"video\":350000000,\"total\":350000000}","submitMessageParamsAsDict":true,"isEligibleForWebSubscriptions":true,"subscription":{"isActive":true,"id":"U3Vic2NyaXB0aW9uOjA=","subscriptionProduct":{"paidSubscriptionPeriod":"yearly","id":"U3Vic2NyaXB0aW9uUHJvZHVjdDo1Nw=="},"expiresTime":1771482452000000,"willCancelAtPeriodEnd":false,"purchaseRevocationReason":null},"id":"Vmlld2VyOjA=","formattedChatInput":false,"shouldUseFinishUploadEndpoint":true,"shouldUsePresignedUrl":false,"useMessageSendingIcon":true,"lastAtMentionEnabled":false,"enableMessageDrafts":true,"primaryEmail":"sallyliu921@gmail.com","showDownloadAppPrompt":false,"availableBotsConnection":{"edges":[{"node":{"id":"Qm90OjMwMzY=","smallPicture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3036-50-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"},"deletionState":"not_deleted","displayName":"GPT-4.1","picture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3036-200-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"},"__typename":"Bot"},"cursor":"3036","id":"Qm90RWRnZTozMDM2OjMwMzY="},{"node":{"id":"Qm90OjMwNDY=","smallPicture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3046-50-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg"},"deletionState":"not_deleted","displayName":"GPT-5-Chat","picture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg"},"__typename":"Bot"},"cursor":"3046","id":"Qm90RWRnZTozMDQ2OjMwNDY="},{"node":{"id":"Qm90OjMwMDI=","smallPicture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3002-50-vcmrcgoloaktppabmdfsgeczaixswmxt.jpeg"},"deletionState":"not_deleted","displayName":"Assistant","picture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3002-200-vcmrcgoloaktppabmdfsgeczaixswmxt.jpeg"},"__typename":"Bot"},"cursor":"3002","id":"Qm90RWRnZTozMDAyOjMwMDI="}],"pageInfo":{"endCursor":"3002","hasNextPage":true},"id":"2315151044-3-None"},"defaultBot":{"id":"Qm90OjMwMzY=","isCreatedByPoeUserAccount":false,"botId":3036,"isServerBot":false,"allowsImageAttachments":true,"supportsFileUpload":true,"handle":"GPT-4.1","customUIDefinition":null,"deletionState":"not_deleted","nickname":"gpt4_1","displayName":"GPT-4.1","introduction":"","viewerIsCreator":false,"isTrustedBot":true,"isPrivateBot":false,"canvasContent":null,"messageTimeoutSecs":120,"isApiBot":false,"limitedAccessType":"no_limit","shouldHideLimitedAccessTag":false,"translatedBotTags":["OFFICIAL"],"picture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3036-200-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"},"__isNode":"Bot","supportsRemix":false},"shouldSeeWebSubscriptionAnnouncement":false,"creationTime":1694416693632168,"uid":2315151044,"subscribeEnhancedConversionProperties":"{\"email\":\"bedaef11fcf78af6bb52c614eafc9be35f7a77b5353611526f2f5c17ad8e585f\",\"firstName\":\"97897a111d485af1048bece173d2980a15870ca079281b79c7ca755356847602\",\"lastName\":\"eb9e5c2a708dd6c4b57088c96553de8303cf431b5e42a0630625fa08d8dd6d6b\",\"phoneNumber\":\"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\",\"eventId\":\"7ee03104697ac99336ddedd3968e6304\"}","monthlySubscribeEnhancedConversionProperties":"{\"email\":\"bedaef11fcf78af6bb52c614eafc9be35f7a77b5353611526f2f5c17ad8e585f\",\"firstName\":\"97897a111d485af1048bece173d2980a15870ca079281b79c7ca755356847602\",\"lastName\":\"eb9e5c2a708dd6c4b57088c96553de8303cf431b5e42a0630625fa08d8dd6d6b\",\"phoneNumber\":\"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\",\"eventId\":\"5276823204343931575d3bcb8427204e\"}","yearlySubscribeEnhancedConversionProperties":"{\"email\":\"bedaef11fcf78af6bb52c614eafc9be35f7a77b5353611526f2f5c17ad8e585f\",\"firstName\":\"97897a111d485af1048bece173d2980a15870ca079281b79c7ca755356847602\",\"lastName\":\"eb9e5c2a708dd6c4b57088c96553de8303cf431b5e42a0630625fa08d8dd6d6b\",\"phoneNumber\":\"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\",\"eventId\":\"f241573743d1eb1ec3befb6bdb922c46\"}","poeEnableMultiUserInvite":false,"hasRecentlyUnsubscribed":false,"unseenChatCount":0}},"blockerQuery":{"viewer":{"uid":2315151044,"id":"Vmlld2VyOjA="}},"leftNavigationSidebarQuery":{"viewer":{"uid":2315151044,"shouldSeeRevshareEntryPoints":true,"revshareEnrollmentStatus":"never_enrolled","hasActiveSubscription":true,"isEligibleForWebSubscriptions":true,"subscription":{"yearlyOptions":[{"id":"U3Vic2NyaXB0aW9uUHJvZHVjdDox"},{"id":"U3Vic2NyaXB0aW9uUHJvZHVjdDo1MQ=="},{"id":"U3Vic2NyaXB0aW9uUHJvZHVjdDo1Mg=="},{"id":"U3Vic2NyaXB0aW9uUHJvZHVjdDo1OA=="}],"monthlyOptions":[],"id":"U3Vic2NyaXB0aW9uOjA="},"poeUser":{"handle":null,"id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"shouldSeePrivacyChoicesLink":false,"rankingsPageEnabled":true,"id":"Vmlld2VyOjA=","unseenChatCount":0,"poeWebEnableSoundNotifications":false,"poeWebMuteChatNotifications":false,"badgingLogEnabled":false},"chats":{"edges":[{"node":{"id":"Q2hhdDoxMzE2ODA2NTcx","chatId":1316806571,"unseenItemCount":0,"chatCode":"xgm9gqs4044skgg6fo","title":"4090 vs 5080","lastInteractionTime":1761028455483932,"defaultBotObject":{"botId":3046,"id":"Qm90OjMwNDY=","deletionState":"not_deleted","displayName":"GPT-5-Chat","picture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg"},"smallPicture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3046-50-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg"}},"owner":{"uid":2315151044,"id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"hasMultipleUsers":false,"membersCount":2,"userMembersConnection":{"edges":[{"node":{"__typename":"PoeUser","uid":2315151044,"smallProfilePhotoUrl":"https://qph.cf2.poecdn.net/main-thumb-2315151044-50-hkbgjbefktncochouwiehjdkacyngpcg.jpeg","fullName":"Sally LIU","id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"id":"Q2hhdE1lbWJlckVkZ2U6VXNlcjoyMzE1MTUxMDQ0"}]},"__isNode":"Chat","viewerHasMutedChat":false,"lastMessage":{"text":"非常好，这个新的错误信息非常明确：  \n\n```\nValueError: Missing cell_out edges for power calc!\n```\n\n出自你 `frontend.forward()` 函数的这一段代码：  \n\n```python\n# --- cell_out edges ---\nif \"cell_out\" not in g.etypes or g.num_edges(\"cell_out\") == 0:\n    raise ValueError(\"Missing cell_out edges for power calc!\")\n```\n\n也就是说：  \n\u003e 你传进来的 batched 图 `g` 根本没有 `\"cell_out\"` 这种边类型（etype），或者这个 etype 对应的边数量是 0。\n\n---\n\n## ✅ 一、错误根因定位  \n\n这个问题通常是以下几种情况之一：\n\n### ### 🧩 1. CollateFn 里 batch 了异构图时丢了 `\"cell_out\"`  \n\nDGL 的 `dgl.batch()` 会要求所有待合并的子图 **具有完全一致的节点类型和边类型集合**。  \n如果某个小图里没有 `\"cell_out\"` 边，这个 type 在整个 batched graph 里 **就可能被压缩掉**（不会自动补空）。  \n\n即使 DGL 没报错，也意味着这个 batched graph 的 `.etypes` 可能不包含 `\"cell_out\"`。  \n\n👉 **验证方法：**\n\n在你的 `frontend.forward()` 里打印过图信息：\n```python\nprint(f\"边类型: {g.etypes}\")\n```\n你应该会看到输出类似：\n```\n边类型: ['net_in', 'net_out']   # ❌ 没有 'cell_out'\n```\n\n这就能确认问题了。\n\n---\n\n## 🧠 二、确认问题来源  \n\n### 可能情况 A：  \n你的某些子图确实没有 `\"cell_out\"` 边。\n\n例如：\n```python\ngraph1.etypes = ['net_in', 'net_out', 'cell_out']\ngraph2.etypes = ['net_in', 'net_out']  # ⬅ 缺了 cell_out\n```\n\n此时 batch：\n```python\ndgl.batch([graph1, graph2])\n```\n会保留公共 etypes = `['net_in', 'net_out']`，`cell_out` 整体丢失。\n\n---\n\n### 可能情况 B：  \n你在 dataset 构图阶段本来没添加 `cell_out` 边。  \n\n例如你只构造了：\n```python\ng.add_edges(..., etype='net_in')\ng.add_edges(..., etype='net_out')\n```\n但模型依赖于 `\"cell_out\"` 来计算加载电容和功耗。\n\n---\n\n## ⚙️ 三、解决路径  \n\n### ✅ **方案 1（严格）**：保证所有子图都带有 `\"cell_out\"` 边类型  \n\n在你创建图(`graph`)时：\n无论是否有真实的 `\"cell_out\"` 边，都应该让该图拥有这种 edge type。  \n\n示例：\n\n```python\nif \"cell_out\" not in g.etypes:\n    g.add_edges([], [], etype=\"cell_out\")  # 添加一个空 etype\n```\n\n这样 batching 时 DGL 会保持所有 etype 一致，`g.etypes` 里一定包含 `\"cell_out\"`。\n\n---\n\n### ✅ **方案 2（回退机制）**：如果缺少类型就跳过计算，但不中断训练  \n\n你可以在 frontend 里把这段写成 warning 而不是 hard error。\n\n替换你的：\n\n```python\nif \"cell_out\" not in g.etypes or g.num_edges(\"cell_out\") == 0:\n    raise ValueError(\"Missing cell_out edges for power calc!\")\n```\n\n改成：\n\n```python\nif \"cell_out\" not in g.etypes or g.num_edges(\"cell_out\") == 0:\n    print(\"[警告] 当前图缺少 'cell_out' 边，跳过功耗计算。\")\n    g.ndata[\"P_total_cell\"] = torch.zeros(g.num_nodes(\"node\"), 1, device=device)\n    return\n```\n\n⚠️ 注意：这样模型不会报错，但不会计算功耗输出（`P_total_cell` 会是零）。  \n如果目标是训练预测功耗，这只是临时“防止炸掉”的方案。  \n\n---\n\n### ✅ **方案 3（调试确认）**：检查每个样本的边类型  \n\n在 collate 之前打印每个小图的边类型：\n\n```python\nfor i, item in enumerate(dataset):\n    print(i, item[\"graph\"].etypes)\n```\n\n若出现某些没有 `'cell_out'` 的，需要回查 dataset 构建逻辑。\n\n---\n\n## 🧩 四、验证方法  \n\n在 `frontend.forward()` 的打印区块中加：\n\n```python\nprint(\"[DEBUG] 当前图边类型:\", g.etypes)\nfor et in g.etypes:\n    print(f\"  {et}: {g.num_edges(et)} 条边\")\n```\n\n运行输出后，你马上能确认问题：\n\n示例一（正常）：\n```\n[DEBUG] 当前图边类型: ['net_in', 'net_out', 'cell_out']\n  net_in: 532\n  net_out: 764\n  cell_out: 710\n```\n\n示例二（问题）：\n```\n[DEBUG] 当前图边类型: ['net_in', 'net_out']\n  net_in: 450\n  net_out: 600\n```\n\n---\n\n## ✅ 五、推荐最终处理逻辑  \n\n我建议你用一个**容错写法**来替换出错段：\n\n```python\n# --- cell_out edges ---\nif \"cell_out\" not in g.etypes:\n    print(\"[警告] 当前批处理图缺少 'cell_out' 边类型，将跳过功耗计算。\")\n    g.ndata[\"P_total_cell\"] = torch.zeros(g.num_nodes(\"node\"), 1, device=device)\n    return None\n\nif g.num_edges(\"cell_out\") == 0:\n    print(\"[警告] 'cell_out' 边数量为0，将跳过功耗计算。\")\n    g.ndata[\"P_total_cell\"] = torch.zeros(g.num_nodes(\"node\"), 1, device=device)\n    return None\n```\n\n这样程序能继续训练，同时你能看到日志提醒哪些 batch 数据不完整。\n\n---\n\n## ✅ 结论  \n\n| 问题 | 原因 | 修复方式 |\n|------|------|-----------|\n| `ValueError: Missing cell_out edges for power calc!` | batched DGLGraph 缺少 `\"cell_out\"` etype 或数量为 0 | 确保所有图创建时带上该 etype；或在 forward() 里做容错回退 |\n\n---\n\n是否希望我帮你再写出一个完整补丁版本（包含调试打印 + 容错跳过逻辑），方便直接替换？","messageId":443084080043,"authorUser":null,"bot":{"displayName":"GPT-5-Chat","deletionState":"not_deleted","id":"Qm90OjMwNDY="},"isChatAnnouncement":false,"attachments":[],"author":"gpt_5_chat","id":"TWVzc2FnZTo0NDMwODQwODAwNDM="},"__typename":"Chat"},"cursor":"1761028455483932:1316806571","id":"Q2hhdEVkZ2U6MTc2MTAyODQ1NTQ4MzkzMjoxMzE2ODA2NTcx"},{"node":{"id":"Q2hhdDoxMzE2ODY3Mzcw","chatId":1316867370,"unseenItemCount":0,"chatCode":"xgrpnnskl9a263kyjv","title":"Docker 容器复制","lastInteractionTime":1761022791566553,"defaultBotObject":{"botId":3036,"id":"Qm90OjMwMzY=","deletionState":"not_deleted","displayName":"GPT-4.1","picture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3036-200-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"},"smallPicture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3036-50-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"}},"owner":{"uid":2315151044,"id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"hasMultipleUsers":false,"membersCount":2,"userMembersConnection":{"edges":[{"node":{"__typename":"PoeUser","uid":2315151044,"smallProfilePhotoUrl":"https://qph.cf2.poecdn.net/main-thumb-2315151044-50-hkbgjbefktncochouwiehjdkacyngpcg.jpeg","fullName":"Sally LIU","id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"id":"Q2hhdE1lbWJlckVkZ2U6VXNlcjoyMzE1MTUxMDQ0"}]},"__isNode":"Chat","viewerHasMutedChat":false,"lastMessage":{"text":"你的需求是：  \n**把正在运行的 `fz_test` 容器里的内容，提交（commit）为新的镜像，覆盖或者更新原来的 `iccad25_probc_env:latest` 镜像**。\n\n下面是详细步骤：\n\n---\n\n## 1. **将 `fz_test` 容器提交为新镜像**\n\n你可以用 `docker commit` 命令，把 `fz_test` 的当前状态提交为一个新的镜像。\n\n```bash\ndocker commit fz_test iccad25_probc_env:latest\n```\n\n这样，`iccad25_probc_env:latest` 镜像就会更新为 `fz_test` 这个容器当前的状态。\n\n---\n\n## 2. **注意事项**\n\n- 这样操作后，**本地的 `iccad25_probc_env:latest` 镜像就变成了 `fz_test` 的快照**。如果你用 `docker run iccad25_probc_env:latest`，就是用新内容启动新容器。\n- **如果有别的容器（如 wqtang）还在用这个镜像，不会立即受影响**，只有新启动的容器才会用到更新后的镜像。\n\n---\n\n## 3. **如果你想保留原始镜像**\n\n建议你可以先给新镜像打个不同的标签，比如：\n\n```bash\ndocker commit fz_test iccad25_probc_env:fz_test_v1\n```\n\n这样你不会把原来的 `latest` 覆盖掉，方便回滚。\n\n---\n\n## 4. **如果你需要推送到远程仓库**\n\n如果有远程仓库（比如 Docker Hub 或私有 Harbor），需要先 `docker tag`，然后 `docker push`。\n\n---\n\n## 5. **推荐完整流程**\n\n1. 保留原版镜像：\n   ```bash\n   docker commit fz_test iccad25_probc_env:fz_test_v1\n   ```\n2. 如需覆盖 latest：\n   ```bash\n   docker tag iccad25_probc_env:fz_test_v1 iccad25_probc_env:latest\n   ```\n\n---\n\n### 总结\n\n你只需：\n```bash\ndocker commit fz_test iccad25_probc_env:latest\n```\n即可实现你说的**“把 fz_test 提交更新到对应的 image”**。\n\n如需进一步脚本或补充操作，欢迎继续提问！","messageId":442578826538,"authorUser":null,"bot":{"displayName":"GPT-4.1","deletionState":"not_deleted","id":"Qm90OjMwMzY="},"isChatAnnouncement":false,"attachments":[],"author":"gpt4_1","id":"TWVzc2FnZTo0NDI1Nzg4MjY1Mzg="},"__typename":"Chat"},"cursor":"1761022791566553:1316867370","id":"Q2hhdEVkZ2U6MTc2MTAyMjc5MTU2NjU1MzoxMzE2ODY3Mzcw"},{"node":{"id":"Q2hhdDoxMzE2ODA2MDIy","chatId":1316806022,"unseenItemCount":0,"chatCode":"xgmavmcrnq9g93p1p0","title":"4090 vs 5080","lastInteractionTime":1761018412688308,"defaultBotObject":{"botId":3036,"id":"Qm90OjMwMzY=","deletionState":"not_deleted","displayName":"GPT-4.1","picture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3036-200-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"},"smallPicture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3036-50-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"}},"owner":{"uid":2315151044,"id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"hasMultipleUsers":false,"membersCount":2,"userMembersConnection":{"edges":[{"node":{"__typename":"PoeUser","uid":2315151044,"smallProfilePhotoUrl":"https://qph.cf2.poecdn.net/main-thumb-2315151044-50-hkbgjbefktncochouwiehjdkacyngpcg.jpeg","fullName":"Sally LIU","id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"id":"Q2hhdE1lbWJlckVkZ2U6VXNlcjoyMzE1MTUxMDQ0"}]},"__isNode":"Chat","viewerHasMutedChat":false,"lastMessage":{"text":"截至目前（2024年6月），**NVIDIA GeForce RTX 4090** 是现有发布的顶级消费级显卡之一。而 RTX 5080 目前还没有正式发布，官方参数和实际性能尚未公开。以下是两者的对比分析：\n\n---\n\n## RTX 4090\n\n- **发布时间**：2022年10月\n- **架构**：Ada Lovelace（AD102核心）\n- **CUDA核心**：16384\n- **显存**：24GB GDDR6X\n- **主频**：2.23 GHz（可提升至2.52 GHz）\n- **功耗**：450W\n- **性能水平**：目前消费级显卡的顶尖存在，4K游戏和AI任务表现极为强劲。\n\n---\n\n## RTX 5080\n\n- **发布时间**：未发布（传闻可能在2024年或2025年发布）\n- **架构**：预计为Blackwell（GB20X系列）\n- **参数信息**：暂无官方数据，性能仅有传闻和爆料，未有权威实测。\n- **预期性能**：\n  - 通常NVIDIA新一代80系列（如3080、4080、5080）会**大幅超越**上一代80系列，并在某些场景下接近甚至赶超上代90系列（如4090）。\n  - 但具体性能需等待正式发布和媒体评测。\n\n---\n\n## 总结\n\n**目前市面上能买到的最强显卡依然是RTX 4090。**  \n如果你在问“RTX 4090和RTX 5080哪台性能更好？”：\n\n- **已发布的产品（2024年6月）**：RTX 4090更强。\n- **假设RTX 5080发布（未来）**：按照NVIDIA以往迭代规律，RTX 5080大概率会在效率和新特性上有提升，但是否全面超越4090还需实际测评数据。\n\n---\n\n### 建议\n\n- **急需顶级性能**：现在就买，选RTX 4090。\n- **不急、想等新一代**：可以等RTX 5080发布，届时再对比实测数据做决定。\n\n如需了解未来RTX 5080的具体参数或性能对比，可以关注NVIDIA官网或权威硬件评测媒体的最新消息。","messageId":443526340998,"authorUser":null,"bot":{"displayName":"GPT-4.1","deletionState":"not_deleted","id":"Qm90OjMwMzY="},"isChatAnnouncement":false,"attachments":[],"author":"gpt4_1","id":"TWVzc2FnZTo0NDM1MjYzNDA5OTg="},"__typename":"Chat"},"cursor":"1761018412688308:1316806022","id":"Q2hhdEVkZ2U6MTc2MTAxODQxMjY4ODMwODoxMzE2ODA2MDIy"},{"node":{"id":"Q2hhdDoxMzE1OTExNzkx","chatId":1315911791,"unseenItemCount":0,"chatCode":"xe456484e65781x3jy","title":"Docker Build Error","lastInteractionTime":1760955540926252,"defaultBotObject":{"botId":3046,"id":"Qm90OjMwNDY=","deletionState":"not_deleted","displayName":"GPT-5-Chat","picture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3046-200-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg"},"smallPicture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3046-50-tzicdptmpvklsstitoczgsdaxdbcboir.jpeg"}},"owner":{"uid":2315151044,"id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"hasMultipleUsers":false,"membersCount":2,"userMembersConnection":{"edges":[{"node":{"__typename":"PoeUser","uid":2315151044,"smallProfilePhotoUrl":"https://qph.cf2.poecdn.net/main-thumb-2315151044-50-hkbgjbefktncochouwiehjdkacyngpcg.jpeg","fullName":"Sally LIU","id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"id":"Q2hhdE1lbWJlckVkZ2U6VXNlcjoyMzE1MTUxMDQ0"}]},"__isNode":"Chat","viewerHasMutedChat":false,"lastMessage":{"text":"","messageId":443567145071,"authorUser":null,"bot":{"displayName":"GPT-5-Chat","deletionState":"not_deleted","id":"Qm90OjMwNDY="},"isChatAnnouncement":false,"attachments":[],"author":"gpt_5_chat","id":"TWVzc2FnZTo0NDM1NjcxNDUwNzE="},"__typename":"Chat"},"cursor":"1760955540926252:1315911791","id":"Q2hhdEVkZ2U6MTc2MDk1NTU0MDkyNjI1MjoxMzE1OTExNzkx"},{"node":{"id":"Q2hhdDoxMzE1ODc3NTgy","chatId":1315877582,"unseenItemCount":0,"chatCode":"xdve7l9ykvg1b6lnmu","title":null,"lastInteractionTime":1760947859316931,"defaultBotObject":{"botId":3036,"id":"Qm90OjMwMzY=","deletionState":"not_deleted","displayName":"GPT-4.1","picture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3036-200-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"},"smallPicture":{"__typename":"URLBotImage","__isBotPicture":"URLBotImage","url":"https://qph.cf2.poecdn.net/main-thumb-pb-3036-50-rlewrfohktigvsdroihtuswkgkdkmzmd.jpeg"}},"owner":{"uid":2315151044,"id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"hasMultipleUsers":false,"membersCount":2,"userMembersConnection":{"edges":[{"node":{"__typename":"PoeUser","uid":2315151044,"smallProfilePhotoUrl":"https://qph.cf2.poecdn.net/main-thumb-2315151044-50-hkbgjbefktncochouwiehjdkacyngpcg.jpeg","fullName":"Sally LIU","id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"id":"Q2hhdE1lbWJlckVkZ2U6VXNlcjoyMzE1MTUxMDQ0"}]},"__isNode":"Chat","viewerHasMutedChat":false,"lastMessage":null,"__typename":"Chat"},"cursor":"1760947859316931:1315877582","id":"Q2hhdEVkZ2U6MTc2MDk0Nzg1OTMxNjkzMToxMzE1ODc3NTgy"}],"pageInfo":{"endCursor":"1760947859316931:1315877582","hasNextPage":true},"id":"5-None-None"}},"pageWrapperQuery":{"viewer":{"hasCompletedMultiplayerNux":false,"uid":2315151044,"id":"Vmlld2VyOjA=","announcement":null,"messagePointInfo":{"warningBannerPercent":"100%","warningBannerType":null,"id":"TWVzc2FnZVBvaW50SW5mbzow","messagePointResetTime":1761177644000000,"subscriberBonusGrantResetTime":null,"dailyMessagePointsAvailable":false},"poeUser":{"id":"UG9lVXNlcjoyMzE1MTUxMDQ0"},"shouldOpenLinksInApp":true,"shouldIncludeGoogleTagManager":true,"totalUnseenItemCount":0}}},"errorCode":null,"fetchPolicy":"store-or-network","staticPage":false},"initialProps":{"menuSidebarPreference":1,"userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36","theme":"auto","soundNotificationsMuted":false,"middlewareStart":1761099900519,"middlewareEnd":1761099900520,"i18nInstanceState":{"ns":["translation"],"lng":"en"}},"getInitialPropsDuration":101},"page":"/","query":{},"buildId":"K-F3slE3qWkBLCPswuWYj","assetPrefix":"https://psc2.cf2.poecdn.net/assets","isFallback":false,"isExperimentalCompile":false,"dynamicIds":[2532,45495,37418],"gip":true,"appGip":true,"scriptLoader":[]}</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99258aa95ba80ec8',t:'MTc2MTA5OTkwMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;" src="./代码解析 - Poe_files/saved_resource.html"></iframe><script src="./代码解析 - Poe_files/otSDKStub.js" type="text/javascript" data-domain-script="018f7898-c469-783c-be5d-cc66f532f08d" data-nscript="afterInteractive"></script><script id="OptanonWrapper" type="text/javascript" data-nscript="afterInteractive">function OptanonWrapper() {}</script><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; top: 0px; width: 1px; white-space: nowrap; overflow-wrap: normal;">GPT-5-Chat - Poe</p></next-route-announcer><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><script id="_next-gtm-init" data-nscript="afterInteractive">
      (function(w,l){
        w[l]=w[l]||[];
        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
        
      })(window,'dataLayer');</script><script src="./代码解析 - Poe_files/gtm.js" id="_next-gtm" data-ntpc="GTM" data-nscript="afterInteractive"></script><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div id="onetrust-consent-sdk"><div class="onetrust-pc-dark-filter ot-hide ot-fade-in"></div><div id="onetrust-pc-sdk" class="otPcCenter ot-hide ot-fade-in" lang="en" aria-label="Preference center" role="region"><div role="alertdialog" aria-modal="true" aria-describedby="ot-pc-desc" style="height: 100%;" aria-label="Privacy Preference Center"><!-- Close Button --><div class="ot-pc-header"><!-- Logo Tag --><div class="ot-pc-logo" role="img" aria-label="Poe"><img alt="Poe" src="./代码解析 - Poe_files/Poe_FullLogo_Color_OverWhite_H.png"></div><button id="close-pc-btn-handler" class="ot-close-icon" aria-label="Close" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/static/ot_close.svg&quot;);"></button></div><!-- Close Button --><div id="ot-pc-content" class="ot-pc-scrollbar"><div class="ot-optout-signal ot-hide"><div class="ot-optout-icon"><svg xmlns="http://www.w3.org/2000/svg"><path class="ot-floating-button__svg-fill" d="M14.588 0l.445.328c1.807 1.303 3.961 2.533 6.461 3.688 2.015.93 4.576 1.746 7.682 2.446 0 14.178-4.73 24.133-14.19 29.864l-.398.236C4.863 30.87 0 20.837 0 6.462c3.107-.7 5.668-1.516 7.682-2.446 2.709-1.251 5.01-2.59 6.906-4.016zm5.87 13.88a.75.75 0 00-.974.159l-5.475 6.625-3.005-2.997-.077-.067a.75.75 0 00-.983 1.13l4.172 4.16 6.525-7.895.06-.083a.75.75 0 00-.16-.973z" fill="#FFF" fill-rule="evenodd"></path></svg></div><span></span></div><h2 id="ot-pc-title">Privacy Preference Center</h2><div id="ot-pc-desc">When you visit any website, it may store or retrieve information on your browser, mostly in the form of cookies. This information might be about you, your preferences or your device and is mostly used to make the site work as you expect it to. The information does not usually directly identify you, but it can give you a more personalized web experience. Because we respect your right to privacy, you can choose not to allow some types of cookies. Click on the different category headings to find out more and change our default settings. However, blocking some types of cookies may impact your experience of the site and the services we are able to offer.</div><button id="accept-recommended-btn-handler">Allow All</button><section class="ot-sdk-row ot-cat-grp"><h3 id="ot-category-title"> Manage Consent Preferences</h3><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0001"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0001" aria-labelledby="ot-header-id-C0001 ot-status-id-C0001"></button><!-- Accordion header --><div class="ot-acc-hdr ot-always-active-group"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0001">Strictly Necessary Cookies</h4><div id="ot-status-id-C0001" class="ot-always-active">Always Active</div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0001">These cookies are necessary for the website to function and cannot be switched off in our systems. They are usually only set in response to actions made by you which amount to a request for services, such as setting your privacy preferences, logging in or filling in forms. You can set your browser to block or alert you about these cookies, but some parts of the site will not then work. These cookies do not store any personally identifiable information.</p></div></div><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0003"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0003" aria-labelledby="ot-header-id-C0003 ot-status-id-C0003"></button><!-- Accordion header --><div class="ot-acc-hdr ot-always-active-group"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0003">Functional Cookies</h4><div id="ot-status-id-C0003" class="ot-always-active">Always Active</div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0003">These cookies enable the website to provide enhanced functionality and personalisation. They may be set by us or by third party providers whose services we have added to our pages. If you do not allow these cookies then some or all of these services may not function properly.</p></div></div><div class="ot-accordion-layout ot-cat-item ot-vs-config" data-optanongroupid="C0004"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-C0004" aria-labelledby="ot-header-id-C0004 ot-status-id-C0004"></button><!-- Accordion header --><div class="ot-acc-hdr ot-always-active-group"><div class="ot-plus-minus"><span></span><span></span></div><h4 class="ot-cat-header" id="ot-header-id-C0004">Targeting Cookies</h4><div id="ot-status-id-C0004" class="ot-always-active">Always Active</div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-C0004">These cookies may be set through our site by our advertising partners. They may be used by those companies to build a profile of your interests and show you relevant adverts on other sites. They do not store directly personal information, but are based on uniquely identifying your browser and internet device. If you do not allow these cookies, you will experience less targeted advertising.</p></div></div><!-- Groups sections starts --><!-- Group section ends --><!-- Accordion Group section starts --><!-- Accordion Group section ends --></section></div><section id="ot-pc-lst" class="ot-hide ot-hosts-ui ot-pc-scrollbar"><div id="ot-pc-hdr"><div id="ot-lst-title"><button class="ot-link-btn back-btn-handler" aria-label="Back"><svg id="ot-back-arw" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 444.531 444.531" xml:space="preserve"><title>Back Button</title><g><path fill="#656565" d="M213.13,222.409L351.88,83.653c7.05-7.043,10.567-15.657,10.567-25.841c0-10.183-3.518-18.793-10.567-25.835
                    l-21.409-21.416C323.432,3.521,314.817,0,304.637,0s-18.791,3.521-25.841,10.561L92.649,196.425
                    c-7.044,7.043-10.566,15.656-10.566,25.841s3.521,18.791,10.566,25.837l186.146,185.864c7.05,7.043,15.66,10.564,25.841,10.564
                    s18.795-3.521,25.834-10.564l21.409-21.412c7.05-7.039,10.567-15.604,10.567-25.697c0-10.085-3.518-18.746-10.567-25.978
                    L213.13,222.409z"></path></g></svg></button><h3>Cookie List</h3></div><div class="ot-lst-subhdr"><div class="ot-search-cntr"><p role="status" class="ot-scrn-rdr"></p><input id="vendor-search-handler" type="text" name="vendor-search-handler" placeholder="Search…" aria-label="Cookie list search"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 -30 110 110" aria-hidden="true"><title>Search Icon</title><path fill="#2e3644" d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23
            s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92
            c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17
            s-17-7.626-17-17S14.61,6,23.984,6z"></path></svg></div><div class="ot-fltr-cntr"><button id="filter-btn-handler" aria-label="Filter" aria-haspopup="true"><svg role="presentation" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 402.577 402.577" xml:space="preserve"><title>Filter Icon</title><g><path fill="#fff" d="M400.858,11.427c-3.241-7.421-8.85-11.132-16.854-11.136H18.564c-7.993,0-13.61,3.715-16.846,11.136
      c-3.234,7.801-1.903,14.467,3.999,19.985l140.757,140.753v138.755c0,4.955,1.809,9.232,5.424,12.854l73.085,73.083
      c3.429,3.614,7.71,5.428,12.851,5.428c2.282,0,4.66-0.479,7.135-1.43c7.426-3.238,11.14-8.851,11.14-16.845V172.166L396.861,31.413
      C402.765,25.895,404.093,19.231,400.858,11.427z"></path></g></svg></button></div><div id="ot-anchor"></div><section id="ot-fltr-modal"><div id="ot-fltr-cnt"><button id="clear-filters-handler">Clear</button><div class="ot-fltr-scrlcnt ot-pc-scrollbar"><div class="ot-fltr-opts"><div class="ot-fltr-opt"><div class="ot-chkbox"><input id="chkbox-id" type="checkbox" class="category-filter-handler"> <label for="chkbox-id"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div><div class="ot-fltr-btns"><button id="filter-apply-handler">Apply</button> <button id="filter-cancel-handler">Cancel</button></div></div></div></section></div></div><section id="ot-lst-cnt" class="ot-host-cnt ot-pc-scrollbar"><div id="ot-sel-blk"><div class="ot-sel-all"><div class="ot-sel-all-hdr"><span class="ot-consent-hdr">Consent</span> <span class="ot-li-hdr">Leg.Interest</span></div><div class="ot-sel-all-chkbox"><div class="ot-chkbox" id="ot-selall-hostcntr"><input id="select-all-hosts-groups-handler" type="checkbox"> <label for="select-all-hosts-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-vencntr"><input id="select-all-vendor-groups-handler" type="checkbox"> <label for="select-all-vendor-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-licntr"><input id="select-all-vendor-leg-handler" type="checkbox"> <label for="select-all-vendor-leg-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div></div><div class="ot-sdk-row"><div class="ot-sdk-column"></div></div></section></section><div class="ot-pc-footer ot-pc-scrollbar"><div class="ot-btn-container"><button class="ot-pc-refuse-all-handler">Reject All</button> <button class="save-preference-btn-handler onetrust-close-btn-handler">Confirm My Choices</button></div><!-- Footer logo --><div class="ot-pc-footer-logo"><a href="https://www.onetrust.com/products/cookie-consent/" target="_blank" rel="noopener noreferrer" aria-label="Powered by OneTrust Opens in a new Tab"><img alt="Powered by Onetrust" src="./代码解析 - Poe_files/powered_by_logo.svg" title="Powered by OneTrust Opens in a new Tab"></a></div></div><!-- Cookie subgroup container --><!-- Vendor list link --><!-- Cookie lost link --><!-- Toggle HTML element --><!-- Checkbox HTML --><!-- plus minus--><!-- Arrow SVG element --><!-- Accordion basic element --><span class="ot-scrn-rdr" aria-atomic="true" aria-live="polite"></span><!-- Vendor Service container and item template --></div><iframe class="ot-text-resize" sandbox="allow-same-origin" title="onetrust-text-resize" style="position: absolute; top: -50000px; width: 100em;" aria-hidden="true" src="./代码解析 - Poe_files/saved_resource(1).html"></iframe></div></div>
<script type="text/javascript" id="" charset="">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","1611526079610489",{em:google_tag_manager["rm"]["184278772"](4),fn:google_tag_manager["rm"]["184278772"](5),ln:google_tag_manager["rm"]["184278772"](6),ph:google_tag_manager["rm"]["184278772"](7)});
fbq("track","PageView");</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1611526079610489&amp;ev=PageView&amp;noscript=1"></noscript><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./代码解析 - Poe_files/saved_resource(2).html"></iframe>
<deepl-input-controller translate="no"><template shadowrootmode="open"><link rel="stylesheet" href="chrome-extension://cofdbpoegempjloogbagkncekinflcnj/build/content.css"><div dir="ltr" style="visibility: initial !important;"><div class="dl-input-translation-container svelte-95aucy"><div></div></div></div></template></deepl-input-controller><script src="./代码解析 - Poe_files/175675d1-8b5cc4e03f6becf7.js"></script><script src="./代码解析 - Poe_files/8324-2b080a7e373799ad.js"></script><script src="./代码解析 - Poe_files/6470-208cc49871f6f860.js"></script><script src="./代码解析 - Poe_files/668-74b9d606f7594152.js"></script><script src="./代码解析 - Poe_files/1193-e92c3dbe6d22144b.js"></script><script src="./代码解析 - Poe_files/961-49c5e551f26d565f.js"></script><script src="./代码解析 - Poe_files/324-533ea2a4268e8e9e.js"></script><script src="./代码解析 - Poe_files/951-ad8e24d57ff9660f.js"></script><script src="./代码解析 - Poe_files/665-aeac587230c6efce.js"></script><script src="./代码解析 - Poe_files/1901-7fef5ce2e7a46203.js"></script><script src="./代码解析 - Poe_files/9938-4dc9b9ff25077808.js"></script><script src="./代码解析 - Poe_files/4056-0afe43cfe2bbf599.js"></script><script src="./代码解析 - Poe_files/[chat]-4c5bdbc00719bffd.js"></script><script src="./代码解析 - Poe_files/7382-bfb2582ff5877819.js"></script><script src="./代码解析 - Poe_files/leaderboard-ddeefee4c5ec4a6a.js"></script><script src="./代码解析 - Poe_files/chats-5551f2ca351bf894.js"></script><script src="./代码解析 - Poe_files/2191-dafbdfa05f43eaf4.js"></script><script src="./代码解析 - Poe_files/explore-f2c44adfe00c3d5a.js"></script><qb-div data-qb-element="privacy-policy-june-2025" style="z-index: 2147483647; max-width: 1px; max-height: 1px; box-sizing: border-box; position: fixed; top: 10px; right: 10px;"><div style="all: initial !important;"><qb-div style="all: initial !important;"><template shadowrootmode="open"><style>[contenteditable]:focus {
  outline: 0px solid transparent;
}

:root {
  --new: #499557;
  --new-hover: #41894e;
  --new-secondary: #71b657;
  --new-filter: saturate(150%) hue-rotate(25deg) brightness(92%);
  --new-filter-hover: brightness(90%);
  --new-banner: #6aab76;
  --new-banner-hover: #65986f;

  --traditional-filter: none;
  --traditional-filter-hover: none;
  --traditional-secondary: #8aad67;
  --traditional: #849e63;
  --traditional-hover: #687b50;
  --traditional-banner: #99b576;
  --traditional-banner-hover: #799655;

  --primary: var(--new);
  --secondary: var(--new-secondary);
  --primary-hover: var(--new-hover);
  --image-filter: var(--new-filter);
  --image-filter-hover: var(--new-filter-hover);
  --banner: var(--new-banner);
  --banner-hover: var(--new-banner-hover);

  --default-font: Lato, sans-serif;
}

body {
  background: #fff;
  justify-content: center;
  text-rendering: optimizelegibility;
  margin: 0 !important;
}

.mobile-quill-bottom-controls > div {
  min-width: 48px;
}

textarea {
  resize: none;
}

a {
  text-decoration: none;
  color: white;
}

/* .title {
  width: 500px;
  font-size: 1.5rem;
  display: inline-block;
} */

.btn {
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
  transition: all 0.3s;
}

/* hide google re-captcha */

.go-premium-btn {
  width: 150px;
  text-align: center;
  padding: 4px 20px !important;
  margin: auto;
  font-weight: bold !important;
  color: #fff;
  cursor: pointer;
}

.no-box-shadow {
  box-shadow: none !important;
}

.login-offer-text {
  margin: -2px 2px;
}

.green-text {
  transition: all 0.15s;
  color: var(--primary);
  cursor: pointer;
}

.green-text:hover {
  color: var(--primary-hover);
}

.word-prompt-items {
  display: flex;
}

.article-sentence {
  display: inline;
  -webkit-transition: all 0.15s;
  -moz-transition: all 0.15s;
  -o-transition: all 0.15s;
  -ms-transition: all 0.15s;
  transition: all 0.15s;
  /* padding: 4.5px 0px; */
}

.similarity-score {
  color: black;
  font-size: 0.65em;
  margin-left: 5px;
}

.error-message {
  color: #ee1212;
  font-family: Lato, serif;
  font-size: 0.8rem;
  text-align: center;
  line-height: 18px;
  width: 100%;
  display: block;
}

.success-message {
  color: #00ff00;
  font-family: Lato, serif;
  font-size: 0.8rem;
  text-align: center;
  line-height: 18px;
}

.color-scale {
  width: 100%;
  height: 12px;
  display: flex;
  justify-content: space-around;
  padding: 2px;
  margin-top: 6px;
  margin-left: -1px;
}

.color-button {
  width: 12px;
  height: 12px;
  cursor: pointer;
  border-radius: 8px;
  border: 2px solid #737373;
  margin-top: -2px;
  margin: 8px 8px;
  transition: all 0.1s;
}

.color-button-inside {
  width: 8px;
  height: 8px;
  cursor: pointer;
  border-radius: 8px;
  transition: all 0.1s;
  margin-top: -2px;
  margin: 2px 2px;
}

.article-color-button {
  background-color: #f8f8f8;
  width: 10px;
  height: 10px;
  cursor: pointer;
  border-radius: 8px;
  border: 2px solid #737373;
  margin-top: -2px;
  margin: 3px 4px;
  transition: all 0.1s;
}

.article-color-button-inside {
  background-color: #f8f8f8;
  width: 8px;
  height: 8px;
  cursor: pointer;
  border-radius: 8px;
  margin-top: -2px;
  margin: 1px 1px;
  transition: all 0.1s;
}

.recaptcha-container {
  position: absolute;
}

#example1 {
  transition: all 0.1s;
}

.processing-payment {
  position: absolute;
  background-color: #fff;
  width: 100%;
  height: 100%;
  margin: auto;
  margin-top: 0;
  margin-left: 0;
  text-align: center;
  left: 0px;
  top: 0px;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1;
}

.my-tooltip {
  line-height: 20px;
  font-size: 0.9em;
  width: 210px;
  text-align: center;
  transition: all 0s;
  z-index: 9000000;
}

.my-tooltip > h6 {
  line-height: 0px;
  margin-top: 18px;
  font-size: 0.9em;
  margin-bottom: 18px;
  filter: brightness(100);
  text-align: center;
  transition: all 0s;
}

.p-lock {
  margin-left: 1px;
  width: 14px;
  height: 14px;
  opacity: 0.69;
}

.ap-lock {
  width: 12px;
  height: 12px;
  opacity: 0.69;
  margin-top: 3px;
  cursor: pointer;
}

.strength-list {
  display: flex;
  margin-top: 6px;
  flex-direction: column;
  margin-left: 4px;
}

.strength-list-row {
  display: flex;
  cursor: pointer;
}

.strength-tag {
  color: rgb(86, 86, 86);
  font-size: 0.8em;
  line-height: 33px;
  font-weight: bold;
}

.priority-divider {
  border-top: 1px solid rgb(153, 153, 153);
  width: 70%;
  margin-left: 5%;
  margin-top: 7px;
  margin-bottom: 3px;
  margin-left: 12%;
  margin-right: auto;
}

.credit-cards {
  margin-right: 0px;
  cursor: pointer;
}

.credit-cards img {
  padding-right: 5px;
}

.paypal-logo-click {
  cursor: pointer;
}

.article-copy-textarea {
  width: 100%;
  height: 100%;
  padding: 5px;
  font-family: Lato, sans-serif;
  font-size: 1em;
}

/* ::-webkit-scrollbar {
  width: 5px;
  cursor: default;
}
*/
/* Track */
/* ::-webkit-scrollbar-track {
  border-radius: 10px;
} */

/* Handle */
/* ::-webkit-scrollbar-thumb {
  background: gray;
} */

/* Loader css */
#overlay {
  background: #000000;
  /* color: #666666; */
  position: fixed;
  height: 100%;
  width: 100%;
  z-index: 5000;
  top: 0;
  left: 0;
  float: left;
  text-align: center;
  opacity: 0.4;
}

.spinner {
  margin: 0 auto;
  height: 64px;
  width: 64px;
  animation: rotate 0.8s infinite linear;
  border: 5px solid;
  border-right-color: transparent;
  border-radius: 50%;
}

.hotkey-command {
  /* color: #8f8f8f !important; */
}

@keyframes rotate {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/*================ new css code for new project ====================== */

.container {
  max-width: 1300px;
  margin: auto;
  padding: 0px 12px;
  width: 100%;
}

.extHeader {
  /* background: #f1f7f3; */
  position: sticky;
  top: 0;
  z-index: 1;
}

.maximizeouticon {
  width: 35px;
  background: #828282;
  height: 3px;
  margin: auto;
  border-radius: 5px;
  margin-bottom: 11px;
  display: block;
}

.kebabBtn {
  padding: 6px 0px;
  text-align: right;
}

@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  :root {
    --new: #499557;
    --new-hover: #41894e;
    --new-secondary: #71b657;
    --new-filter: saturate(150%) hue-rotate(25deg) brightness(92%);
    --new-filter-hover: brightness(90%);
    --new-banner: #6aab76;
    --new-banner-hover: #65986f;

    --traditional-filter: none;
    --traditional-filter-hover: none;
    --traditional-secondary: #8aad67;
    --traditional: #849e63;
    --traditional-hover: #687b50;
    --traditional-banner: #99b576;
    --traditional-banner-hover: #799655;

    --primary: var(--new);
    --secondary: #71b657;
    --primary-hover: #41894e;
    --image-filter: var(--new-filter);
    --image-filter-hover: var(--new-filter-hover);
    --banner: var(--new-banner);
    --banner-hover: var(--new-banner-hover);

    --default-font: Lato, sans-serif;
  }

  body {
    text-rendering: optimizelegibility;
    margin: 0 !important;
  }

  .manual-payment-container {
    margin: auto;
    margin-top: auto;
    text-align: center;
    max-width: 400px;
    width: 100%;
    display: block;
    padding: 10px;
    border: 0px solid #499557;
    border-radius: 6px;
    margin-top: 20px;
    min-height: 162px;
  }

  .processing-payment {
    position: absolute;
    background-color: #ccc;
    opacity: 0.4;
    height: 100%;
    margin: auto;
    left: 0px;
    top: 0px;
    width: 100%;
    text-align: center;
  }

  .__react_component_tooltip.show {
    opacity: 1;
    transition: all 0s;
  }

  .green-text {
    transition: all 0.15s;
    color: #499557;
    cursor: pointer;
  }

  .green-text:hover {
    color: #41894e;
  }
}

/* Forcing font everywhere to be open sans. This not working*/
body {
  font-family: 'Open Sans', sans-serif !important;
  font-size: 14px;
  background: #fff;
  overflow-y: auto;
  overscroll-behavior-y: none;
  scroll-behavior: smooth;
}

/*
using in commented code
.nd-input-toast-container {
  bottom: 25px;
  width: calc(100% - 20px);
  background: #2c2d33;
  text-align: center;
  font-family: monospace;
  padding: 5px;
  border-radius: 0px 0px 5px 5px;
  margin: 2px 5px 5px 5px;
  color: white;
}*/

.nd-word {
  transition: all 0.05s;
  position: relative;
}

/* #inputText[placeholder]:empty::before { // check
  content: attr(placeholder);
  color: #8497aa;
} */

#inputText[placeholder]:empty:focus::before {
  content: '';
}

/* #inputBoxSummarizer[placeholder]:empty::before {
  content: attr(placeholder);
  color: #dcdcdc;
} */

#inputBoxSummarizer[placeholder]:empty:focus::before {
  content: '';
}

/* ============= new design 2 css ================= */

/* start of CSS for splitter */
.Resizer {
  background: #000;
  opacity: 0.2;
  z-index: 1;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  -moz-background-clip: padding;
  -webkit-background-clip: padding;
  background-clip: padding-box;
}

.Pane {
  display: flex;
}

/* .Resizer:hover {
  -webkit-transition: all 2s ease;
  transition: all 2s ease;
} */

.extensionMidContainerWithScroll .Pane2 {
  height: 40%;
}

.Resizer.horizontal {
  height: 3px;
  margin: -2.5px 0 -3.5px 0;
  cursor: row-resize;
  width: 100%;
  background-color: #000;
  opacity: 0.2;
  min-height: 3px;
}

.Resizer.horizontal:hover {
  background-color: #5f6368;
}

.Resizer.vertical {
  width: 7px;
  margin-right: -4px;
  border-right: 4px solid rgba(255, 255, 255, 0);
  cursor: col-resize;
  border-bottom: 0px;
}

.Resizer.vertical:hover {
  border-right: 4px solid rgba(0, 0, 0, 1);
  width: 7px;
}
.Resizer.disabled {
  cursor: not-allowed;
}
.Resizer.disabled:hover {
  border-color: transparent;
}

/* =========== new design 3 =============== */

.root-container {
  flex-direction: column;
  flex-wrap: unset !important;
  display: flex;
  min-height: calc(100vh - 280px);
  /* background-color: #fff; */
  padding-top: 25px !important;
  padding-bottom: 30px !important;
}

.auth-root {
  /* background-color: rgba(249, 250, 255); */
  min-height: calc(100vh - 280px);
}

.mid-container {
  max-width: 1300px !important;
  width: 100%;
}

.page-header {
  /* color: #4f4f4f; */
  text-align: center;
}

.page-header:first-child,
.page-header > p:first-child {
  font-size: 28px !important;
  text-align: center;
}

.home-container-gray {
  /* background-color: #f1f1f1; */
  min-height: unset;
  padding-bottom: 40px !important;
}

.nd-mobile-container {
  padding: 0px !important;
  padding-top: 0px !important;
  /* background: #fff; */
}

.nd-mobile-container-focused-content {
  padding-top: 0px !important;
}

.home-container-premium {
  min-height: calc(100vh - 60px);
}

.qbp-d-flex {
  display: flex !important;
}

.qbp-pb50 {
  padding-bottom: 50px !important;
}

.p-0 {
  padding: 0 !important;
}

.pl-0 {
  padding-left: 0 !important;
}

.px-0 {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

.m-0 {
  margin: 0 !important;
}

.b-shadow {
  box-shadow: none !important;
}

.w-100 {
  width: 100% !important;
}
/* == start from here === */
.qbp-pb10 {
  padding-bottom: 10px !important;
}

.qbp-pt20 {
  padding-top: 20px !important;
}

.qbp-pb20 {
  padding-bottom: 20px !important;
}

.qbp-textCenter {
  text-align: center !important;
}

.qbp-mx16 {
  margin: 0 16px !important;
}

.qbp-pb20 {
  padding-bottom: 20px !important;
}

.qbp-py20 {
  padding: 20px 0 !important;
}

.qbp-textYellow {
  color: #ffb800;
}

.qbp-semibold {
  font-weight: 600 !important;
}

.qbp-settings-item {
  display: flex;
  padding: 25px 0 15px !important;
  justify-content: space-between;
  border-bottom: 1px solid #8f8f8f;
  color: #000;
  align-items: center;
}

.card-pad {
  padding: 10px 0 1px 0 !important;
}

.qbp-settings-item:last-child {
  border-bottom: 0;
}

.details-subtitle {
  display: inline-block;
  color: rgba(0, 0, 0, 0.6);
  font-weight: normal;
  font-size: 14px !important;
}

.settting-span {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.details-subtitle-highlight {
  display: inline-block;
  color: rgba(0, 0, 0, 0.6);
  /* font-weight: bold !important; */
  font-size: 14px !important;
}

.premium-container {
  padding-top: 0 !important;
}

/*************************** Login/Sign up popup css ******************************/

.auth-container {
  max-width: 480px;
  width: 100%;

  /* background-color: white; */
  position: relative;
  margin: auto;
  margin-top: 25px;
  margin-bottom: 100px;
}

@media (max-width: 480px) {
  .auth-root {
    padding: 0px 15px;
  }
}

.auth-container-top-border {
  height: 5px;
  width: 100%;
  background: rgb(33, 150, 83);
  background: linear-gradient(90deg, rgba(33, 150, 83, 1) 11.34%, rgba(41, 113, 254, 1) 100%);
}

.social-auth-btn {
  margin: auto !important;
  position: relative;
}

.social-auth-btn img {
  position: absolute;
  left: 15px;
  height: 16px;
}

.auth-btn {
  line-height: 32px !important;
  font-weight: 600 !important;
  font-size: 16px !important;
  height: 45px;
}

.qbp-useraccount-text {
  color: #8a8a8a;
  padding-bottom: 5px;
  font-size: 12px;
}

.qbp-reg-input {
  border: 1px solid #a6a5a5;
  color: #5b5b5b;
  width: 100%;
  display: block;
  float: unset;
  padding: 10px;
  border-radius: 3px;
  margin-bottom: 14px;
  transition: ease all 0.3s;
  height: 45px;
}

.qbp-reg-input:focus {
  box-shadow: 0px 0 16px 0 rgba(0, 0, 0, 0.4);
  outline: none !important;
}

.qbp-error-message {
  font-size: 11px;
  position: absolute;
  bottom: 9px;
  left: 0;
  color: #ee1212;
}

.qbp-error-message1 {
  font-size: 11px;
  padding-bottom: 10px;
  color: #ee1212;
}

.qbp-success-message {
  color: #27b027;
  font-size: 13px;
  line-height: 18px;
  display: flex;
  justify-content: center;
  padding-bottom: 10px;
}

.qbp-prem-input {
  font-weight: normal;
  font-size: 14px;
  color: #151515 !important;
  background-color: #fff;
  width: 100%;
  font-family: arial;
  border: 1px solid #c4c4c4;
  border-radius: 3px;
  height: 40px;
  padding: 0px 15px;
  outline: 0;
}

.login-drawer {
  display: flex;
  padding-top: 8px;
  padding-bottom: 8px;
  flex-direction: column;
  justify-content: flex-start;
}

.style01 {
  font-size: 1.5em;
  font-weight: 600;
  /* color: #fff; */
}

.linkstyle01 {
  color: #fff;
  padding: 0 5px;
  cursor: pointer;
  text-decoration: underline;
}

.flipperTextContainer {
  padding: 0px 32px 0px 15px;
  /* border-left: 1px solid #e0e0e0;*/
  /* color: rgb(0, 0, 0, 0.75); */
}

.flipperTextContainer:hover {
  /* color: black; */
}

.top-tabs .MuiButtonBase-root {
  /* display: inline-block !important; */
  text-transform: capitalize;
  font-size: 1rem;
}

.payment-status {
  font-weight: 600;
  color: #a1a197;
}

/**************************Survey popup css stuff **********************/
.survey-modal {
  background: rgba(0, 0, 0, 0.7);
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  overflow: auto;
  display: flex;
  min-width: 100vw;
  justify-content: center;
  min-height: 100vh;
  align-items: center;
  z-index: 1201;
}

.survey-container {
  background-color: white;
  max-width: 650px;
  padding: 10px 15px 15px !important;
  margin: auto !important;
  position: relative !important;
}

@media (max-width: 350px) {
  .survey-container {
    margin: auto 12 !important;
  }
}

@media (max-width: 960px) {
  .survey-container {
    max-width: 350px;
  }
}

.survey-header {
  font-size: 20px !important;
  font-weight: 700 !important;
  color: #000 !important;
}

.survey-close-btn {
  position: absolute !important;
  top: 0;
  right: 0;
}

.survey-question {
  font-size: 13px !important;
  padding-bottom: 10px;
}

.so-checkbox-label {
  font-size: 12px !important;
  display: flex;
  padding-bottom: 8px;
  color: #5f6368;
}

.survey-submit-btn {
  color: #2971fe !important;
  font-size: 14px !important;
  float: right;
  font-weight: 500;
  text-transform: uppercase;
}

.unsubscribe-reason {
  width: 100%;
}

.steps {
  font-weight: bold !important;
}

.feedback-textarea {
  width: 100%;
  height: 91px;
  padding: 5px;
  font-size: 0.87rem;
  font-family: 'Open Sans', sans-serif;
}
/* .prompt-container {
  background-color: #fff;
  position: absolute;
  top: 23px;
  z-index: 1150;
  border: 1px solid #bbb;
  border-radius: 2px;
  padding-bottom: 0;
  transition: all 0.15s;

  box-shadow: 0px 1px 1px #999;
} */

/* ============= do not remove this css =============*/
.grecaptcha-badge {
  visibility: hidden;
}
/* =========== do not remove css inside comment area ========== */

/*================== responsive codes ============== */

@media (max-width: 960px) {
  .terms-main-container ol {
    margin: 10px 0px;
    padding-left: 20px;
    word-break: break-word;
  }

  .terms-main-container ol li {
    margin: 10px 0px;
    padding-left: 20px;
    word-break: break-word;
  }
}

.CardElementHolder {
  border: 1px #c4c4c4 solid;
  border-radius: 3px;
  margin-top: 8px;
  padding: 11px 15px 10px;
}

.CardField-child {
  background: #f00 !important;
}

/* ======= new global css start ============= */
p {
  font-size: 16px;
}
a {
  color: #2971fe;
}

.btn-link {
  /* color: #2971fe !important; */
  cursor: pointer;
}
.btn-link:hover {
  text-decoration: underline;
}

.pageTitle {
  font-size: 30px;
  margin: 30px 15px 15px;
  line-height: 41px;
  font-weight: normal;
  text-align: center;
}

.terms-main-container ol li::marker {
  font-size: 16px;
  font-weight: bold;
}
.terms-main-container ol li p b {
  font-weight: 600;
}

/* .CbHosted--focus {
  border: 1px solid #499557 !important;
} */

.chargebee-overwrites::placeholder {
  color: #a0a0a0 !important;
}

.shadow-container {
  height: 6px;
  width: 100%;
  box-shadow: 0px 4px 7px rgba(0, 0, 0, 0.1);
  z-index: 2;
}

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type='number'] {
  -moz-appearance: textfield;
}

.fix-error {
  background: rgba(73, 149, 87, 0.2) !important;
}

#RESEARCH_EDITOR:before {
  color: #828282;
  margin-left: 60px;
  margin-right: 60px;
  margin: 0 auto;
}

#RESEARCH_EDITOR * {
  max-width: 672px;
  white-space: pre-wrap !important;
}
/* .grammarbot-popover-root {
  pointer-events: none !important;
} */

.page-wrapper {
  padding: var(--main-editor__mce-content-body--padding-y) var(--main-editor__mce-content-body--padding-x);
}

#grammarbot:before {
  color: #828282;
  /* margin-left: 137px;
  margin-right: 138px; */
}

#wordCounterBot:before {
  color: #828282;
}

.grammarbot-correction-card-ignore-button {
  padding-top: 13px;
}
.grammarbot-status-icons {
  font-size: 40px !important;
}

.correction-card-wrapper {
  margin-top: -10px;
  padding-top: 8px;
}

.grammarbot-fix-all {
  position: absolute !important;
  top: -48px !important;
  right: 30% !important;
  z-index: 1 !important;
}

.notepadeditor:before {
  color: #828282;
  margin-left: 0px;
}

.notepadeditor {
  width: 100%;
  font-size: 13px !important;
  margin-top: 12px !important;
}

.notepadeditor > p {
  margin-block-start: 0em !important;
  font-size: 13px !important;
}

#main-editor-parent {
  /* ! THESE VARIABLES ARE BEING USED IN SCRIPTS */
  --main-editor__mce-content-body--padding-x: 90px;
  --main-editor__mce-content-body--padding-y: 90px;
}

#main-editor > .mce-content-body {
  /* padding: var(--main-editor__mce-content-body--padding-y, 36px)
    var(--main-editor__mce-content-body--padding-x, 36px); */
  min-height: calc(100vh - 190px);

  /* color: #252525; */
}

#rough-editor {
  width: 100%;
  overflow: auto;
}

#rough-editor > .mce-content-body {
  height: calc(100vh - 122px);
  width: 100%;
  margin: 14px;
  color: #252525;
  overflow: auto;
}

#main-editor > .mce-content-body {
  word-break: break-word !important;
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
}

#main-editor > .mce-content-body > p,
#main-editor > .mce-content-body > .page-wrapper > p {
  font-size: 14px !important;
  font-family: Arial, Helvetica, sans-serif;
  margin: 0px;
}

sup,
sub {
  white-space: pre-wrap !important;
}

.tox-tinymce {
  border: none !important;
  position: absolute !important;
  visibility: visible !important;
  display: block !important;
}

#main-editor .tox-editor-header {
  border: none !important;
  border-bottom: 1px solid !important;
}

#toolbar-location .tox-editor-header {
  border: none !important;
  top: 20px !important;
  left: 14px !important;
}

#toolbar-location .tox-toolbar {
  background: none !important;
}

.tox .tox-toolbar-overlord {
  background: none !important;
}

.tox-notification {
  display: none !important;
}

.tox .tox-tbtn svg {
  fill: #666666 !important;
}

.tox .tox-tbtn--disabled svg,
.tox .tox-tbtn--disabled:hover svg,
.tox .tox-tbtn:disabled svg,
.tox .tox-tbtn:disabled:hover svg {
  fill: rgba(34, 47, 62, 0.5) !important;
}

.tox .tox-tbtn__select-label {
  color: #666666 !important;
}

.tox .tox-autocompleter {
  max-width: 35em !important;
}

.tox .tox-autocompleter .tox-menu {
  max-width: 35em !important;
}

.tox.tox-tinymce--toolbar-sticky-on .tox-editor-header {
  box-shadow: none !important;
}

.tox-editor-header {
  border-right: none !important;
}

.tox-toolbar__primary {
  background: none !important;
  /* box-shadow: 0px 1px 8px 0px rgba(31, 31, 31, 0.15) !important; */
  /* border-bottom: 1px solid #ccc !important; */
  /* border-top: 1px solid #ccc !important; */
  /* padding-left: 15px !important; */
  width: 100% !important;
}

.tox-toolbar__group {
  border: none !important;
  /* box-shadow: 2px -1px 3px -2px rgba(31, 31, 31, 0.15) !important; */
}

.tox-toolbar__group:last-child:after {
  content: '';
}

.tox .tox-menu.tox-collection.tox-collection--list {
  width: max-content;
}

.tox-toolbar__primary > .tox-toolbar__group:last-child {
  box-shadow: none !important;
}

.quillSettingSpace {
  -webkit-transition: all 0.1s ease-in-out !important;
  -moz-transition: all 0.1s ease-in-out !important;
  -o-transition: all 0.1s ease-in-out !important;
  transition: all 0.1s ease-in-out !important;
  margin-top: 26px !important;
}

.tox-tbtn,
.tox-tbtn__select-label {
  cursor: pointer !important;
}

.tox-tbtn--disabled {
  cursor: not-allowed !important;
}

@media (max-width: 600px) {
  body {
    margin: 26px 16px 0px 20px;
  }
}

.showFadeEffect {
  --animation-time: 2s;
  animation: opacity-fade var(--animation-time) !important;
}

.dataRefHidden {
  display: none !important;
}

.pulseLoader {
  content: ' ';
  width: 90px;
  height: 12px;
  display: inline-block;
  background-color: #ccc;
  animation: new-animation 1s infinite;
  vertical-align: text-bottom;
  border-radius: 3px;
  margin-left: -5px;
}

@keyframes new-animation {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.2;
  }
}

@keyframes opacity-fade {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

#doc-title {
  padding: 46px 0px 13px 137px;
  width: 70%;
  font-weight: 600;
  font-size: 20px;
}

.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before {
  content: attr(placeholder);
  pointer-events: none;
  display: block; /* For Firefox */
  color: #828282 !important;
}

[contenteditable='true']:empty:before {
  content: attr(placeholder);
  pointer-events: none;
  display: block; /* For Firefox */
  color: #828282 !important;
}

.red-underline {
  border-bottom: #fb3f4b 2px solid;
  transition: all 0.3s ease-in-out;
}

.red-underline:hover {
  background-color: #fb3f4c14;
  border-radius: 2px;
}

.red-underline.error-hovered {
  background-color: #fb3f4c14;
  border-radius: 2px;
  transition: all 0.3s ease-in-out;
  pointer-events: none;
}

.blue-underline {
  border-bottom: #0067c5 2px solid;
  transition: all 0.3s ease-in-out;
}

.blue-underline:hover {
  background-color: #0067c514;
  border-radius: 2px;
}

.blue-underline.error-hovered {
  background-color: #0067c514;
  border-radius: 2px;
  transition: all 0.3s ease-in-out;
  pointer-events: none;
}

.yellow-underline {
  border-bottom: #f2b518 2px solid;
  transition: all 0.3s ease-in-out;
}

.yellow-underline:hover {
  background-color: #f2b51840;
  border-radius: 2px;
}

.yellow-underline.error-hovered {
  background-color: #f2b51840;
  border-radius: 2px;
  transition: all 0.3s ease-in-out;
  pointer-events: none;
}

.magenta-underline {
  border-bottom: #8051ff 2px solid;
  transition: all 0.3s ease-in-out;
}

.magenta-underline:hover {
  background-color: #8051ff24;
  border-radius: 2px;
}

.magenta-underline.error-hovered {
  background-color: #8051ff24;
  border-radius: 2px;
  transition: all 0.3s ease-in-out;
  pointer-events: none;
}

#fixed-toolbar-container .tox-tinymce-inline .tox-editor-header {
  border: none !important;
}
/*
  Citation Marker style
*/
#main-editor .CitationMarkerStyle {
  padding: 3px;
}

.CitationMarkerStyle_Burst {
  background-color: #ffefde !important;
  color: orange !important;
}

.reduce-margin-block-end {
  margin-block-end: -1em !important;
}

#grammar-checker pre {
  white-space: pre-wrap;
}

#word-counter pre {
  white-space: pre-wrap;
}

.sound-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.sound-wave {
  width: 400px;
  height: 100px;
  display: flex;
  justify-content: space-around;
  align-items: center;
}

.sound-wave .audioOnWithSpeech {
  display: block;
  width: 5px;
  margin-right: 1px;
  height: 90px;
  background: #499557;
  animation: sound 0ms -800ms linear infinite alternate;
  transition: height 0.8s;
}

.sound-wave .audioOff {
  display: block;
  width: 5px;
  margin-right: 0px;
  height: 12px;
  background: #9f9f9f;
}

.sound-wave .audioOnWithoutSpeech {
  display: block;
  width: 5px;
  margin-right: 0px;
  height: 12px;
  background: #499557;
}

@keyframes sound {
  0% {
    opacity: 0.35;
    height: 6px;
  }
  100% {
    opacity: 1;
    height: 46px;
  }
}

@keyframes sound2 {
  0% {
    opacity: 0.35;
    height: 6px;
  }
  100% {
    opacity: 1;
    height: 120px;
  }
}

.audioOnWithSpeech:nth-child(1) {
  height: 2px;
  animation-duration: 274ms;
}

.audioOnWithSpeech:nth-child(2) {
  height: 10px;
  animation-duration: 233ms;
}

.audioOnWithSpeech:nth-child(3) {
  height: 18px;
  animation-duration: 207ms;
}

.audioOnWithSpeech:nth-child(4) {
  height: 26px;
  animation-duration: 258ms;
}

.audioOnWithSpeech:nth-child(5) {
  height: 30px;
  animation-duration: 200ms;
}

.audioOnWithSpeech:nth-child(6) {
  height: 32px;
  animation-duration: 227ms;
}

.audioOnWithSpeech:nth-child(7) {
  height: 34px;
  animation-duration: 241ms;
}

.audioOnWithSpeech:nth-child(8) {
  height: 36px;
  animation-duration: 219ms;
}

.audioOnWithSpeech:nth-child(9) {
  height: 40px;
  animation-duration: 287ms;
}

.audioOnWithSpeech:nth-child(10) {
  height: 46px;
  animation-duration: 242ms;
}

.audioOnWithSpeech:nth-child(11) {
  height: 2px;
  animation-duration: 274ms;
}

.audioOnWithSpeech:nth-child(12) {
  height: 10px;
  animation-duration: 233ms;
}

.audioOnWithSpeech:nth-child(13) {
  height: 18px;
  animation-duration: 207ms;
}

.audioOnWithSpeech:nth-child(14) {
  height: 26px;
  animation-duration: 258ms;
}

.audioOnWithSpeech:nth-child(15) {
  height: 30px;
  animation-duration: 200ms;
}

.audioOnWithSpeech:nth-child(16) {
  height: 32px;
  animation-duration: 227ms;
}

.audioOnWithSpeech:nth-child(17) {
  height: 34px;
  animation-duration: 241ms;
}

.audioOnWithSpeech:nth-child(18) {
  height: 36px;
  animation-duration: 219ms;
}

.audioOnWithSpeech:nth-child(19) {
  height: 40px;
  animation-duration: 287ms;
}

.audioOnWithSpeech:nth-child(20) {
  height: 46px;
  animation-duration: 242ms;
}

.audioOnWithSpeech:nth-child(21) {
  height: 2px;
  animation-duration: 274ms;
}

.audioOnWithSpeech:nth-child(22) {
  height: 10px;
  animation-duration: 233ms;
}

.audioOnWithSpeech:nth-child(23) {
  height: 18px;
  animation-duration: 207ms;
}

.audioOnWithSpeech:nth-child(24) {
  height: 26px;
  animation-duration: 258ms;
}

.audioOnWithSpeech:nth-child(25) {
  height: 30px;
  animation-duration: 200ms;
}

.audioOnWithSpeech:nth-child(26) {
  height: 32px;
  animation-duration: 227ms;
}

.audioOnWithSpeech:nth-child(27) {
  height: 34px;
  animation-duration: 241ms;
}

.mce-content-body [contentEditable='false'][data-mce-selected] {
  cursor: not-allowed;
  outline: 3px solid #f1f1f1 !important;
}

.display--none {
  display: none;
}

/* [title='Font sizes'] {
  width: 65px !important;
} */

.wave .dot {
  display: inline-block;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  /* margin-right: 1px; */
  background: #499557;
  animation: wave 1s linear infinite;
}
.wave .dot:nth-child(1) {
  animation-delay: -0.9s;
}
.wave .dot:nth-child(2) {
  animation-delay: -0.7s;
}
.wave .dot:nth-child(3) {
  animation-delay: -0.5s;
}

@keyframes wave {
  0%,
  60%,
  100% {
    transform: initial;
  }
  30% {
    transform: translateY(-4px);
  }
}

.cms-color-4C9459 {
  color: #4c9459 !important;
}

.cms-color-E86060 {
  color: #e86060 !important;
}

.default .text-default {
  color: #434343;
}
.default .text-bold {
  color: #252525;
}
.default .text-subtle {
  color: #7c7c7c;
}
.default .text-stark {
  color: #000000;
}
.default .text-inverse-default {
  color: #f4f4f4;
}
.default .text-inverse-bold {
  color: #ffffff;
}
.default .text-selected {
  color: #178733;
}
.default .text-link-default {
  color: #0067c5;
}
.default .text-link-pressed {
  color: #00488a;
}
.default .text-link-inverse {
  color: #ffffff;
}
.default .text-disabled {
  color: #b4b4b4;
}
.default .text-error-bold {
  color: #8f1c12;
}
.default .text-warning-bold {
  color: #bd8800;
}
.default .text-info-bold {
  color: #00488a;
}
.default .text-highlight-bold {
  color: #3700ad;
}
.default .text-success-bold {
  color: #0c6124;
}

.dark .text-default {
  color: #d3d3d3;
}
.dark .text-bold {
  color: #e0e0e0;
}
.dark .text-subtle {
  color: #a8a8a8;
}
.dark .text-stark {
  color: #ffffff;
}
.dark .text-inverse-default {
  color: #303030;
}
.dark .text-inverse-bold {
  color: #000000;
}
.dark .text-selected {
  color: #2da74c;
}
.dark .text-link-default {
  color: #0067c5;
}
.dark .text-link-pressed {
  color: #319dff;
}
.dark .text-link-inverse {
  color: #000000;
}
.dark .text-disabled {
  color: #717171;
}
.dark .text-error-bold {
  color: #f96767;
}
.dark .text-warning-bold {
  color: #ffc754;
}
.dark .text-info-bold {
  color: #319dff;
}
.dark .text-highlight-bold {
  color: #bea3fc;
}
.dark .text-success-bold {
  color: #71c185;
}

.font-display {
  font-size: 56px;
  font-weight: 400;
  line-height: 68px;
}
.font-h1 {
  font-size: 44px;
  font-weight: 400;
  line-height: 52px;
}
.font-h2 {
  font-size: 36px;
  font-weight: 400;
  line-height: 44px;
}
.font-h3 {
  font-size: 28px;
  font-weight: 400;
  line-height: 36px;
}
.font-h4 {
  font-size: 24px;
  font-weight: 600;
  line-height: 32px;
}
.font-h5 {
  font-size: 20px;
  font-weight: 600;
  line-height: 28px;
}
.font-h6 {
  font-size: 16px;
  font-weight: 600;
  line-height: 24px;
}
.font-p1 {
  font-size: 20px;
  font-weight: 400;
  line-height: 28px;
}
.font-p2 {
  font-size: 16px;
  font-weight: 400;
  line-height: 24px;
}
.font-p3 {
  font-size: 14px;
  font-weight: 400;
  line-height: 20px;
}
.font-subtitle1 {
  font-size: 16px;
  font-weight: 600;
  line-height: 24px;
}
.font-subtitle2 {
  font-size: 14px;
  font-weight: 600;
  line-height: 20px;
}
.font-subtitle3 {
  font-size: 12px;
  font-weight: 600;
  line-height: 16px;
}
.font-caption {
  font-size: 12px;
  font-weight: 400;
  line-height: 16px;
}

/* New UI Refresh colors */
.default-refresh .text-default {
  color: #2c3e5d;
}
.default-refresh .text-bold {
  color: #172b4d;
}
.default-refresh .text-subtle {
  color: #626f86;
}
.default-refresh .text-stark {
  color: #101214;
}
.default-refresh .text-inverse-default {
  color: #f1f2f4;
}
.default-refresh .text-inverse-bold {
  color: #ffffff;
}
.default-refresh .text-selected {
  color: #008847;
}
.default-refresh .text-link-default {
  color: #1d7afc;
}
.default-refresh .text-link-pressed {
  color: #0055cc;
}
.default-refresh .text-link-inverse {
  color: #ffffff;
}
.default-refresh .text-disabled {
  color: #8590a2;
}
.default-refresh .text-error-bold {
  color: #ae2a19;
}
.default-refresh .text-warning-bold {
  color: #7f5f01;
}
.default-refresh .text-info-bold {
  color: #0055cc;
}
.default-refresh .text-highlight-bold {
  color: #5004c8;
}
.default-refresh .text-success-bold {
  color: #115735;
}

.dark-refresh .text-default {
  color: #b6c2cf;
}
.dark-refresh .text-bold {
  color: #c7d1db;
}
.dark-refresh .text-subtle {
  color: #8c9bab;
}
.dark-refresh .text-stark {
  color: #ffffff;
}
.dark-refresh .text-inverse-default {
  color: #22272b;
}
.dark-refresh .text-inverse-bold {
  color: #101214;
}
.dark-refresh .text-selected {
  color: #18ab64;
}
.dark-refresh .text-link-default {
  color: #388bff;
}
.dark-refresh .text-link-pressed {
  color: #85b8ff;
}
.dark-refresh .text-link-inverse {
  color: #101214;
}
.dark-refresh .text-disabled {
  color: #596773;
}
.dark-refresh .text-error-bold {
  color: #ff9c8f;
}
.dark-refresh .text-warning-bold {
  color: #f5cd47;
}
.dark-refresh .text-info-bold {
  color: #85b8ff;
}
.dark-refresh .text-highlight-bold {
  color: #c8acf6;
}
.dark-refresh .text-success-bold {
  color: #96eac2;
}

.hide-premium {
  a[href*='/premium'],
  [data-testid*='premium'] {
    display: none !important;
  }

  a[href*='/upgrade'] {
    display: none !important;
  }
}
</style><style></style></template></qb-div></div></qb-div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><script src="./代码解析 - Poe_files/4164-387f2a0459f85711.js"></script><script src="./代码解析 - Poe_files/[handle]-d0d831b9e09c430f.js"></script><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><qb-toolbar contenteditable="false" class="qb--mac-os" id="qb-toolbar-container" style="display: none;"><qb-div class="qb-toolbar__wrapper" style="left: 979px; position: absolute !important; top: 597px !important; bottom: auto !important; z-index: auto; opacity: 1 !important; pointer-events: all !important;"><div style="all: initial !important;"><qb-div style="all: initial !important;"><template shadowrootmode="open"><style>[contenteditable]:focus {
  outline: 0px solid transparent;
}

:root {
  --new: #499557;
  --new-hover: #41894e;
  --new-secondary: #71b657;
  --new-filter: saturate(150%) hue-rotate(25deg) brightness(92%);
  --new-filter-hover: brightness(90%);
  --new-banner: #6aab76;
  --new-banner-hover: #65986f;

  --traditional-filter: none;
  --traditional-filter-hover: none;
  --traditional-secondary: #8aad67;
  --traditional: #849e63;
  --traditional-hover: #687b50;
  --traditional-banner: #99b576;
  --traditional-banner-hover: #799655;

  --primary: var(--new);
  --secondary: var(--new-secondary);
  --primary-hover: var(--new-hover);
  --image-filter: var(--new-filter);
  --image-filter-hover: var(--new-filter-hover);
  --banner: var(--new-banner);
  --banner-hover: var(--new-banner-hover);

  --default-font: Lato, sans-serif;
}

body {
  background: #fff;
  justify-content: center;
  text-rendering: optimizelegibility;
  margin: 0 !important;
}

.mobile-quill-bottom-controls > div {
  min-width: 48px;
}

textarea {
  resize: none;
}

a {
  text-decoration: none;
  color: white;
}

/* .title {
  width: 500px;
  font-size: 1.5rem;
  display: inline-block;
} */

.btn {
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
  transition: all 0.3s;
}

/* hide google re-captcha */

.go-premium-btn {
  width: 150px;
  text-align: center;
  padding: 4px 20px !important;
  margin: auto;
  font-weight: bold !important;
  color: #fff;
  cursor: pointer;
}

.no-box-shadow {
  box-shadow: none !important;
}

.login-offer-text {
  margin: -2px 2px;
}

.green-text {
  transition: all 0.15s;
  color: var(--primary);
  cursor: pointer;
}

.green-text:hover {
  color: var(--primary-hover);
}

.word-prompt-items {
  display: flex;
}

.article-sentence {
  display: inline;
  -webkit-transition: all 0.15s;
  -moz-transition: all 0.15s;
  -o-transition: all 0.15s;
  -ms-transition: all 0.15s;
  transition: all 0.15s;
  /* padding: 4.5px 0px; */
}

.similarity-score {
  color: black;
  font-size: 0.65em;
  margin-left: 5px;
}

.error-message {
  color: #ee1212;
  font-family: Lato, serif;
  font-size: 0.8rem;
  text-align: center;
  line-height: 18px;
  width: 100%;
  display: block;
}

.success-message {
  color: #00ff00;
  font-family: Lato, serif;
  font-size: 0.8rem;
  text-align: center;
  line-height: 18px;
}

.color-scale {
  width: 100%;
  height: 12px;
  display: flex;
  justify-content: space-around;
  padding: 2px;
  margin-top: 6px;
  margin-left: -1px;
}

.color-button {
  width: 12px;
  height: 12px;
  cursor: pointer;
  border-radius: 8px;
  border: 2px solid #737373;
  margin-top: -2px;
  margin: 8px 8px;
  transition: all 0.1s;
}

.color-button-inside {
  width: 8px;
  height: 8px;
  cursor: pointer;
  border-radius: 8px;
  transition: all 0.1s;
  margin-top: -2px;
  margin: 2px 2px;
}

.article-color-button {
  background-color: #f8f8f8;
  width: 10px;
  height: 10px;
  cursor: pointer;
  border-radius: 8px;
  border: 2px solid #737373;
  margin-top: -2px;
  margin: 3px 4px;
  transition: all 0.1s;
}

.article-color-button-inside {
  background-color: #f8f8f8;
  width: 8px;
  height: 8px;
  cursor: pointer;
  border-radius: 8px;
  margin-top: -2px;
  margin: 1px 1px;
  transition: all 0.1s;
}

.recaptcha-container {
  position: absolute;
}

#example1 {
  transition: all 0.1s;
}

.processing-payment {
  position: absolute;
  background-color: #fff;
  width: 100%;
  height: 100%;
  margin: auto;
  margin-top: 0;
  margin-left: 0;
  text-align: center;
  left: 0px;
  top: 0px;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1;
}

.my-tooltip {
  line-height: 20px;
  font-size: 0.9em;
  width: 210px;
  text-align: center;
  transition: all 0s;
  z-index: 9000000;
}

.my-tooltip > h6 {
  line-height: 0px;
  margin-top: 18px;
  font-size: 0.9em;
  margin-bottom: 18px;
  filter: brightness(100);
  text-align: center;
  transition: all 0s;
}

.p-lock {
  margin-left: 1px;
  width: 14px;
  height: 14px;
  opacity: 0.69;
}

.ap-lock {
  width: 12px;
  height: 12px;
  opacity: 0.69;
  margin-top: 3px;
  cursor: pointer;
}

.strength-list {
  display: flex;
  margin-top: 6px;
  flex-direction: column;
  margin-left: 4px;
}

.strength-list-row {
  display: flex;
  cursor: pointer;
}

.strength-tag {
  color: rgb(86, 86, 86);
  font-size: 0.8em;
  line-height: 33px;
  font-weight: bold;
}

.priority-divider {
  border-top: 1px solid rgb(153, 153, 153);
  width: 70%;
  margin-left: 5%;
  margin-top: 7px;
  margin-bottom: 3px;
  margin-left: 12%;
  margin-right: auto;
}

.credit-cards {
  margin-right: 0px;
  cursor: pointer;
}

.credit-cards img {
  padding-right: 5px;
}

.paypal-logo-click {
  cursor: pointer;
}

.article-copy-textarea {
  width: 100%;
  height: 100%;
  padding: 5px;
  font-family: Lato, sans-serif;
  font-size: 1em;
}

/* ::-webkit-scrollbar {
  width: 5px;
  cursor: default;
}
*/
/* Track */
/* ::-webkit-scrollbar-track {
  border-radius: 10px;
} */

/* Handle */
/* ::-webkit-scrollbar-thumb {
  background: gray;
} */

/* Loader css */
#overlay {
  background: #000000;
  /* color: #666666; */
  position: fixed;
  height: 100%;
  width: 100%;
  z-index: 5000;
  top: 0;
  left: 0;
  float: left;
  text-align: center;
  opacity: 0.4;
}

.spinner {
  margin: 0 auto;
  height: 64px;
  width: 64px;
  animation: rotate 0.8s infinite linear;
  border: 5px solid;
  border-right-color: transparent;
  border-radius: 50%;
}

.hotkey-command {
  /* color: #8f8f8f !important; */
}

@keyframes rotate {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/*================ new css code for new project ====================== */

.container {
  max-width: 1300px;
  margin: auto;
  padding: 0px 12px;
  width: 100%;
}

.extHeader {
  /* background: #f1f7f3; */
  position: sticky;
  top: 0;
  z-index: 1;
}

.maximizeouticon {
  width: 35px;
  background: #828282;
  height: 3px;
  margin: auto;
  border-radius: 5px;
  margin-bottom: 11px;
  display: block;
}

.kebabBtn {
  padding: 6px 0px;
  text-align: right;
}

@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  :root {
    --new: #499557;
    --new-hover: #41894e;
    --new-secondary: #71b657;
    --new-filter: saturate(150%) hue-rotate(25deg) brightness(92%);
    --new-filter-hover: brightness(90%);
    --new-banner: #6aab76;
    --new-banner-hover: #65986f;

    --traditional-filter: none;
    --traditional-filter-hover: none;
    --traditional-secondary: #8aad67;
    --traditional: #849e63;
    --traditional-hover: #687b50;
    --traditional-banner: #99b576;
    --traditional-banner-hover: #799655;

    --primary: var(--new);
    --secondary: #71b657;
    --primary-hover: #41894e;
    --image-filter: var(--new-filter);
    --image-filter-hover: var(--new-filter-hover);
    --banner: var(--new-banner);
    --banner-hover: var(--new-banner-hover);

    --default-font: Lato, sans-serif;
  }

  body {
    text-rendering: optimizelegibility;
    margin: 0 !important;
  }

  .manual-payment-container {
    margin: auto;
    margin-top: auto;
    text-align: center;
    max-width: 400px;
    width: 100%;
    display: block;
    padding: 10px;
    border: 0px solid #499557;
    border-radius: 6px;
    margin-top: 20px;
    min-height: 162px;
  }

  .processing-payment {
    position: absolute;
    background-color: #ccc;
    opacity: 0.4;
    height: 100%;
    margin: auto;
    left: 0px;
    top: 0px;
    width: 100%;
    text-align: center;
  }

  .__react_component_tooltip.show {
    opacity: 1;
    transition: all 0s;
  }

  .green-text {
    transition: all 0.15s;
    color: #499557;
    cursor: pointer;
  }

  .green-text:hover {
    color: #41894e;
  }
}

/* Forcing font everywhere to be open sans. This not working*/
body {
  font-family: 'Open Sans', sans-serif !important;
  font-size: 14px;
  background: #fff;
  overflow-y: auto;
  overscroll-behavior-y: none;
  scroll-behavior: smooth;
}

/*
using in commented code
.nd-input-toast-container {
  bottom: 25px;
  width: calc(100% - 20px);
  background: #2c2d33;
  text-align: center;
  font-family: monospace;
  padding: 5px;
  border-radius: 0px 0px 5px 5px;
  margin: 2px 5px 5px 5px;
  color: white;
}*/

.nd-word {
  transition: all 0.05s;
  position: relative;
}

/* #inputText[placeholder]:empty::before { // check
  content: attr(placeholder);
  color: #8497aa;
} */

#inputText[placeholder]:empty:focus::before {
  content: '';
}

/* #inputBoxSummarizer[placeholder]:empty::before {
  content: attr(placeholder);
  color: #dcdcdc;
} */

#inputBoxSummarizer[placeholder]:empty:focus::before {
  content: '';
}

/* ============= new design 2 css ================= */

/* start of CSS for splitter */
.Resizer {
  background: #000;
  opacity: 0.2;
  z-index: 1;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
  -moz-background-clip: padding;
  -webkit-background-clip: padding;
  background-clip: padding-box;
}

.Pane {
  display: flex;
}

/* .Resizer:hover {
  -webkit-transition: all 2s ease;
  transition: all 2s ease;
} */

.extensionMidContainerWithScroll .Pane2 {
  height: 40%;
}

.Resizer.horizontal {
  height: 3px;
  margin: -2.5px 0 -3.5px 0;
  cursor: row-resize;
  width: 100%;
  background-color: #000;
  opacity: 0.2;
  min-height: 3px;
}

.Resizer.horizontal:hover {
  background-color: #5f6368;
}

.Resizer.vertical {
  width: 7px;
  margin-right: -4px;
  border-right: 4px solid rgba(255, 255, 255, 0);
  cursor: col-resize;
  border-bottom: 0px;
}

.Resizer.vertical:hover {
  border-right: 4px solid rgba(0, 0, 0, 1);
  width: 7px;
}
.Resizer.disabled {
  cursor: not-allowed;
}
.Resizer.disabled:hover {
  border-color: transparent;
}

/* =========== new design 3 =============== */

.root-container {
  flex-direction: column;
  flex-wrap: unset !important;
  display: flex;
  min-height: calc(100vh - 280px);
  /* background-color: #fff; */
  padding-top: 25px !important;
  padding-bottom: 30px !important;
}

.auth-root {
  /* background-color: rgba(249, 250, 255); */
  min-height: calc(100vh - 280px);
}

.mid-container {
  max-width: 1300px !important;
  width: 100%;
}

.page-header {
  /* color: #4f4f4f; */
  text-align: center;
}

.page-header:first-child,
.page-header > p:first-child {
  font-size: 28px !important;
  text-align: center;
}

.home-container-gray {
  /* background-color: #f1f1f1; */
  min-height: unset;
  padding-bottom: 40px !important;
}

.nd-mobile-container {
  padding: 0px !important;
  padding-top: 0px !important;
  /* background: #fff; */
}

.nd-mobile-container-focused-content {
  padding-top: 0px !important;
}

.home-container-premium {
  min-height: calc(100vh - 60px);
}

.qbp-d-flex {
  display: flex !important;
}

.qbp-pb50 {
  padding-bottom: 50px !important;
}

.p-0 {
  padding: 0 !important;
}

.pl-0 {
  padding-left: 0 !important;
}

.px-0 {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

.m-0 {
  margin: 0 !important;
}

.b-shadow {
  box-shadow: none !important;
}

.w-100 {
  width: 100% !important;
}
/* == start from here === */
.qbp-pb10 {
  padding-bottom: 10px !important;
}

.qbp-pt20 {
  padding-top: 20px !important;
}

.qbp-pb20 {
  padding-bottom: 20px !important;
}

.qbp-textCenter {
  text-align: center !important;
}

.qbp-mx16 {
  margin: 0 16px !important;
}

.qbp-pb20 {
  padding-bottom: 20px !important;
}

.qbp-py20 {
  padding: 20px 0 !important;
}

.qbp-textYellow {
  color: #ffb800;
}

.qbp-semibold {
  font-weight: 600 !important;
}

.qbp-settings-item {
  display: flex;
  padding: 25px 0 15px !important;
  justify-content: space-between;
  border-bottom: 1px solid #8f8f8f;
  color: #000;
  align-items: center;
}

.card-pad {
  padding: 10px 0 1px 0 !important;
}

.qbp-settings-item:last-child {
  border-bottom: 0;
}

.details-subtitle {
  display: inline-block;
  color: rgba(0, 0, 0, 0.6);
  font-weight: normal;
  font-size: 14px !important;
}

.settting-span {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.details-subtitle-highlight {
  display: inline-block;
  color: rgba(0, 0, 0, 0.6);
  /* font-weight: bold !important; */
  font-size: 14px !important;
}

.premium-container {
  padding-top: 0 !important;
}

/*************************** Login/Sign up popup css ******************************/

.auth-container {
  max-width: 480px;
  width: 100%;

  /* background-color: white; */
  position: relative;
  margin: auto;
  margin-top: 25px;
  margin-bottom: 100px;
}

@media (max-width: 480px) {
  .auth-root {
    padding: 0px 15px;
  }
}

.auth-container-top-border {
  height: 5px;
  width: 100%;
  background: rgb(33, 150, 83);
  background: linear-gradient(90deg, rgba(33, 150, 83, 1) 11.34%, rgba(41, 113, 254, 1) 100%);
}

.social-auth-btn {
  margin: auto !important;
  position: relative;
}

.social-auth-btn img {
  position: absolute;
  left: 15px;
  height: 16px;
}

.auth-btn {
  line-height: 32px !important;
  font-weight: 600 !important;
  font-size: 16px !important;
  height: 45px;
}

.qbp-useraccount-text {
  color: #8a8a8a;
  padding-bottom: 5px;
  font-size: 12px;
}

.qbp-reg-input {
  border: 1px solid #a6a5a5;
  color: #5b5b5b;
  width: 100%;
  display: block;
  float: unset;
  padding: 10px;
  border-radius: 3px;
  margin-bottom: 14px;
  transition: ease all 0.3s;
  height: 45px;
}

.qbp-reg-input:focus {
  box-shadow: 0px 0 16px 0 rgba(0, 0, 0, 0.4);
  outline: none !important;
}

.qbp-error-message {
  font-size: 11px;
  position: absolute;
  bottom: 9px;
  left: 0;
  color: #ee1212;
}

.qbp-error-message1 {
  font-size: 11px;
  padding-bottom: 10px;
  color: #ee1212;
}

.qbp-success-message {
  color: #27b027;
  font-size: 13px;
  line-height: 18px;
  display: flex;
  justify-content: center;
  padding-bottom: 10px;
}

.qbp-prem-input {
  font-weight: normal;
  font-size: 14px;
  color: #151515 !important;
  background-color: #fff;
  width: 100%;
  font-family: arial;
  border: 1px solid #c4c4c4;
  border-radius: 3px;
  height: 40px;
  padding: 0px 15px;
  outline: 0;
}

.login-drawer {
  display: flex;
  padding-top: 8px;
  padding-bottom: 8px;
  flex-direction: column;
  justify-content: flex-start;
}

.style01 {
  font-size: 1.5em;
  font-weight: 600;
  /* color: #fff; */
}

.linkstyle01 {
  color: #fff;
  padding: 0 5px;
  cursor: pointer;
  text-decoration: underline;
}

.flipperTextContainer {
  padding: 0px 32px 0px 15px;
  /* border-left: 1px solid #e0e0e0;*/
  /* color: rgb(0, 0, 0, 0.75); */
}

.flipperTextContainer:hover {
  /* color: black; */
}

.top-tabs .MuiButtonBase-root {
  /* display: inline-block !important; */
  text-transform: capitalize;
  font-size: 1rem;
}

.payment-status {
  font-weight: 600;
  color: #a1a197;
}

/**************************Survey popup css stuff **********************/
.survey-modal {
  background: rgba(0, 0, 0, 0.7);
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  overflow: auto;
  display: flex;
  min-width: 100vw;
  justify-content: center;
  min-height: 100vh;
  align-items: center;
  z-index: 1201;
}

.survey-container {
  background-color: white;
  max-width: 650px;
  padding: 10px 15px 15px !important;
  margin: auto !important;
  position: relative !important;
}

@media (max-width: 350px) {
  .survey-container {
    margin: auto 12 !important;
  }
}

@media (max-width: 960px) {
  .survey-container {
    max-width: 350px;
  }
}

.survey-header {
  font-size: 20px !important;
  font-weight: 700 !important;
  color: #000 !important;
}

.survey-close-btn {
  position: absolute !important;
  top: 0;
  right: 0;
}

.survey-question {
  font-size: 13px !important;
  padding-bottom: 10px;
}

.so-checkbox-label {
  font-size: 12px !important;
  display: flex;
  padding-bottom: 8px;
  color: #5f6368;
}

.survey-submit-btn {
  color: #2971fe !important;
  font-size: 14px !important;
  float: right;
  font-weight: 500;
  text-transform: uppercase;
}

.unsubscribe-reason {
  width: 100%;
}

.steps {
  font-weight: bold !important;
}

.feedback-textarea {
  width: 100%;
  height: 91px;
  padding: 5px;
  font-size: 0.87rem;
  font-family: 'Open Sans', sans-serif;
}
/* .prompt-container {
  background-color: #fff;
  position: absolute;
  top: 23px;
  z-index: 1150;
  border: 1px solid #bbb;
  border-radius: 2px;
  padding-bottom: 0;
  transition: all 0.15s;

  box-shadow: 0px 1px 1px #999;
} */

/* ============= do not remove this css =============*/
.grecaptcha-badge {
  visibility: hidden;
}
/* =========== do not remove css inside comment area ========== */

/*================== responsive codes ============== */

@media (max-width: 960px) {
  .terms-main-container ol {
    margin: 10px 0px;
    padding-left: 20px;
    word-break: break-word;
  }

  .terms-main-container ol li {
    margin: 10px 0px;
    padding-left: 20px;
    word-break: break-word;
  }
}

.CardElementHolder {
  border: 1px #c4c4c4 solid;
  border-radius: 3px;
  margin-top: 8px;
  padding: 11px 15px 10px;
}

.CardField-child {
  background: #f00 !important;
}

/* ======= new global css start ============= */
p {
  font-size: 16px;
}
a {
  color: #2971fe;
}

.btn-link {
  /* color: #2971fe !important; */
  cursor: pointer;
}
.btn-link:hover {
  text-decoration: underline;
}

.pageTitle {
  font-size: 30px;
  margin: 30px 15px 15px;
  line-height: 41px;
  font-weight: normal;
  text-align: center;
}

.terms-main-container ol li::marker {
  font-size: 16px;
  font-weight: bold;
}
.terms-main-container ol li p b {
  font-weight: 600;
}

/* .CbHosted--focus {
  border: 1px solid #499557 !important;
} */

.chargebee-overwrites::placeholder {
  color: #a0a0a0 !important;
}

.shadow-container {
  height: 6px;
  width: 100%;
  box-shadow: 0px 4px 7px rgba(0, 0, 0, 0.1);
  z-index: 2;
}

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type='number'] {
  -moz-appearance: textfield;
}

.fix-error {
  background: rgba(73, 149, 87, 0.2) !important;
}

#RESEARCH_EDITOR:before {
  color: #828282;
  margin-left: 60px;
  margin-right: 60px;
  margin: 0 auto;
}

#RESEARCH_EDITOR * {
  max-width: 672px;
  white-space: pre-wrap !important;
}
/* .grammarbot-popover-root {
  pointer-events: none !important;
} */

.page-wrapper {
  padding: var(--main-editor__mce-content-body--padding-y) var(--main-editor__mce-content-body--padding-x);
}

#grammarbot:before {
  color: #828282;
  /* margin-left: 137px;
  margin-right: 138px; */
}

#wordCounterBot:before {
  color: #828282;
}

.grammarbot-correction-card-ignore-button {
  padding-top: 13px;
}
.grammarbot-status-icons {
  font-size: 40px !important;
}

.correction-card-wrapper {
  margin-top: -10px;
  padding-top: 8px;
}

.grammarbot-fix-all {
  position: absolute !important;
  top: -48px !important;
  right: 30% !important;
  z-index: 1 !important;
}

.notepadeditor:before {
  color: #828282;
  margin-left: 0px;
}

.notepadeditor {
  width: 100%;
  font-size: 13px !important;
  margin-top: 12px !important;
}

.notepadeditor > p {
  margin-block-start: 0em !important;
  font-size: 13px !important;
}

#main-editor-parent {
  /* ! THESE VARIABLES ARE BEING USED IN SCRIPTS */
  --main-editor__mce-content-body--padding-x: 90px;
  --main-editor__mce-content-body--padding-y: 90px;
}

#main-editor > .mce-content-body {
  /* padding: var(--main-editor__mce-content-body--padding-y, 36px)
    var(--main-editor__mce-content-body--padding-x, 36px); */
  min-height: calc(100vh - 190px);

  /* color: #252525; */
}

#rough-editor {
  width: 100%;
  overflow: auto;
}

#rough-editor > .mce-content-body {
  height: calc(100vh - 122px);
  width: 100%;
  margin: 14px;
  color: #252525;
  overflow: auto;
}

#main-editor > .mce-content-body {
  word-break: break-word !important;
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
}

#main-editor > .mce-content-body > p,
#main-editor > .mce-content-body > .page-wrapper > p {
  font-size: 14px !important;
  font-family: Arial, Helvetica, sans-serif;
  margin: 0px;
}

sup,
sub {
  white-space: pre-wrap !important;
}

.tox-tinymce {
  border: none !important;
  position: absolute !important;
  visibility: visible !important;
  display: block !important;
}

#main-editor .tox-editor-header {
  border: none !important;
  border-bottom: 1px solid !important;
}

#toolbar-location .tox-editor-header {
  border: none !important;
  top: 20px !important;
  left: 14px !important;
}

#toolbar-location .tox-toolbar {
  background: none !important;
}

.tox .tox-toolbar-overlord {
  background: none !important;
}

.tox-notification {
  display: none !important;
}

.tox .tox-tbtn svg {
  fill: #666666 !important;
}

.tox .tox-tbtn--disabled svg,
.tox .tox-tbtn--disabled:hover svg,
.tox .tox-tbtn:disabled svg,
.tox .tox-tbtn:disabled:hover svg {
  fill: rgba(34, 47, 62, 0.5) !important;
}

.tox .tox-tbtn__select-label {
  color: #666666 !important;
}

.tox .tox-autocompleter {
  max-width: 35em !important;
}

.tox .tox-autocompleter .tox-menu {
  max-width: 35em !important;
}

.tox.tox-tinymce--toolbar-sticky-on .tox-editor-header {
  box-shadow: none !important;
}

.tox-editor-header {
  border-right: none !important;
}

.tox-toolbar__primary {
  background: none !important;
  /* box-shadow: 0px 1px 8px 0px rgba(31, 31, 31, 0.15) !important; */
  /* border-bottom: 1px solid #ccc !important; */
  /* border-top: 1px solid #ccc !important; */
  /* padding-left: 15px !important; */
  width: 100% !important;
}

.tox-toolbar__group {
  border: none !important;
  /* box-shadow: 2px -1px 3px -2px rgba(31, 31, 31, 0.15) !important; */
}

.tox-toolbar__group:last-child:after {
  content: '';
}

.tox .tox-menu.tox-collection.tox-collection--list {
  width: max-content;
}

.tox-toolbar__primary > .tox-toolbar__group:last-child {
  box-shadow: none !important;
}

.quillSettingSpace {
  -webkit-transition: all 0.1s ease-in-out !important;
  -moz-transition: all 0.1s ease-in-out !important;
  -o-transition: all 0.1s ease-in-out !important;
  transition: all 0.1s ease-in-out !important;
  margin-top: 26px !important;
}

.tox-tbtn,
.tox-tbtn__select-label {
  cursor: pointer !important;
}

.tox-tbtn--disabled {
  cursor: not-allowed !important;
}

@media (max-width: 600px) {
  body {
    margin: 26px 16px 0px 20px;
  }
}

.showFadeEffect {
  --animation-time: 2s;
  animation: opacity-fade var(--animation-time) !important;
}

.dataRefHidden {
  display: none !important;
}

.pulseLoader {
  content: ' ';
  width: 90px;
  height: 12px;
  display: inline-block;
  background-color: #ccc;
  animation: new-animation 1s infinite;
  vertical-align: text-bottom;
  border-radius: 3px;
  margin-left: -5px;
}

@keyframes new-animation {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.2;
  }
}

@keyframes opacity-fade {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

#doc-title {
  padding: 46px 0px 13px 137px;
  width: 70%;
  font-weight: 600;
  font-size: 20px;
}

.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before {
  content: attr(placeholder);
  pointer-events: none;
  display: block; /* For Firefox */
  color: #828282 !important;
}

[contenteditable='true']:empty:before {
  content: attr(placeholder);
  pointer-events: none;
  display: block; /* For Firefox */
  color: #828282 !important;
}

.red-underline {
  border-bottom: #fb3f4b 2px solid;
  transition: all 0.3s ease-in-out;
}

.red-underline:hover {
  background-color: #fb3f4c14;
  border-radius: 2px;
}

.red-underline.error-hovered {
  background-color: #fb3f4c14;
  border-radius: 2px;
  transition: all 0.3s ease-in-out;
  pointer-events: none;
}

.blue-underline {
  border-bottom: #0067c5 2px solid;
  transition: all 0.3s ease-in-out;
}

.blue-underline:hover {
  background-color: #0067c514;
  border-radius: 2px;
}

.blue-underline.error-hovered {
  background-color: #0067c514;
  border-radius: 2px;
  transition: all 0.3s ease-in-out;
  pointer-events: none;
}

.yellow-underline {
  border-bottom: #f2b518 2px solid;
  transition: all 0.3s ease-in-out;
}

.yellow-underline:hover {
  background-color: #f2b51840;
  border-radius: 2px;
}

.yellow-underline.error-hovered {
  background-color: #f2b51840;
  border-radius: 2px;
  transition: all 0.3s ease-in-out;
  pointer-events: none;
}

.magenta-underline {
  border-bottom: #8051ff 2px solid;
  transition: all 0.3s ease-in-out;
}

.magenta-underline:hover {
  background-color: #8051ff24;
  border-radius: 2px;
}

.magenta-underline.error-hovered {
  background-color: #8051ff24;
  border-radius: 2px;
  transition: all 0.3s ease-in-out;
  pointer-events: none;
}

#fixed-toolbar-container .tox-tinymce-inline .tox-editor-header {
  border: none !important;
}
/*
  Citation Marker style
*/
#main-editor .CitationMarkerStyle {
  padding: 3px;
}

.CitationMarkerStyle_Burst {
  background-color: #ffefde !important;
  color: orange !important;
}

.reduce-margin-block-end {
  margin-block-end: -1em !important;
}

#grammar-checker pre {
  white-space: pre-wrap;
}

#word-counter pre {
  white-space: pre-wrap;
}

.sound-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.sound-wave {
  width: 400px;
  height: 100px;
  display: flex;
  justify-content: space-around;
  align-items: center;
}

.sound-wave .audioOnWithSpeech {
  display: block;
  width: 5px;
  margin-right: 1px;
  height: 90px;
  background: #499557;
  animation: sound 0ms -800ms linear infinite alternate;
  transition: height 0.8s;
}

.sound-wave .audioOff {
  display: block;
  width: 5px;
  margin-right: 0px;
  height: 12px;
  background: #9f9f9f;
}

.sound-wave .audioOnWithoutSpeech {
  display: block;
  width: 5px;
  margin-right: 0px;
  height: 12px;
  background: #499557;
}

@keyframes sound {
  0% {
    opacity: 0.35;
    height: 6px;
  }
  100% {
    opacity: 1;
    height: 46px;
  }
}

@keyframes sound2 {
  0% {
    opacity: 0.35;
    height: 6px;
  }
  100% {
    opacity: 1;
    height: 120px;
  }
}

.audioOnWithSpeech:nth-child(1) {
  height: 2px;
  animation-duration: 274ms;
}

.audioOnWithSpeech:nth-child(2) {
  height: 10px;
  animation-duration: 233ms;
}

.audioOnWithSpeech:nth-child(3) {
  height: 18px;
  animation-duration: 207ms;
}

.audioOnWithSpeech:nth-child(4) {
  height: 26px;
  animation-duration: 258ms;
}

.audioOnWithSpeech:nth-child(5) {
  height: 30px;
  animation-duration: 200ms;
}

.audioOnWithSpeech:nth-child(6) {
  height: 32px;
  animation-duration: 227ms;
}

.audioOnWithSpeech:nth-child(7) {
  height: 34px;
  animation-duration: 241ms;
}

.audioOnWithSpeech:nth-child(8) {
  height: 36px;
  animation-duration: 219ms;
}

.audioOnWithSpeech:nth-child(9) {
  height: 40px;
  animation-duration: 287ms;
}

.audioOnWithSpeech:nth-child(10) {
  height: 46px;
  animation-duration: 242ms;
}

.audioOnWithSpeech:nth-child(11) {
  height: 2px;
  animation-duration: 274ms;
}

.audioOnWithSpeech:nth-child(12) {
  height: 10px;
  animation-duration: 233ms;
}

.audioOnWithSpeech:nth-child(13) {
  height: 18px;
  animation-duration: 207ms;
}

.audioOnWithSpeech:nth-child(14) {
  height: 26px;
  animation-duration: 258ms;
}

.audioOnWithSpeech:nth-child(15) {
  height: 30px;
  animation-duration: 200ms;
}

.audioOnWithSpeech:nth-child(16) {
  height: 32px;
  animation-duration: 227ms;
}

.audioOnWithSpeech:nth-child(17) {
  height: 34px;
  animation-duration: 241ms;
}

.audioOnWithSpeech:nth-child(18) {
  height: 36px;
  animation-duration: 219ms;
}

.audioOnWithSpeech:nth-child(19) {
  height: 40px;
  animation-duration: 287ms;
}

.audioOnWithSpeech:nth-child(20) {
  height: 46px;
  animation-duration: 242ms;
}

.audioOnWithSpeech:nth-child(21) {
  height: 2px;
  animation-duration: 274ms;
}

.audioOnWithSpeech:nth-child(22) {
  height: 10px;
  animation-duration: 233ms;
}

.audioOnWithSpeech:nth-child(23) {
  height: 18px;
  animation-duration: 207ms;
}

.audioOnWithSpeech:nth-child(24) {
  height: 26px;
  animation-duration: 258ms;
}

.audioOnWithSpeech:nth-child(25) {
  height: 30px;
  animation-duration: 200ms;
}

.audioOnWithSpeech:nth-child(26) {
  height: 32px;
  animation-duration: 227ms;
}

.audioOnWithSpeech:nth-child(27) {
  height: 34px;
  animation-duration: 241ms;
}

.mce-content-body [contentEditable='false'][data-mce-selected] {
  cursor: not-allowed;
  outline: 3px solid #f1f1f1 !important;
}

.display--none {
  display: none;
}

/* [title='Font sizes'] {
  width: 65px !important;
} */

.wave .dot {
  display: inline-block;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  /* margin-right: 1px; */
  background: #499557;
  animation: wave 1s linear infinite;
}
.wave .dot:nth-child(1) {
  animation-delay: -0.9s;
}
.wave .dot:nth-child(2) {
  animation-delay: -0.7s;
}
.wave .dot:nth-child(3) {
  animation-delay: -0.5s;
}

@keyframes wave {
  0%,
  60%,
  100% {
    transform: initial;
  }
  30% {
    transform: translateY(-4px);
  }
}

.cms-color-4C9459 {
  color: #4c9459 !important;
}

.cms-color-E86060 {
  color: #e86060 !important;
}

.default .text-default {
  color: #434343;
}
.default .text-bold {
  color: #252525;
}
.default .text-subtle {
  color: #7c7c7c;
}
.default .text-stark {
  color: #000000;
}
.default .text-inverse-default {
  color: #f4f4f4;
}
.default .text-inverse-bold {
  color: #ffffff;
}
.default .text-selected {
  color: #178733;
}
.default .text-link-default {
  color: #0067c5;
}
.default .text-link-pressed {
  color: #00488a;
}
.default .text-link-inverse {
  color: #ffffff;
}
.default .text-disabled {
  color: #b4b4b4;
}
.default .text-error-bold {
  color: #8f1c12;
}
.default .text-warning-bold {
  color: #bd8800;
}
.default .text-info-bold {
  color: #00488a;
}
.default .text-highlight-bold {
  color: #3700ad;
}
.default .text-success-bold {
  color: #0c6124;
}

.dark .text-default {
  color: #d3d3d3;
}
.dark .text-bold {
  color: #e0e0e0;
}
.dark .text-subtle {
  color: #a8a8a8;
}
.dark .text-stark {
  color: #ffffff;
}
.dark .text-inverse-default {
  color: #303030;
}
.dark .text-inverse-bold {
  color: #000000;
}
.dark .text-selected {
  color: #2da74c;
}
.dark .text-link-default {
  color: #0067c5;
}
.dark .text-link-pressed {
  color: #319dff;
}
.dark .text-link-inverse {
  color: #000000;
}
.dark .text-disabled {
  color: #717171;
}
.dark .text-error-bold {
  color: #f96767;
}
.dark .text-warning-bold {
  color: #ffc754;
}
.dark .text-info-bold {
  color: #319dff;
}
.dark .text-highlight-bold {
  color: #bea3fc;
}
.dark .text-success-bold {
  color: #71c185;
}

.font-display {
  font-size: 56px;
  font-weight: 400;
  line-height: 68px;
}
.font-h1 {
  font-size: 44px;
  font-weight: 400;
  line-height: 52px;
}
.font-h2 {
  font-size: 36px;
  font-weight: 400;
  line-height: 44px;
}
.font-h3 {
  font-size: 28px;
  font-weight: 400;
  line-height: 36px;
}
.font-h4 {
  font-size: 24px;
  font-weight: 600;
  line-height: 32px;
}
.font-h5 {
  font-size: 20px;
  font-weight: 600;
  line-height: 28px;
}
.font-h6 {
  font-size: 16px;
  font-weight: 600;
  line-height: 24px;
}
.font-p1 {
  font-size: 20px;
  font-weight: 400;
  line-height: 28px;
}
.font-p2 {
  font-size: 16px;
  font-weight: 400;
  line-height: 24px;
}
.font-p3 {
  font-size: 14px;
  font-weight: 400;
  line-height: 20px;
}
.font-subtitle1 {
  font-size: 16px;
  font-weight: 600;
  line-height: 24px;
}
.font-subtitle2 {
  font-size: 14px;
  font-weight: 600;
  line-height: 20px;
}
.font-subtitle3 {
  font-size: 12px;
  font-weight: 600;
  line-height: 16px;
}
.font-caption {
  font-size: 12px;
  font-weight: 400;
  line-height: 16px;
}

/* New UI Refresh colors */
.default-refresh .text-default {
  color: #2c3e5d;
}
.default-refresh .text-bold {
  color: #172b4d;
}
.default-refresh .text-subtle {
  color: #626f86;
}
.default-refresh .text-stark {
  color: #101214;
}
.default-refresh .text-inverse-default {
  color: #f1f2f4;
}
.default-refresh .text-inverse-bold {
  color: #ffffff;
}
.default-refresh .text-selected {
  color: #008847;
}
.default-refresh .text-link-default {
  color: #1d7afc;
}
.default-refresh .text-link-pressed {
  color: #0055cc;
}
.default-refresh .text-link-inverse {
  color: #ffffff;
}
.default-refresh .text-disabled {
  color: #8590a2;
}
.default-refresh .text-error-bold {
  color: #ae2a19;
}
.default-refresh .text-warning-bold {
  color: #7f5f01;
}
.default-refresh .text-info-bold {
  color: #0055cc;
}
.default-refresh .text-highlight-bold {
  color: #5004c8;
}
.default-refresh .text-success-bold {
  color: #115735;
}

.dark-refresh .text-default {
  color: #b6c2cf;
}
.dark-refresh .text-bold {
  color: #c7d1db;
}
.dark-refresh .text-subtle {
  color: #8c9bab;
}
.dark-refresh .text-stark {
  color: #ffffff;
}
.dark-refresh .text-inverse-default {
  color: #22272b;
}
.dark-refresh .text-inverse-bold {
  color: #101214;
}
.dark-refresh .text-selected {
  color: #18ab64;
}
.dark-refresh .text-link-default {
  color: #388bff;
}
.dark-refresh .text-link-pressed {
  color: #85b8ff;
}
.dark-refresh .text-link-inverse {
  color: #101214;
}
.dark-refresh .text-disabled {
  color: #596773;
}
.dark-refresh .text-error-bold {
  color: #ff9c8f;
}
.dark-refresh .text-warning-bold {
  color: #f5cd47;
}
.dark-refresh .text-info-bold {
  color: #85b8ff;
}
.dark-refresh .text-highlight-bold {
  color: #c8acf6;
}
.dark-refresh .text-success-bold {
  color: #96eac2;
}

.hide-premium {
  a[href*='/premium'],
  [data-testid*='premium'] {
    display: none !important;
  }

  a[href*='/upgrade'] {
    display: none !important;
  }
}
</style><style><style data-emotion="extn-css" data-s="">.extn-css-pud6r9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;cursor:inherit;}</style><style data-emotion="extn-css" data-s="">.extn-css-1k7qiuy{z-index:1500;}</style><style data-emotion="extn-css" data-s="">.extn-css-1k7qiuy .MuiTooltip-tooltip{border-radius:4px;font-size:12px;text-align:center;padding:8px 16px;font-weight:400;line-height:normal;max-width:20em;background-color:#2c3e5d;-webkit-filter:drop-shadow(0px 2px 1px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.20));filter:drop-shadow(0px 2px 1px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.20));padding:4px;font-size:12px;font-family:'Open Sans',sans-serif;font-weight:400;line-height:16px;color:#172b4d;color:#FFFFFF;}</style><style data-emotion="extn-css" data-s="">.extn-css-1k7qiuy .MuiTooltip-arrow{color:#2c3e5d;}</style><style data-emotion="extn-css" data-s="">.extn-css-njdm88{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:small;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls{z-index:1500;pointer-events:none;z-index:1500;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls[data-popper-placement*="bottom"] .MuiTooltip-arrow{top:0;margin-top:-0.71em;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls[data-popper-placement*="bottom"] .MuiTooltip-arrow::before{transform-origin:0 100%;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls[data-popper-placement*="top"] .MuiTooltip-arrow{bottom:0;margin-bottom:-0.71em;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls[data-popper-placement*="top"] .MuiTooltip-arrow::before{transform-origin:100% 0;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls[data-popper-placement*="right"] .MuiTooltip-arrow{left:0;margin-left:-0.71em;height:1em;width:0.71em;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls[data-popper-placement*="right"] .MuiTooltip-arrow::before{transform-origin:100% 100%;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls[data-popper-placement*="left"] .MuiTooltip-arrow{right:0;margin-right:-0.71em;height:1em;width:0.71em;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls[data-popper-placement*="left"] .MuiTooltip-arrow::before{transform-origin:0 0;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls .MuiTooltip-tooltip{border-radius:4px;font-size:12px;text-align:center;padding:8px 16px;font-weight:400;line-height:normal;max-width:20em;background-color:#2c3e5d;-webkit-filter:drop-shadow(0px 2px 1px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.20));filter:drop-shadow(0px 2px 1px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.20));padding:4px;font-size:12px;font-family:'Open Sans',sans-serif;font-weight:400;line-height:16px;color:#172b4d;color:#FFFFFF;}</style><style data-emotion="extn-css" data-s="">.extn-css-12f2pls .MuiTooltip-arrow{color:#2c3e5d;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d{z-index:1500;pointer-events:none;z-index:1500;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d[data-popper-placement*="bottom"] .MuiTooltip-arrow{top:0;margin-top:-0.71em;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d[data-popper-placement*="bottom"] .MuiTooltip-arrow::before{transform-origin:0 100%;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d[data-popper-placement*="top"] .MuiTooltip-arrow{bottom:0;margin-bottom:-0.71em;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d[data-popper-placement*="top"] .MuiTooltip-arrow::before{transform-origin:100% 0;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d[data-popper-placement*="right"] .MuiTooltip-arrow{left:0;margin-left:-0.71em;height:1em;width:0.71em;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d[data-popper-placement*="right"] .MuiTooltip-arrow::before{transform-origin:100% 100%;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d[data-popper-placement*="left"] .MuiTooltip-arrow{right:0;margin-right:-0.71em;height:1em;width:0.71em;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d[data-popper-placement*="left"] .MuiTooltip-arrow::before{transform-origin:0 0;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d .MuiTooltip-tooltip{border-radius:4px;font-size:12px;text-align:center;padding:8px 16px;font-weight:400;line-height:normal;max-width:20em;background-color:#2c3e5d;-webkit-filter:drop-shadow(0px 2px 1px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.20));filter:drop-shadow(0px 2px 1px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.20));padding:4px;font-size:12px;font-family:'Open Sans',sans-serif;font-weight:400;line-height:16px;color:#172b4d;color:#FFFFFF;}</style><style data-emotion="extn-css" data-s="">.extn-css-1arf74d .MuiTooltip-arrow{color:#2c3e5d;}</style></style><style data-styled="active" data-styled-version="6.1.11">.deimYU{transition:all 0.2s ease-in-out;}.icYrhh{display:flex;justify-content:center;align-items:center;background-color:#8590A2;height:100%;min-height:24px;min-width:24px;border-radius:100%;}.dkUNmA{position:relative;pointer-events:all;width:48px;height:24px;}.ccPGZQ{position:relative;transform:translate(8px, 8px);width:8px;height:8px;left:40px;top:16px;}.kKclYD{background-color:#ffffff;display:flex;border-radius:16px;box-shadow:0px 0px 2px 0px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.12);position:absolute;bottom:0px;right:0px;height:24px;flex-direction:row-reverse;}.fjGrES{width:8px;height:8px;border-radius:50%;cursor:pointer;pointer-events:all;background-color:#008847;position:absolute;bottom:0px;right:0px;}.eZvvCG{width:8px;height:8px;border-radius:50%;cursor:pointer;pointer-events:all;background-color:#8590A2;position:absolute;bottom:0px;right:0px;}.fONRgc{width:8px;height:8px;border-radius:50%;cursor:pointer;pointer-events:all;background-color:#E34935;position:absolute;bottom:0px;right:0px;}</style><div id="qb-toolbar-container" class="styles__OuterContainer-sc-10g6rmm-0 dkUNmA"><div class="styles__Container-sc-10g6rmm-1 kKclYD"><div class="MuiBox-root extn-css-pud6r9" aria-label="Please click to verify you’re human"><span class="MuiBox-root extn-css-njdm88"><div data-qb-paused-enable-btn="true" class="DisableContainer__DisableStyledContainer-sc-wy8x6t-0 icYrhh"><svg fill="none" height="16" viewBox="0 0 17 16" width="17" xmlns="http://www.w3.org/2000/svg" class="ToolbarQuilly__StyledSvg-sc-1axa5ks-0 deimYU"><path clip-rule="evenodd" d="M9.69605 1.78864C9.18767 2.33711 8.33515 3.76792 8.00665 4.94436C7.86587 4.84897 7.70162 4.59461 7.81112 4.10177C7.81112 4.09382 7.90497 3.56919 8.14743 2.99687C8.34376 2.52923 8.44864 2.40396 8.48852 2.35633C8.49948 2.34324 8.50553 2.33602 8.50721 2.32916L8.52286 2.31327H8.54632L8.73403 2.47224C8.74967 2.48019 8.7575 2.45635 8.7575 2.45635L8.62453 2.11454V2.09864C8.74967 1.90787 9.0156 1.55812 9.47706 1.30375C10.0245 1.00169 10.5408 0.993745 10.7676 1.00169H10.7754V1.01759C10.6894 1.43888 10.572 1.78864 10.4704 2.05095C10.4666 2.05949 10.4613 2.072 10.4545 2.08816C10.404 2.20736 10.2693 2.52539 10.0558 2.91738C9.9598 3.09305 9.86378 3.24209 9.78491 3.36451C9.76742 3.39165 9.75077 3.41749 9.73516 3.44201H9.72734L9.29717 3.48176C9.28934 3.48971 9.29717 3.51355 9.29717 3.51355L9.52398 3.63279V3.65663L9.50834 3.68843C9.49636 3.69756 9.46891 3.75009 9.42752 3.82929C9.25267 4.16384 8.8291 4.97429 8.27258 5H14.9423C15.1258 5 15.2754 5.14786 15.2754 5.3291V12.7292C15.2754 12.9105 15.1258 13.0584 14.9423 13.0584H2.60848C2.42504 13.0584 2.27539 12.9105 2.27539 12.7292V5.3291C2.27539 5.14547 2.42262 5 2.60848 5H8.1709C8.45247 3.83946 9.06253 2.73456 9.77426 1.83633L9.80555 1.82043C9.80495 1.81859 9.80434 1.81666 9.80372 1.81466C9.79624 1.79069 9.78568 1.75684 9.73516 1.75684C9.72734 1.75684 9.69605 1.77274 9.69605 1.77274V1.78864ZM5.27563 10.137C4.68186 10.137 4.20153 9.66235 4.20153 9.07565C4.20153 8.48905 4.68186 8.01443 5.27563 8.01443C5.86941 8.01443 6.34973 8.48905 6.34973 9.07565C6.34973 9.65999 5.86941 10.137 5.27563 10.137ZM12.2013 10.137C11.6075 10.137 11.1272 9.66235 11.1272 9.07565C11.1272 8.48905 11.6075 8.01443 12.2013 8.01443C12.7951 8.01443 13.2754 8.48905 13.2754 9.07565C13.2754 9.65999 12.7951 10.137 12.2013 10.137ZM10.862 13.506H6.3078V14.2348H10.862V13.506Z" fill="white" fill-rule="evenodd"></path></svg></div></span></div></div></div></template></qb-div></div></qb-div></qb-toolbar><script src="./代码解析 - Poe_files/3012-29dd0ef8856a121d.js"></script><script src="./代码解析 - Poe_files/1523-c4a7674289a4c282.js"></script><script src="./代码解析 - Poe_files/6639-27addccd8bd5c834.js"></script><script src="./代码解析 - Poe_files/settings-ae4d703376ff810c.js"></script><script src="./代码解析 - Poe_files/creators-1a45fb67b43b2402.js"></script><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open"><style>
      div.grammarly-desktop-integration {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select:none;
        user-select:none;
      }

      div.grammarly-desktop-integration:before {
        content: attr(data-content);
      }
    </style><div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration" data-content="{&quot;mode&quot;:&quot;full&quot;,&quot;isActive&quot;:true,&quot;isUserDisabled&quot;:false}"></div></template></grammarly-desktop-integration></html>