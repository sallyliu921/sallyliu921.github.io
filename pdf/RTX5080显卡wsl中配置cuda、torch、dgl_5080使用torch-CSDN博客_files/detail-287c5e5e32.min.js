function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function setCopyBtn(){$(".CopyToClipboard").each(function(){var e=new ZeroClipboard.Client;e.setHandCursor(!0),e.addEventListener("load",function(e){}),e.addEventListener("mouseOver",function(e){var t=e.movie.parentNode.parentNode.parentNode.parentNode.parentNode.nextSibling.innerHTML;t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),e.setText(t)}),e.addEventListener("complete",function(e,t){alert("代码已经复制到你的剪贴板。")}),e.glue(this,this.parentNode)})}function computePos(){"object"==("undefined"==typeof toolBar?"undefined":_typeof(toolBar))&&(toolBar.setPosX(),toolBar.computePositon())}function getRecommendListUrl(){return null!==getRecommendListUrlArr?getRecommendListUrlArr:(getRecommendListUrlArr=[[],[]],$(".recommend-box div.recommend-item-box").each(function(e,t){if($(t).data("url")){var o=$(t).data("url").toLowerCase().split("://"),n=$(t).data("url").toLowerCase().split("article/details/");getRecommendListUrlArr[0].push(2==o.length?o[1]:o[0]),getRecommendListUrlArr[1].push(2==n.length?"article/details/"+n[1]:n[0])}}),getRecommendListUrlArr)}function baidudatatemp(e,t,o,n){var i="blog",a='<span class="type"><img src="'+blogStaticHost+'dist/components/img/blogType.png" alt=""><span class="tip">博客</span></span>';e.linkUrl.indexOf("download.csdn.net")>-1?(i="download",a='<span class="type"><img src="'+blogStaticHost+'dist/components/img/downloadType.png" alt=""><span class="tip">下载</span></span>'):e.linkUrl.indexOf("edu.csdn.net")>-1&&(i="edu",a='<span class="type"><img src="'+blogStaticHost+'dist/components/img/eduType.png" alt=""><span class="tip">课程</span></span>');var s=highlight.map(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")});10==setBaiduJsCount&&(a=""),s="("+s.join("|")+")";var r=new RegExp(s,"gi"),c=/<[^>]*>/g,l=e["abstract"].replace(c,"").replace(r,"<em>$1</em>"),d=e.dispTime.replace(/^(\d*)-/,""),m=e.linkUrl,p=e.title.replace(c,"").replace(r,"<em>$1</em>"),u=m.split("?")[0].split("/").splice(-1)[0],h='"extra":"{\\"utm_medium\\":\\"distribute.'+baiduSearchChannel+".none-task-"+i+"-2~default~baidujs_"+baiduSearchType+"~default-"+t+"-"+u+"-blog-"+articleId+baiduSearchIdentification+'\\",\\"dist_request_id\\":\\"'+distRequestId+'\\",\\"parent_index\\":\\"'+o+'\\"}",',f='<div class="recommend-item-box baiduSearch clearfix" data-url="'+m+'" data-type="'+i+'" data-report-view=\'{"mod":"popu_387",'+h+'"spm":"1001.2101.3001.4242.'+n+'","dest":"'+m+'","strategy":"2~default~baidujs_'+baiduSearchType+'~default","ab":"new","index":"'+t+'"}\'>\t                <div class="content-box">\t\t                <div class="content-blog display-flex">\t\t\t                  <div class="title-box">'+a+'\t\t\t\t                  <a class="tit" href="'+m+'" target="_blank" data-report-click=\'{"mod":"popu_387",'+h+'"spm":"1001.2101.3001.4242.'+n+'","dest":"'+m+'","strategy":"2~default~baidujs_'+baiduSearchType+'~default","ab":"new","index":"'+t+'"}\' data-report-query="utm_medium=distribute.'+baiduSearchChannel+".none-task-"+i+"-2~default~baidujs_"+baiduSearchType+"~default-"+t+"-"+u+"-blog-"+articleId+baiduSearchIdentification+"&spm=1001.2101.3001.4242."+n+'">\t\t\t\t\t                <div class="left ellipsis-online ellipsis-online-1">'+p+'</div>\t\t\t\t                  </a>\t\t\t                  </div>                    <div class="info-box display-flex">                      <div class="info display-flex">                        <span class="info-block">'+d+'</span>                      </div>                    </div>                  </div>                  <div class="desc-box">                    <a href="'+m+'" target="_blank" data-report-click=\'{"mod":"popu_387",'+h+'"spm":"1001.2101.3001.4242.'+n+'","dest":"'+m+'","strategy":"2~default~baidujs_'+baiduSearchType+'~default","ab":"new","index":"'+t+'"}\' data-report-query="utm_medium=distribute.'+baiduSearchChannel+".none-task-"+i+"-2~default~baidujs_"+baiduSearchType+"~default-"+t+"-"+u+"-blog-"+articleId+baiduSearchIdentification+"&spm=1001.2101.3001.4242."+n+'">                      <div class="desc ellipsis-online ellipsis-online-1">'+l+"</div>                    </a>                  </div>                </div>              </div>";return f}function showDownRecommend(e){if(isGitCodeBlog)return!1;var t=highlight.map(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")});t="("+t.join("|")+")";var o=new RegExp(t,"gi"),n=/<[^>]*>/g,i=e.linkUrl,a=e.title.replace(n,"").replace(o,"<em>$1</em>"),s='<div class="recommend_down">  相关资源：<a class="recommend_down_link" href="'+i+'?spm=1001.2101.3001.5697" target="_blank" data-report-view=\'{"mod":"1612247418_001","spm":"1001.2101.3001.5697","dest":"'+i+'","extend1":"pc"}\' data-report-click=\'{"mod":"1612247418_001","spm":"1001.2101.3001.5697","dest":"'+i+'","extend1":"pc"}\'>'+a+"</a>  </div>";$("#recommendDown").html(s)}function showResult(e,t){var o=[],n=recommendRegularDomainArr||["blog.csdn.net/.+/article/details/","download.csdn.net/download/","edu.csdn.net/course/detail/"],i=new RegExp(n.join("|"));if(!e||e.length<=0)return!1;if(e&&e.length>0){for(var a=0;a<e.length;a++)e[a].noRepeatTit=e[a].title.split("_")[0].replace(/[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、<em></em>&quot;]/g,"").replace(/\s/g,"").toLowerCase();for(var a=0;a<e.length;a++)for(var s=a+1;s<e.length;s++)e[a].noRepeatTit==e[s].noRepeatTit&&(e.splice(s,1),s--)}if(e&&e.length>0)for(var r=[],a=0;a<e.length;a++)if(e[a].linkUrl.split("?")[0].toLowerCase().indexOf(curentUrl.split("://")[2==curentUrl.split("://").length?1:0].toLowerCase())===-1&&i.test(e[a].linkUrl)&&""!==e[a].title){var c=e[a].linkUrl.split("?")[0].split("//"),l=2==c.length?c[1]:c[0],d="";l=l.replace(/\/$/,"");var m=e[a].linkUrl.split("?")[0].replace("/",""),p=e[a].title.split("_")[0].replace(/[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、<em></em>&quot;]/g,"").replace(/\s/g,"").toLowerCase();if(2==l.split("article/details/").length){var u=l.split("article/details/")[1];u=u.replace("/",""),d=u,u&&r.indexOf(u)===-1&&(r.push(u),m="article/details/"+u)}$.inArray(l.toLowerCase(),getRecommendListUrl()[0])==-1&&$.inArray(m.toLowerCase(),getRecommendListUrl()[1])==-1&&$.inArray(d,getRecommendListUrl()[1])==-1&&a<10&&p!==articleTitleContent&&articleId!=d&&t!==e[a].linkUrl&&o.push(e[a])}var h=$(".insert-baidu-box").children().not("script").not("dl"),f="",g=0,v=0,b=1;o=o.slice(0,setBaiduJsCount),(!baiduCount||baiduCount<=0)&&(baiduCount=2);for(var a=isBaiduPre?0:baiduCount;a<h.length;a+=baiduCount){for(var s=a;s<a+baiduCount;s++)if(isBaiduPre?o[s]:o[s-baiduCount]){var w=isBaiduPre?2*baiduCount*v-1>0?2*baiduCount*v:0:2*baiduCount*v+baiduCount,x=$(".insert-baidu-box .recommend-item-box").eq(w),y=0;$(x).children().length&&$(x).find("a.tit").attr("data-report-click")&&(y=JSON.parse($(x).find("a.tit").attr("data-report-click")).index),f+=baidudatatemp(isBaiduPre?o[s]:o[s-baiduCount],isBaiduPre?a+s:s+v*baiduCount,y,b),b+=1}$(h[a]).length&&($(h[a]).after(f),v+=1),f="",g=v*baiduCount}if(g<o.length){var k=(isBaiduPre?2*v-1:2*v)*baiduCount+(h.length-1)%baiduCount;if(h.length&&$(h[h.length-1]).find("a.tit")&&$(h[h.length-1]).find("a.tit").attr("data-report-click"))var y=JSON.parse($(h[h.length-1]).find("a.tit").attr("data-report-click")).index;else var y=0;for(var a=g;a<o.length;a++)$(".insert-baidu-box").append(baidudatatemp(o[a],k,y,b)),b+=1,k+=1,g+=1}}function getQueryIdx(){var e=$("div[class^='recommend-item-box type_'],div.recommend-item-box.baiduSearch");$(e).each(function(e,t){var o=$(t).find("a"),n=o.attr("data-report-query");n+="&utm_relevant_index="+(e+1),o.attr("data-report-query",n)})}function reportTop10(){var e=Array.from(document.querySelectorAll(".recommend-box .recommend-item-box.clearfix")).slice(0,10),t=e.map(function(e){return e.dataset.url}),o={spm:"1018.2226.3001.8548",extra:{urlList:t}};window.csdn&&window.csdn.report&&window.csdn.report.reportView(o)}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZeroClipboard={version:"1.0.7",clients:{},moviePath:"https://csdnimg.cn/public/highlighter/ZeroClipboard.swf",nextId:1,$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.hide=function(){this.style.display="none"},e.show=function(){this.style.display="block"},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){for(var t=this.className.split(/\s+/),o=-1,n=0;n<t.length;n++)t[n]==e&&(o=n,n=t.length);return o>-1&&(t.splice(o,1),this.className=t.join(" ")),this},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))},e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,o){var n=this.clients[e];n&&n.receiveEvent(t,o)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e,t){for(var o={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};e&&e!=t;)o.left+=e.offsetLeft,o.top+=e.offsetTop,e=e.offsetParent;return o},Client:function(e){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),e&&this.glue(e)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(e,t,o){this.domElement=ZeroClipboard.$(e);var n=99;this.domElement.style.zIndex&&(n=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof t?t=ZeroClipboard.$(t):"undefined"==typeof t&&(t=document.getElementsByTagName("body")[0]);var i=ZeroClipboard.getDOMObjectPosition(this.domElement,t);this.div=document.createElement("div");var a=this.div.style;if(a.position="absolute",a.left=""+i.left+"px",a.top=""+i.top+"px",a.width=""+i.width+"px",a.height=""+i.height+"px",a.zIndex=n,"object"==("undefined"==typeof o?"undefined":_typeof(o)))for(addedStyle in o)a[addedStyle]=o[addedStyle];t.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height)},getHTML:function(e,t){var o="",n="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var i=location.href.match(/^https/i)?"https://":"http://";o+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+i+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+n+'"/><param name="wmode" value="transparent"/></object>'}else o+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+n+'" wmode="transparent" />';return o},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(t){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=ZeroClipboard.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=ZeroClipboard.getDOMObjectPosition(this.domElement),o=this.div.style;o.left=""+t.left+"px",o.top=""+t.top+"px"}},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var o=this;return void setTimeout(function(){o.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var o=this;return setTimeout(function(){o.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0,this.movie.setText(this.clipText),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var n=0,i=this.handlers[e].length;n<i;n++){var a=this.handlers[e][n];"function"==typeof a?a(this,t):"object"==("undefined"==typeof a?"undefined":_typeof(a))&&2==a.length?a[0][a[1]](this,t):"string"==typeof a&&window[a](this,t)}}},$(document).ready(function(){$(".article_content pre").each(function(){var e=$(this);if(void 0!=e.attr("class")){if(e.attr("class").indexOf("brush:")!=-1){var t=e.attr("class").split(";")[0].split(":")[1];e.attr("name","code"),e.attr("class",t)}e.attr("class")&&e.attr("name","code")}}),$(".article_content textarea[name=code]").each(function(){var e=$(this);e.attr("class").indexOf(":")!=-1&&e.attr("class",e.attr("class").split(":")[0])}),window.clipboardData||setTimeout("setCopyBtn()",500)}),function(e){function t(e,t){var o=t-e+1;return Math.floor(Math.random()*o+e)}e.fn.extend({selection:function(){var t="",o=this[0];if(document.selection){var n=document.selection.createRange();t=n.text}else if("number"==typeof o.selectionStart){var i=o.selectionStart,a=o.selectionEnd;i!=a&&(t=o.value.substring(i,a))}return e.trim(t)},parseHtml:function(t){var o=this[0],n=e(this).val();if(document.selection){var i=document.selection.createRange();i.text?i.text=t:e(this).val(n+t)}else if("number"==typeof o.selectionStart){var a=o.selectionStart,s=o.selectionEnd,r=n.substring(0,a),c=n.substring(s);e(this).val(r+t+c)}else e(this).val(n+t);o.selectionStart=o.selectionEnd=e(this).val().length,o.focus()}});var o=e("div.pulllog-box");o.find("button.btn-close").click(function(){o.remove()}),o.find(".pulllog-login").click(function(e){getCookie("UserName")?window.location.reload():(window.csdn.loginBox.show(),e.preventDefault())});var n=function(t){function o(){i.indexOf("windows ")>-1?e("body").css({overflow:"auto","margin-left":"0"}):e("body").css({overflow:"auto"}),e(".imgViewDom").fadeOut(300)}t=t?t:"#content_views";var n=e(t+" img:not(.contentImg-no-view)"),i=navigator.userAgent.toLowerCase();if(0===n.length)return!1;for(var a="",s=0;s<n.length;s++){var r=n[s];a+='<div class="swiper-slide"><img src="'+r.src+'"/></div>'}if(0===e(".imgViewDom").length){e("body").append('<div class="imgViewDom">        <div class="swiper">          <a class= "close-btn">            <img src="'+blogStaticHost+'dist/pc/img/quoteClose1White.png">          </a>          <div class="swiper-wrapper">'+a+'</div>          <div class="swiper-button-prev"></div>          <div class="swiper-button-next"></div>        </div>      </div>');var c=new Swiper(".imgViewDom .swiper",{autoplay:!1,loop:!1,mousewheel:!0,keyboard:{enabled:!0,pageUpDown:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});e(".swiper-wrapper").on("click",function(){o()}),e(".imgViewDom a.close-btn").on("click",function(){o()}),e(document).keyup(function(t){if("none"!==e(".imgViewDom").css("display")){var n=t||event,i=n.which||n.keyCode;27==i&&o()}}),e(".imgViewDom").click(function(t){0===e(".imgViewDom>.swiper").has(t.target).length&&o()})}return c};window.CSDNviewImg=n,window.csdn=window.csdn||{},window.csdn.random_num=t}(jQuery),$(function(){function e(e){if(l&&r){var t=$(window).height(),o=$(document).scrollTop(),i=e.offset().top,a=e.height();i<o+t&&i+a>o&&(n(e),r=!1)}}function t(e){return'<a target="_blank" href="'+e.clickUrl+'">                    <div class="ad-top">                        <div class="ad-top-tit">                            <span class="ad-top-topic">'+e.title+'</span>                            <span class="ad-top-type">'+e.titleRight+'</span>                            <span class="ad-top-num">'+e.topCenter+'</span>                        </div>                        <div class="ad-top-tag">                            <span class="ad-top-count">'+e.topRightNumber+'</span>                            <span class="ad-top-text">'+e.topRight+'</span>                        </div>                    </div>                    <div class="ad-con">                        <div class="ad-con-tit">'+e.introTitle+'</div>                        <div class="ad-con-box">                            <span class="ad-con-txt">'+e.intro+'</span>                            <span class="ad-con-go">'+e.buttonText+"</span>                        </div>                    </div>                </a>"}function o(o){if(o)var n={authorUserName:username,contentKey:articleTitle,pageSpm:JSON.parse(articleReport).spm,positions:542};else var n={authorUserName:username,contentKey:articleTitle,pageSpm:JSON.parse(articleReport).spm,positions:544};$.ajax({type:"GET",url:"https://kunpeng.csdn.net/ad/json/list",dataType:"json",data:n,xhrFields:{withCredentials:!0},success:function(n){200==n.code&&n.data.length?(l="articleContentAd",o?$("#content_views").append("<div id="+l+">"+t(n.data[0])+"</div>"):$(i[Math.floor(a/2)]).after("<div id="+l+">"+t(n.data[0])+"</div>"),c=n.data[0].exposureUrl,e($("#"+l))):l=""},error:function(e){l=""}})}function n(e){e.append('<img src="'+c+'" style="display:none;width:0px;height:0px" alt="">')}var i=$("#content_views").children(),a=i.length,s=$("#content_views").height(),r=!0,c="",l="";if(4===articleSource&&a>8&&s>300){var d=(null!=(_ref1=/(; )?(uuid_tt_dd|_javaeye_cookie_id_)=([^;]+)/.exec(window.document.cookie))?_ref1[3]:void 0)||"",m=d?d.substring(d.length-6)%16:0;o(m<=7)}$(document).on("scroll",function(){e($("#"+l))}),a>contentViewsCount&&s>contentViewsHeight}),$(function(){function e(e,t,o){clearTimeout(d),document.selection?l=document.selection.createRange().text:window.getSelection()&&(l=window.getSelection()),l=l.toString().replace(/\n/g,"").trim();var a=!0;if(""!=l){(l.length<=2||$.isNumeric(l)||null!==n(l)||null!==i(l))&&(a=!1);var s="//so.csdn.net/so/search?spm=1001.2101.3001.6607&from=pc_blog_select&q="+encodeURIComponent(l.toString()),r='<div id="articleSearchTip" class="article-search-tip">          '+(a?'<a class="article-href article-search" href="'+s+'" target="_blank" ><img src="'+blogStaticHost+'dist/pc/img/newarticleSearchWhite.png"><span class="article-text">搜索</span></a>':"")+'          <a class="article-href article-aichat"><img src="'+blogStaticHost+'dist/pc/img/newarticleChatWhite.png"><span class="article-text">AI提问</span></a>          <a data-report-click=\'{"spm":"3001.6773"}\' class="article-href article-comment" href="javascript:;" data-type="comment"><img src="'+blogStaticHost+'dist/pc/img/newarticleComment1White.png"><span class="article-text">评论</span></a>          <a class="article-href cnote" href="javascript:;" data-type="cnote"><img src="'+blogStaticHost+'dist/pc/img/newcNoteWhite.png"><span class="article-text">笔记</span></a>          </div > ';$("body").append(r),$(document).off("click","#articleSearchTip .article-search"),$(document).on("click","#articleSearchTip .article-search",function(){window.csdn&&window.csdn.report&&window.csdn.report.reportClick({spm:"3001.6607",extra:JSON.stringify({searchword:l.toString()})})}),window.csdn&&window.csdn.report&&window.csdn.report.reportView({spm:"3001.10112",extra:JSON.stringify({searchword:l.toString()})}),$(document).off("click","#articleSearchTip .article-aichat"),$(document).on("click","#articleSearchTip .article-aichat",function(){var e=window.csdn.report.getFullSpm("3001.10112"),t="https://ai.csdn.net/?utm_source=cknow_pc_ai_blog_article_aisearch&q="+encodeURIComponent(l.toString())+"&submit=1&spm="+e;window.csdn&&window.csdn.report&&window.csdn.report.reportClick({spm:"3001.10112",dest:t,extra:JSON.stringify({searchword:l.toString()})});var o=document.createElement("a");o.style.display="none",o.href=t,o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o)}),window.csdn.report&&"function"==typeof window.csdn.report.reportView&&(window.csdn.report.reportView({spm:"3001.6607",extra:JSON.stringify({searchword:l.toString()})}),window.csdn.report.reportView({spm:"3001.6773"})),$("#articleSearchTip").css({top:o.pageY-t-8,left:e})}}function t(e){var t='<div class="git-hub-box" data-report-view=\'{"spm":"3001.9232"}\' id="git-hub-box-bt">        <div class="git-hub-top">          <div class="git-hub-info">            <p class="info"> <img src="https://gitcode.net/uploads/-/system/appearance/favicon/1/icon.png" alt=""> <span class="text" title="'+e.format_path+'">'+e.format_path+'</span></p>            <p class="next">已加入 <span class="tag">GitHub加速计划</span> </p>          </div>          <div class="git-hub-btn">            <p id="git-hub-link" data-report-click=\'{"spm":"3001.9234"}\'>查看项目</p>          </div>        </div>        <div class="git-hub-bottom">          <div class="git-hub-desc">            '+e.description+'          </div>          <div class="git-hub-newnps">            <span>'+e.language+'</span>            <p><img src="https://img-home.csdnimg.cn/images/20230307102412.png" alt=""><span>'+e.star_count+'</span></p>            <p><img src="https://img-home.csdnimg.cn/images/20230307102356.png" alt=""><span>'+e.fork_count+"</span></p>            <span>"+e.updated_at_format+"更新</span>          </div>        </div>      </div>";return t}function o(e,o,n){$.ajax({url:"https://web-api.gitcode.com/api/v1/search/nauth/project/card",type:"get",data:{url:e},xhrFields:{crossDomain:!0,withCredentials:!0},success:function(i){200==i.status&&i.data&&!$.isEmptyObject(i.data)?($("body").append(t(i.data)),"none"===$(".git-hub-box").css("display")&&$(".git-hub-box").show(),m=e,$(".git-hub-box").css({top:o+"px",left:n+"px"}),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportView({spm:"3001.9232"}),$(".git-hub-box").click(function(e){window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"3001.9232"});var t="https://link.csdn.net?from_id="+articleId+"&target="+encodeURIComponent(i.data.link);window.open(t)}),$("#git-hub-download").click(function(e){window.open(i.data.download_url)}),$(".git-hub-box").mouseleave(function(){$(".git-hub-box").hide(),u=!1}),$(".git-hub-box").mouseenter(function(){u=!0})):m=""},error:function(e){m=""}})}function n(e){var t="(https?|http|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]";return s=e.match(t),s}function i(e){var t=/[Γ∫∞​∀∈∋N∏∑ϕ⎡⎤⇒⇏⟹⇑⇓⇕⨿%†‡…⋯◯△▽⪇≦≰≨≯⋍≂≅≆∮]/g;return s=e.match(t),s}function a(e){var t=$("#commentQuote"),o=$("#pcCommentSideBox"),n='<span class="comment-quote-bar"></span>'+e+'<span data-report-click=\'{"spm":"3001.6774"}\' class="comment-quote-close"><img src="'+blogStaticHost+"dist/pc/img/quoteClose1"+skinStatus+'.png"></span>';t.length?t.html(n):(o.prepend('<div id="commentQuote" class="comment-quote">'+n+"</div>"),$("#commentSideBoxshadow").fadeIn()),$("input.bt-comment-show").trigger("click")}var r=0,c=0,l="",d=null;$("#content_views").mouseup(function(t){$(".article-search-tip").remove();var o=t.pageY-c,n=Math.min(t.pageX,r);return Math.abs(n)<=5&&Math.abs(o)<=5?(clearTimeout(d),!1):(o=o>0?o:0,clearTimeout(d),void(d=setTimeout(function(){e(n,o,t)},1e3)))}).mousedown(function(e){r=e.pageX,c=e.pageY,l="",$(".git-hub-box").hide(),$("#articleSearchTip").remove()});var m="",p=0,u=!1,h=null;$(document).on("mouseenter mouseleave","#article_content a",function(e){if("mouseenter"==e.type){var t=$(this).offset().top+20,n=$(this).offset().left;$(this).offset().top-p>246&&(t=$(this).offset().top-226),clearTimeout(h),$(this).attr("href").indexOf("github.com")==-1&&$(this).attr("href").indexOf("gitcode.com")==-1||(m!==$(this).attr("href")?($(".git-hub-box").length>=1&&$(".git-hub-box").remove(),o($(this).attr("href"),t,n)):($(".git-hub-box").show(),$(".git-hub-box").css({top:t+"px",left:n+"px"})))}else"mouseleave"==e.type&&(h=setTimeout(function(){u||$(".git-hub-box").hide()},300))}),$(window).scroll(function(){p=$(window).scrollTop()}),$(document).on("click",".article-href",function(e){var t=$(this).data("type");if(void 0!==t)switch(t){case"comment":if(getCookie("UserName"))if(l.toString().length){var o=$("#csdn-toolbar").height(),n=$(document).scrollTop();n<52&&(o=2*o),a(l.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;")),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}else $("#articleSearchTip").remove(),showToast({text:"选中内容为空，请重新选中",bottom:"10%",zindex:9e3,speed:500,time:1500});else window.csdn.loginBox.show();break;case"cnote":if(getCookie("UserName"))if(l.toString().length){l=l.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;");var i=new Date,s=i.getMonth()+1,r=i.getDate(),c=i.getFullYear()+"年"+s+"月"+r+"日",d={noteTabName:"博客笔记",topicTitle:"博客摘录「 "+articleTitle+"」 "+c,content:articleDetailUrl?"文章来源：<a href='"+articleDetailUrl+"'>"+articleDetailUrl+"</a><br/>":"",source:{hostname:"blog.csdn.net",url:articleDetailUrl,title:articleTitle,selection:l}};$.ajax({url:"https://note-ccloud.csdn.net/v1/community/content/sendNote",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(d),xhrFields:{withCredentials:!0},success:function(e){},error:function(e){}});var m=articleTitle;articleTitle&&articleTitle.length>=80&&(m=articleTitle.slice(0,77)+"..."),blogApiAxios({article_id:"",title:"博客摘录「 "+m+"」"+c,description:"",content:"<p>"+l+"</p>\n",type:"original",status:2,read_type:"public",authorized_status:!1,check_original:!1,source:"pc_postedit",not_auto_saved:1,cover_type:1,vote_id:0,scheduled_time:0,is_new:1,tags:"笔记"}),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}else $("#articleSearchTip").remove(),showToast({text:"选中内容为空，请重新选中",bottom:"10%",zindex:9e3,speed:500,time:1500});else window.csdn.loginBox.show()}}),$(document).on("click",".comment-quote-close",function(e){var t=$("#commentQuote");t.animate({height:0},300,function(){t.remove()})})}),window.apiOpenEditor=function(e){showToast({text:"请稍后再试",bottom:"10%",zindex:9e3,speed:500,time:2e3})},function(){function e(e){o.hasClass("no-login")||($("div.article_content").removeAttr("style"),0==$(".column-mask").length&&$(".hide-article-box").hide(),o.hasClass("fans_read_more")&&($("#btnAttent").hasClass("attented")||e.originalEvent&&($(".tool-attend").trigger("click"),window.csdn.report.reportClick({mod:"popu_376",spm:"1001.2101.3001.4248",extend1:"粉丝登录阅读更多"}))))}function t(t,o){var n=($(window).height(),$("div.article_content")),i=n.height();$("#btn-readmore").attr("height",o),i>2e3?(n.css({height:"2000px",overflow:"hidden"}),t.click(e)):t.parent().hide()}0!=$(".btn-readmore").length&&$("#content_views").find("pre").each(function(e,t){t=$(t),t.addClass("set-code-show")});var o=$(".btn-readmore");$(".vipmaskclassname").length<=0&&(o.length>0||$(".vip-mask").length>0?currentUserName?t(o,3):t(o,2):0==$(".column-mask").length&&$(".hide-article-box").addClass("hide-article-style"));var n=window.location.hash,i=RegExp(/\#/);n.match(i)&&($(".btn-readmore").parent().hide(),$("div.article_content").removeAttr("style")),window.csdn=window.csdn?window.csdn:{},window.csdn.clearReadMoreBtn=e}(),$(function(){function e(){var e=$(".recommend-ask-box").find("a.btn-link-toask").data("href");e=e?e:$(".recommend-ask-box").find(".btn-gochat").data("href");var t=$(".recommend-ask-box").find("#txtChat").val();t=t&&t.length?t.trim():$(".recommend-ask-box").find("a.btn-link-toask").data("defaultvalue"),t=t?t:$(".recommend-ask-box").find("#txtChat").data("defaultvalue");var o=document.createElement("a");o.style.display="none",o.href=e+"&query="+encodeURIComponent(t),o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o)}$(".recommend-ask-box").find("#txtChat").on("keyup",function(t){var o=t.which||t.keyCode;13===o&&e()}),$(".recommend-ask-box").find(".btn-gochat").on("click",function(){e()}),$(".recommend-ask-box").find(".btn-link-toask").on("click",function(){e()})}),$(function(){function e(){var e=document.getElementById("blogAiChat");if(e){var t=aiSideSegment===-1?"640px":"calc(100vh - 56px)",a='<iframe allow="clipboard-write; clipboard-read; autoplay; camera; microphone; fullscreen; geolocation; encrypted-media; midi; payment; usb; accelerometer; gyroscope; magnetometer; screen-wake-lock; xr-spatial-tracking; web-share; display-capture"\n class="side-chat-iframe" src="'+m+'" style="height: '+t+';border-radius: 12px;border: 1px solid rgba(0, 0, 0, 0.15);"></iframe>',s='<div class="ins-code-runner-btn" id="chatBtnRun" style="display: none;" data-spm="3001.10926"></div>',r=canRead?"":'<div class="not-allow-use"></div>';e.innerHTML=a+s+r,aiSideSegment>-1&&o(),canRead||$(e).find(".not-allow-use").click(function(){var e=window.csdn.report.getFullSpm("3001.10948");return n("UserName")?void i(e):void window.csdn.loginBox.show({spm:e})})}}function t(){var e=document.querySelector("#rightAside");if(!e)return!1;var t=window.getComputedStyle(e);if("none"===t.display||"hidden"===t.visibility||0===parseFloat(t.opacity))return!1;var o=e.getBoundingClientRect();if(0===o.width||0===o.height)return!1;if(!e.children.length&&!e.textContent.trim())return!1;var n=e.parentElement;if(n){var i=window.getComputedStyle(n);if("none"===i.display||"hidden"===i.visibility)return!1}return!0}function o(){var e=function(){window.csdnblog&&window.csdnblog.rightSidesSlideScroll&&window.csdnblog.rightSidesSlideScroll();var e=document.getElementById("csdn-toolbar");if(e){var t=e.offsetHeight+8,o=document.getElementById("blogAiChat").querySelector("iframe");o&&(o.style.height="calc(100vh - "+t+"px)")}};e();var t=window&&"ResizeObserver"in window;if(t){var o=document.getElementById("csdn-toolbar");if(o){var n=new ResizeObserver(e);n.observe(o)}}else window.jQuery&&window.$&&window.$(document).on("toolbarHeightChange",e)}function n(e){for(var t=document.cookie.split("; "),o=0;o<t.length;o++){var n=t[o].split("=");if(e==n[0])return n[1]}return null}function i(e,t){if(window.VipPayment){var o=new VipPayment({sourceOptions:{from:"csdn-blog",spm:e}});o.show()}else a({sourceOptions:{from:"csdn-blog",spm:e}},t)}function a(e,t){var o="singleBuy"===t?"vipPaymentBlog":"vipPaymentV2";new Promise(function(e){var t=document.createElement("script");t.type="module",blogUrl.indexOf("lblog.csdn.net")>-1||blogUrl.indexOf("test-blog-web.csdn.net")>-1||location.search.indexOf("_env=test")>-1?t.src="https://devbit-static.oss-cn-beijing.aliyuncs.com/vipBusiness/"+o+".js?_t="+(new Date).getTime():t.src="https://csdnimg.cn/release/vip-business-components/"+o+".js?_t="+(new Date).getTime(),document.body.append(t),t.onload=e}).then(function(){var t=new VipPayment(e);t.show()})}function s(){var e=document.createElement("style");e.type="text/css",
e.innerHTML='\n    .ai-side-box {\n      position: relative;\n    }\n    .not-allow-use {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      z-index: 1000;\n    }\n    .chat-summary-box {\n      width: 640px;\n      height: 788px;\n      position: absolute;\n      border-radius: 12px;\n      border: 1px solid rgba(0, 0, 0, 0.15);\n      box-shadow: 0 8px 24px 0 rgba(0, 0, 0, 0.10);\n      overflow:hidden;\n      background-color: #fff;\n      z-index: 1000;\n      opacity: 0;\n      transform: translateX(100%);\n      transition: all .3s ease-in-out;\n    }\n    .chat-summary-box.show {\n      transform: translateX(-100%);\n      opacity: 1;\n    }\n    .chat-summary-box .title-info {\n      display: flex;\n      aligin-items: center;\n      padding: 16px 12px;\n      border-radius: 12px 12px 0 0;\n      background: #FFF;\n      box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.10);\n    }\n    .chat-summary-box .title-info button{\n      margin-left: auto;\n      display: block;\n      font-size: 24px;\n      font-weight: 400;\n      border:none;\n      background:transparent;\n      cursor:pointer;\n      color:#1A1A1A;\n      font-family: "PingFang SC";\n      width: 24px;\n      text-align: center;\n    }\n    .chat-summary-box .content-box{\n      height: 100%;\n    }\n    .chat-summary-box .content-box iframe{\n      width: 100%;\n      height: calc(100% - 59px);\n      border: none;\n    }\n  ',document.getElementsByTagName("head")[0].appendChild(e)}function r(e){$(".chat-summary-box").remove();var t="https://app-blog.csdn.net/blog-detail-summary/"+articleId+"?url="+encodeURIComponent(articleDetailUrl),o='\n      <div class="chat-summary-box">\n        <div class="title-info" style="position:relative;color: #222226;font-size: 16px;font-weight: 600;line-height: 22px;">\n          '+e+'\n          <button>\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M12 13.5916L19.4545 21.0461L21.0455 19.4551L13.591 12.0006L21.0455 4.54607L19.4545 2.95508L12 10.4096L4.54546 2.95508L2.95447 4.54607L10.409 12.0006L2.95447 19.4551L4.54546 21.0461L12 13.5916Z" fill="#1A1A1A"/>\n            </svg>\n          </button>\n        </div>\n        <div class="content-box">\n          <iframe allow="clipboard-write; clipboard-read; autoplay; camera; microphone; fullscreen; geolocation; encrypted-media; midi; payment; usb; accelerometer; gyroscope; magnetometer; screen-wake-lock; xr-spatial-tracking; web-share; display-capture" src="'+t+'"></iframe>\n        </div> \n      </div>\n    ',n=$("#blogAiChat").offset(),i=$(o);i.css({top:n.top+"px",left:n.left-8+"px"}),$(i).find("button").click(function(){$("#blogAiChat iframe")[0].contentWindow.postMessage({type:"close_summary"},"*"),i.removeClass("show"),setTimeout(function(){i.remove()},500)}),$("body").append(i),setTimeout(function(){i.addClass("show")},200)}function c(e){if(e.origin.indexOf("app-blog.csdn.net")===-1)return!1;if(e&&e.data&&e.data.type)switch(console.log("收到iframe消息:",e.data.type,e),e.data.type){case"show_login":window.csdn.loginBox.show();break;case"show_summary":r(e.data.data.title);break;case"hide_summary":$(".chat-summary-box").find("button").trigger("click");break;case"show_project":$("#chatBtnRun").trigger("click");break;case"get_article_info":$("#blogAiChat iframe")[0].contentWindow.postMessage({type:"set_article_info",data:{articleTitle:articleTitle}},"*")}}function l(){console.log("initChat"),p&&(p=!1,s(),e(),window.addEventListener("message",c))}if(!isGitCodeBlog){var d=(null!=(_ref1=/(; )?(uuid_tt_dd|_javaeye_cookie_id_)=([^;]+)/.exec(window.document.cookie))?_ref1[3]:void 0)||"",m=(d?d.substring(d.length-6)%16:0,"https://app-blog.csdn.net/blog-detail-ai/"+articleId+"?skinStatus="+skinStatus+"&theme=dark"),p=!0,u=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting?(console.log("元素进入视口"),l()):(console.log("元素离开视口"),$(".chat-summary-box").find("button").trigger("click"))})},{threshold:.1,rootMargin:"0px"}),h=document.querySelector("#rightAside");window.onresize=function(){t()&&l()},t()?l():h&&u.observe(h)}}),$(function(){function e(e){e.list&&e.list.length&&($.each(e.list,function(e,t){var o="",n="";articleId==t.articleId&&(o="active"),t.preView&&(n='<span class="try-read">试读</span>'),i.columnlistStr+='<div class="columnlist-list-item" title="'+t.title+'"><a href="'+t.url+'" class="columnlist-list-href" data-report-view=\'{"spm":"3001.6326"}\' data-report-click=\'{"spm":"3001.6326"}\'><span class="text '+o+'">'+t.title+"</span>"+n+"</a></div>"}),e.total-e.page*e.size>0?(i.columnPage+=1,i.columnlistStr+='<p class="look-more-article active">查看更多<img class="look-more-img" src="'+blogStaticHost+"dist/pc/img/newLookMore1"+skinStatus+'.png" title="查看更多"></p>'):i.columnlistStr+='<p class="look-more-article">暂无更多内容</p>',$(document).find(i.columnlistHeight).append(i.columnlistStr),i.columnlistStr="")}function t(e,t,o,n){$.ajax({type:"GET",url:blogUrl+e,dataType:"json",xhrFields:{withCredentials:!0},data:t,success:function(e){200==e.code&&o(e.data)},error:function(e){}})}function o(e,t){if(getCookie("UserName")){var o=blogUrl+"phoenix/web/v1/subscribe/subscribe";$.ajax({url:o,type:"post",dataType:"json",data:e,xhrFields:{withCredentials:!0},success:function(e){200===e.code&&(e.data.status&&showToast({text:e.data.msg,bottom:"10%",zindex:9003,speed:500,time:1500}),t.removeClass("articleColumnFreeBt").html("已订阅"))}})}else window.csdn.loginBox.show({spm:"1001.2101.3001.8607"})}function n(e,t,o){if($(document).find(e).length){var n=$(document).find(e).outerHeight(!0),i=$(document).find(t).outerHeight(!0),a=$(document).find(o).outerHeight(!0);$(document).find(o).css({height:n-i+a})}}var i={columnlistBox:"#columnlistBox",columnlistClose:".columnlist-close",columnlistContent:".columnlist-content-box",columnlistHeight:".columnlist-list-box",columnlistShow:$(".bt-columnlist-show"),columnlistShadow:$(".directory-boxshadow"),columnlistItem:$(".column-group"),columnlistUrl:"phoenix/web/v1/column/article-list",columnId:"",columnPage:1,columnlistStr:""};i.columnlistItem.on("click",function(e){$(this).children().length>1&&!$(e.target).is(".item-target")&&($(this).hasClass("open")?($(this).removeClass("open"),$(this).find(".dec").show()):($(this).addClass("open"),$(this).find(".dec").hide()))});var a="";studyLearnWord&&(a='<span class="column_studyvip_free-active">'+studyLearnWord+"</span>"),i.columnlistShow.on("click",function(o){i.columnId=$(this).data("id");var s="",r="",c="",l="",d="",m="";isOwner||($(this).data("free")?s=$(this).data("subscribe")?'<a class="columnlist-con-btn article-column-subscribe">已订阅</a>':'<a class="columnlist-con-btn columnlist-con-subscribe articleColumnFreeBt" data-id="'+$(this).data("id")+'">订阅专栏</a>':($(this).data("join")?$(this).data("studyvip")?$(this).data("subscribe")?s='<a class="columnlist-con-btn article-column-subscribe">已订阅</a>            <a class="column-studyvip-discount column-studyvip-pass" data-report-view=\'{"spm":"3001.6331"}\' data-report-click=\'{"spm":"3001.6331"}\'>8折续费 '+a+"</a>":(s='<a data-report-view=\'{"spm":"3001.6328","extend1":"会员已订阅"}\' data-report-click=\'{"spm":"3001.6328","extend1":"会员已订阅"}\' style="'+($(this).data("studysubscribe")?"display:inline-block":"display:none")+'" data-type="true" class="columnlist-con-btn article-column-subscribe" data-id="'+$(this).data("id")+'">              会员已订阅            </a>',s+='<a data-report-view=\'{"spm":"3001.6328","extend1":"会员免费订"}\' data-report-click=\'{"spm":"3001.6328","extend1":"会员免费订"}\' style="'+($(this).data("studysubscribe")?"display:none":"display:inline-block")+'" data-type="false" class="column-studyvip-free studyvip-unsubscribe column-studyvip-ajax" data-id="'+$(this).data("id")+'">              <img class="column-studyvip-icon" src="'+blogStaticHost+'dist/components/img/studyVipIcon.png">会员免费订            </a>',s+=$(this).data("studysubscribe")?'<a class="column-studyvip-discount column-studyvip-pass" data-report-view=\'{"spm":"3001.6330"}\' data-report-click=\'{"spm":"3001.6330"}\'>8折续费 '+a+"</a>":'<a class="column-studyvip-discount column-studyvip-pass" data-report-view=\'{"spm":"3001.6329"}\' data-report-click=\'{"spm":"3001.6329"}\'>8折续费 '+a+"</a>"):s=$(this).data("subscribe")?'<a class="columnlist-con-btn article-column-subscribe">已订阅</a>            <a class="column-studyvip-free column-studyvip-pass" data-report-view=\'{"spm":"3001.6327"}\' data-report-click=\'{"spm":"3001.6327"}\'>              <img class="column-studyvip-icon" src="'+blogStaticHost+'dist/components/img/studyVipIcon.png">超级会员免费看              '+a+"            </a>":'<a class="columnlist-con-btn columnlist-con-subscribe articleColumnBt" data-id="'+$(this).data("id")+'" data-price="'+$(this).data("price")+'" data-oldprice="'+$(this).data("oldprice")+'" data-report-view=\'{"spm":"3001.6324"}\' data-report-click=\'{"spm":"3001.6324"}\'>订阅专栏</a>            <a class="column-studyvip-free column-studyvip-pass" data-report-view=\'{"spm":"3001.6325"}\' data-report-click=\'{"spm":"3001.6325"}\'>              <img class="column-studyvip-icon" src="'+blogStaticHost+'dist/components/img/studyVipIcon.png">超级会员免费看              '+a+"            </a>":s=$(this).data("subscribe")?'<a class="columnlist-con-btn article-column-subscribe">已订阅</a>':'<a class="columnlist-con-btn columnlist-con-subscribe articleColumnBt" data-id="'+$(this).data("id")+'" data-sum="'+$(this).data("sum")+'" data-people="'+$(this).data("people")+'" data-hotrank="'+$(this).data("hotrank")+'" data-price="'+$(this).data("price")+'" data-oldprice="'+$(this).data("oldprice")+'" data-report-view=\'{"spm":"3001.6324"}\' data-report-click=\'{"spm":"3001.6324"}\'>订阅专栏</a>',r='<div class="columnlist-con-price">¥'+$(this).data("price")+"</div>")),$(this).data("free")||$(this).data("status")||$(this).data("subscribe")||(s='<p class="article-column-off-shelf">已下架不支持订阅</p>',r=""),l='<div class="columnlist-head">                  <div class="columnlist-head-l">                      <a href="'+$(this).data("url")+'" target="_blank"><img class="columnlist-head-img" src="'+$(this).data("img")+'" alt=""></a>                  </div>                  <div class="columnlist-head-r">                      <div class="columnlist-head-tit"><a href="'+$(this).data("url")+'" target="_blank">'+$(this).data("title")+'</a></div>                      <div class="columnlist-head-con">                          <span>'+$(this).data("sum")+" 篇文章</span>                          <span>"+$(this).data("people")+" 订阅</span>                      </div>                  </div>                </div>",d='<div class="columnlist-con">                  <div class="columnlist-con-autor">作者：'+nickName+"</div>"+r+'<div class="columnlist-con-bt">                      <a class="columnlist-con-btn columnlist-con-look" target="_blank" href="'+$(this).data("url")+'" data-report-view=\'{"spm":"3001.6323"}\' data-report-click=\'{"spm":"3001.6323"}\'>查看详情</a>'+s+"</div>                </div>",m='<div class="columnlist-list">                <div class="columnlist-list-tit">专栏目录</div>                <div class="columnlist-list-box"></div></div>',c='<div class="columnlist-box" id="columnlistBox">                <div class="columnlist-content-box">                <div class="columnlist-content">'+l+d+m+'</div>                <div class="columnlist-close">                    <img src="'+blogStaticHost+"dist/pc/img/nerClose"+skinStatus+'.png" alt="">                </div>                </div>              </div>',$("body").append(c),i.columnlistShadow.fadeIn(function(){$("html,body").addClass("forbidden-htmlbody-scroll"),$(document).find(i.columnlistBox).addClass("open"),n(i.columnlistBox,i.columnlistContent,i.columnlistHeight)}),t(i.columnlistUrl,{columnId:i.columnId,page:i.columnPage},e,i.columnlistBox);var p=o||window.event;p.stopPropagation?p.stopPropagation():p.cancelBubble=!0}),i.columnlistShadow.click(function(){$(i.columnlistClose).trigger("click")}),$(document).on("click",i.columnlistClose,function(){$(document).find(i.columnlistBox).removeClass("open"),i.columnlistShadow.fadeOut(function(){$("html,body").removeClass("forbidden-htmlbody-scroll"),$(document).find(i.columnlistBox).remove(),i.columnPage=1,i.columnId="",i.columnlistStr=""})}),$(document).on("click","#columnlistBox .look-more-article",function(o){if($(this).hasClass("active")){$(this).fadeOut(function(){$(this).remove()}),t(i.columnlistUrl,{columnId:i.columnId,page:i.columnPage},e,i.columnlistBox);var n=o||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}}),$(document).on("click",".articleColumnFreeBt",function(e){var t=$(this).data("id");o({columnId:t},$(this));var n=e||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}),$(window).resize(function(){n(i.columnlistBox,i.columnlistContent,i.columnlistHeight)})}),$(function(){function e(){var e="",t="",o="",n="",i="",a="",c="";isOwner||(s.columnInfoDom.data("free")?e=s.columnInfoDom.data("subscribe")?'<a class="columnlist-con-btn article-column-subscribe">已订阅</a>':'<a class="columnlist-con-btn columnlist-con-subscribe articleColumnFreeBt" data-id="'+s.columnInfoDom.data("id")+'">订阅专栏</a>':s.columnInfoDom.data("join")?s.columnInfoDom.data("studyvip")?s.columnInfoDom.data("subscribe")?e='<a class="columnlist-con-btn article-column-subscribe">已订阅</a>            <a class="column-studyvip-discount column-studyvip-pass" data-report-view=\'{"spm":"1001.2101.3001.6331"}\' data-report-click=\'{"spm":"1001.2101.3001.6331"}\'>8折续费 '+r+"</a>":(e='<a data-report-view=\'{"spm":"1001.2101.3001.6328","extend1":"会员已订阅"}\' data-report-click=\'{"spm":"1001.2101.3001.6328","extend1":"会员已订阅"}\' style="'+(s.columnInfoDom.data("studysubscribe")?"display:inline-block":"display:none")+'" data-type="true" class="columnlist-con-btn article-column-subscribe" data-id="'+s.columnInfoDom.data("id")+'">              会员已订阅            </a>',e+='<a data-report-view=\'{"spm":"1001.2101.3001.6328","extend1":"会员免费订"}\' data-report-click=\'{"spm":"1001.2101.3001.6328","extend1":"会员免费订"}\' style="'+(s.columnInfoDom.data("studysubscribe")?"display:none":"display:inline-block")+'" data-type="false" class="column-studyvip-free studyvip-unsubscribe column-studyvip-ajax" data-id="'+s.columnInfoDom.data("id")+'">              <img class="column-studyvip-icon" src="'+blogStaticHost+'dist/components/img/studyVipIcon.png">会员免费订            </a>',e+=s.columnInfoDom.data("studysubscribe")?'<a class="column-studyvip-discount column-studyvip-pass" data-report-view=\'{"spm":"1001.2101.3001.6330"}\' data-report-click=\'{"spm":"1001.2101.3001.6330"}\'>8折续费 '+r+"</a>":'<a class="column-studyvip-discount column-studyvip-pass" data-report-view=\'{"spm":"1001.2101.3001.6329"}\' data-report-click=\'{"spm":"1001.2101.3001.6329"}\'>8折续费 '+r+"</a>"):e=s.columnInfoDom.data("subscribe")?'<a class="columnlist-con-btn article-column-subscribe">已订阅</a>            <a class="column-studyvip-free column-studyvip-pass" data-report-view=\'{"spm":"1001.2101.3001.6327"}\' data-report-click=\'{"spm":"1001.2101.3001.6327"}\'>              <img class="column-studyvip-icon" src="'+blogStaticHost+'dist/components/img/studyVipIcon.png">超级会员免费看              '+r+"            </a>":'<a class="columnlist-con-btn columnlist-con-subscribe articleColumnBt" data-id="'+s.columnInfoDom.data("id")+'" data-price="'+s.columnInfoDom.data("price")+'" data-oldprice="'+s.columnInfoDom.data("oldprice")+'" data-report-view=\'{"spm":"1001.2101.3001.6324"}\' data-report-click=\'{"spm":"1001.2101.3001.6324"}\'>订阅专栏</a>            <a class="column-studyvip-free column-studyvip-pass" data-report-view=\'{"spm":"1001.2101.3001.6325"}\' data-report-click=\'{"spm":"1001.2101.3001.6325"}\'>              <img class="column-studyvip-icon" src="'+blogStaticHost+'dist/components/img/studyVipIcon.png">超级会员免费看              '+r+"            </a>":e=s.columnInfoDom.data("subscribe")?'<a class="columnlist-con-btn article-column-subscribe">已订阅</a>':'<a class="columnlist-con-btn columnlist-con-subscribe articleColumnBt" data-id="'+s.columnInfoDom.data("id")+'" data-sum="'+s.columnInfoDom.data("sum")+'" data-people="'+s.columnInfoDom.data("people")+'" data-hotrank="'+s.columnInfoDom.data("hotrank")+'" data-price="'+s.columnInfoDom.data("price")+'" data-oldprice="'+s.columnInfoDom.data("oldprice")+'" data-report-view=\'{"spm":"1001.2101.3001.6324"}\' data-report-click=\'{"spm":"1001.2101.3001.6324"}\'>订阅专栏</a>');var l=s.columnInfoDom.data("hotrank");l&&0!==l&&(t='<span class="rank"><img src="'+blogStaticHost+'dist/pc/img/columnHotIcon2.png" alt="">该专栏为热销专栏榜&nbsp;第'+l+"名</span>");var d=s.columnInfoDom.data("description").toString();d&&d.length>0&&(o='<div class="columnlist-con-desc">'+d+"</div>"),s.columnInfoDom.data("free")||s.columnInfoDom.data("status")||s.columnInfoDom.data("subscribe")||(e='<p class="article-column-off-shelf">已下架不支持订阅</p>'),i='<div class="columnlist-head">                  <div class="columnlist-head-l">                      <a href="'+s.columnInfoDom.data("url")+'" target="_blank"><img class="columnlist-head-img" src="'+s.columnInfoDom.data("img")+'" alt=""></a>                  </div>                  <div class="columnlist-head-r">                      <div class="columnlist-head-tit"><a href="'+s.columnInfoDom.data("url")+'" target="_blank">'+s.columnInfoDom.data("title")+'</a></div>                      <div class="columnlist-head-con">                          <span>'+s.columnInfoDom.data("sum")+" 篇文章</span>                          <span>"+s.columnInfoDom.data("people")+" 订阅</span>                      </div>                  </div>                </div>",a='<div class="columnlist-con">'+t+o+'<div class="columnlist-con-bt">'+e+"</div>                </div>",c='<div class="columnlist-list">                <div class="columnlist-list-tit">专栏目录</div>                <div class="columnlist-list-box"></div></div>',n='<div class="columnlist-box" id="columnlistRightBox">                <div class="columnlist-content-box">                <div class="columnlist-content">'+i+a+c+"</div>                </div>              </div>",s.asideColumnInfoDom.append(n)}function t(e){e.list&&e.list.length&&($.each(e.list,function(e,t){var o="",n="";articleId==t.articleId&&(o="active"),t.preView&&(n='<span class="try-read">试读</span>'),s.columnlistStr+='<div class="columnlist-list-item" title="'+t.title+'"><a href="'+t.url+'" class="columnlist-list-href" data-report-query="spm=3001.10138.'+e+'" data-report-view=\'{"spm":"1001.2101.3001.10138.'+e+'"}\' data-report-click=\'{"spm":"1001.2101.3001.10138.'+e+'"}\' ><span class="text '+o+'">'+t.title+"</span>"+n+"</a></div>"}),e.total-e.page*e.size>0?(s.columnPage+=1,s.columnlistStr+='<p class="look-more-article active">查看更多<img class="look-more-img" src="'+blogStaticHost+"dist/pc/img/newLookMore1"+skinStatus+'.png" title="查看更多"></p>'):s.columnlistStr+='<p class="look-more-article">暂无更多内容</p>',s.asideColumnInfoDom.find(s.columnlistHeight).append(s.columnlistStr),s.columnlistStr="")}function o(){e(),n(s.columnlistUrl,{columnId:s.columnInfoDom.data("id"),page:s.columnPage},t),$(document).on("click",".column-info-container .look-more-article",function(e){if($(this).hasClass("active")){$(this).fadeOut(function(){$(this).remove()}),n(s.columnlistUrl,{columnId:s.columnInfoDom.data("id"),page:s.columnPage},t);var o=e||window.event;o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}}),$("#recommend-right").prepend(s.asideColumnInfoDom),i(s.asideColumnInfoDom,s.columnlistContent,s.columnlistHeight)}function n(e,t,o){$.ajax({type:"GET",url:blogUrl+e,dataType:"json",xhrFields:{withCredentials:!0},data:t,success:function(e){200==e.code&&o(e.data)},error:function(e){}})}function i(e,t,o){if(e.length){var n=e.outerHeight(!0),i=$(e).find(t).outerHeight(!0),a=$(e).find(o).outerHeight(!0);$(e).find(o).css({height:n-i+a})}}function a(e){for(var t=document.cookie.split("; "),o=0;o<t.length;o++){var n=t[o].split("=");if(n[0]==e&&"UD"==e)return decodeURIComponent(n[1]);if(n[0]==e)return decodeURI(n[1])}}var s={asideColumnInfoDom:$('<div class="aside-box column-info-container d-flex flex-column"></div>'),columnlistHeight:".columnlist-list-box",columnlistContent:".columnlist-content-box",columnlistUrl:"phoenix/web/v1/column/article-list",columnInfoDom:$(".bt-columnlist-show"),columnPage:1,columnlistStr:""},r="";studyLearnWord&&(r='<span class="column_studyvip_free-active">'+studyLearnWord+"</span>"),window.csdn?window.csdn:window.csdn={},window.csdn.loadRightColumn=function(){$.ajax({type:"GET",url:blogUrl+"/phoenix/web/v1/ab",dataType:"json",xhrFields:{withCredentials:!0},data:{id:380,key:a("uuid_tt_dd")},success:function(e){if(200==e.code&&"control"!==e.data){var t=$("#recommend-right").children();t.each(function(e,t){$(t).hasClass("kind_person")||"asideArchive"!==!$(t).attr("id")||$(t).remove()}),o()}else window.csdn.report&&"function"==typeof window.csdn.report.reportView&&window.csdn.report.reportView({spm:"3001.10139"})},error:function(e){}})}}),$(function(){function e(){this.rewardSettingJson=null,this.rewardInfo={name:"",sendAmount:"",money:""},this.minSendAmount=10,this.minMoney=5,this.availableAmount=0,this.presetTitle=[],this.currentRedEnvolope=null,this.hasShowGuideBottom=getCookie("hasShowRRGuideBottom"),this.hasShowGuideSide=getCookie("hasShowRRGuideSide"),this.redEnvolope=$("#redEnvolope"),this.formRewardBox=$(".comment-reward-box"),this.dialogRewardModal=$(".comment-rewarddialog-box"),this.commentRewardForm=this.dialogRewardModal.find("#commentRewardForm"),this.txtName=this.commentRewardForm.find("#txtName"),this.txtSendAmount=this.commentRewardForm.find("#txtSendAmount"),this.txtMoney=this.commentRewardForm.find("#txtMoney"),this.getSetting()}function t(){this.commentForm=$("#commentform"),this.txtComment=$("#comment_content"),this.commentCountObj=this.commentForm.find("em"),this.commtCode=$("#commentCode"),this.domLi="",this.btnShowMore=$("#btnMoreComment"),this.commentBox=$("div.comment-list-box"),this.commentBoxDefault=$("div.has-comment-con"),this.commentPagination=$("#commentPage"),this.commentLineBox="",this.commentTxt=$("#comment_replyId"),this.cancelBtn=this.commentForm.find(".btn-cancel"),this.articleId=$("article_id"),this.curH=0,this.pageCount=0,this.pageIndex=1,this.curFloor=1,this.commentCount=0,this.commentPageObj=null,this.commentFontLimit=1e3,this.firstLoad=!0,this.pageSize=10,this.showAll=!1,this.commentFold={pageSize:10,pageIndex:1,pageCount:0,total:0,fold:"fold"},this.lookBadComment=$("#lookBadComment"),this.lookUnFlodComment=$("#lookUnFlodComment"),this.commentUnFold={pageSize:10,pageIndex:1,pageCount:0,total:0,fold:"unfold"},this.lookFlodComment=$("#lookFlodComment"),this.lookGoodComment=$("#lookGoodComment"),this.isCommentFold=!1,this.initHotComment=!0,this.bindBtnFoldMore(),this.commentFoldTextareaStr(),this.initTxt(),this.init(),this.bindBtn(),this.bindTxt(),this.commentCode(),this.comment(),this.lookMoreComment(),this.lookMoreFlodComment(),this.gosideComment(),this.commentSideTitClose(),this.cancelBtnBindEvent(),this.getPagination=function(e){var t=e,o=function(o,n){o&&(o.list&&0==o.list.length&&e-1>=1&&(t=e-1,n.commentPageObj.go(t),1==t&&$("#commentPage").hide()),n.pageCount=o.pageCount,n.commentCount=o.floorCount,n.commentPageObj.render({count:o.floorCount,current:t}),n.renderData(o.list))};this.getData(t,o)},this.bindLikedClick(),this.bindRedRewardClick()}function o(){if(!getCookie("UserName")&&commentListModule)return window.csdn.loginBox.show(),!1}function n(e){username===e.userName?window.isBloger='<span class="is_bloger comment_status_tip">作者</span>':window.isBloger=""}function i(){$("pre.code2").each(function(e,t){hljs.highlightBlock(t),hljs.getLines(t.innerHTML).length>1?hljs.lineNumbersBlock(t):hljs.lineNumbersBlock(t,{singleLine:!0}),$(t).removeClass("code2")})}function a(){$(document).on("click",".comment-reward-item",function(e){if(!getCookie("UserName"))return window.csdn.loginBox.show(),!1;var t=$(this).data("id");w.showRedEnvolope(t)})}function s(){$(document).on("click",".comment-like",function(e){if(!getCookie("UserName"))return window.csdn.loginBox.show(),!1;var t=$(this).hasClass("liked")?"undigg":"digg",o=$(this).data("commentid"),n=this,i={articleId:articleId,commentId:o};$.ajax({url:blogUrl+"phoenix/web/v1/comment/"+t,type:"post",dataType:"json",data:i,xhrFields:{withCredentials:!0},success:function(e){var t=$(n).find("span").text()?parseInt($(n).find("span").text()):0;if($(n).hasClass("liked")){var o=t-1;o=o>0?o:"",$(n).removeClass("liked"),$(n).find(".unclickImg").css("display","inline-block"),$(n).find(".clickedImg").css("display","none"),$(n).find("span").text(o).css("color","#999AAA"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.6253",extend1:'{"praise":0}'})}else $(n).addClass("liked"),$(n).find(".unclickImg").css("display","none"),$(n).find(".clickedImg").css("display","inline-block"),$(n).find("span").text(t+1).css("color","#FC5531"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.6253",extend1:'{"praise":1}'});$(n).parents(".right-box").children(".comment-like").html($(n).html()),$(".comment-like-img-hover").css("display","none")}})})}function r(e){var t="";return 0==e.length?"":(t=e.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"))}function c(){for(var e="",t=1;t<=72;t++){var o="";o=t<10?"00"+t:t>=10&&t<100?"0"+t:t,e+='<img class="emoticon-monkey-img" data-emoticon="[face]emoji:'+o+'.png[/face]" src="https://g.csdnimg.cn/static/face/emoji/'+o+'.png">'}return e}function l(e){var t=window.location.href.split(e)[1];return null!=t?t:""}var d="https://liveapi.csdn.net/";e.prototype.bindInit=function(){var e=this;this.rewardInfo.money=this.rewardSettingJson["default"].variables.DEFAULT_AMOUNT,this.rewardInfo.sendAmount=this.rewardSettingJson["default"].variables.DEFAULT_NUM;var t=$(".guide-rr-first");t.remove();var o=$(".rr-guide-box");o.remove();var n=function(t,o){var n=t.parents(".ipt-box"),i=n.find(".notice"),a=t.val().trim();if(0===a.length)"sendAmount"===o?i.text("请输入红包数量"):"money"===o&&i.text("红包金额最低"+e.minMoney+"元"),n.addClass("error");else{var s=!0;"sendAmount"===o?parseInt(a)<e.minSendAmount&&(i.text("红包个数最小为"+e.minSendAmount+"个"),s=!1):"money"===o&&(parseFloat(a)<e.minMoney?(i.text("红包金额最低"+e.minMoney+"元"),e.commentRewardForm.find(".balance-info-box").removeClass("error"),e.commentRewardForm.find(".link-charge").text("前往充值 >"),s=!1):parseFloat(a)>parseFloat(e.availableAmount)?(e.commentRewardForm.find(".balance-info-box").addClass("error"),e.commentRewardForm.find(".link-charge").text("余额不足请充值")):(e.commentRewardForm.find(".balance-info-box").removeClass("error"),e.commentRewardForm.find(".link-charge").text("前往充值 >"))),s?n.removeClass("error"):n.addClass("error");var r=e.txtSendAmount.parents(".ipt-box"),c=e.txtSendAmount.val(),l=e.txtMoney.val();if(c&&parseFloat(l)>=5&&parseFloat(.1*c).toFixed(2)>parseFloat(l)){var d=Math.floor(parseFloat(l)/.1);r.find(".notice").text("红包个数范围为"+e.minSendAmount+"-"+d+"个"),r.addClass("error")}else parseInt(c)>10&&r.removeClass("error")}},i=function(e,t,o){var n=e.indexOf(t),i="";return n===-1?e:"-"===t&&0!==n?e.slice(0,n):("."===t&&e.match(/^(\.|-\.)/)&&(i=n?"-0":"0"),i+e.slice(0,n+1)+e.substr(n+1,2).replace(o,""))},a=function(e,t){e=t?i(e,".",/\./g):e.split(".")[0];var o=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(o,"")},s=function(){var t=e.txtName.val(),o=e.txtSendAmount.val(),n=e.txtMoney.val();""!==t&&""!==o&&""!==n&&0===e.commentRewardForm.find(".ipt-box.error,.balance-info-box.error").length?(e.commentRewardForm.find(".btn-submit").removeAttr("disabled"),e.commentRewardForm.find(".pay-info").find(".price").text(parseFloat(n).toFixed(2)),e.commentRewardForm.find(".pay-info").show()):(e.commentRewardForm.find(".btn-submit").attr("disabled",!0),e.commentRewardForm.find(".pay-info").hide())};this.txtName.val(this.rewardInfo.name),this.commentRewardForm.find(".btn-random").click(function(){e.randomTitle()}),this.dialogRewardModal.find("a.btn-form-close").click(function(){e.hideRewardForm()}),this.commentRewardForm.find("input:text").keyup(function(){var e=$(this).attr("name");"sendAmount"===e?$(this).val(a($(this).val(),!1)):"money"===e&&$(this).val(a($(this).val(),!0)),n($(this),e),s()}),this.commentRewardForm.find("input:text").blur(function(){var e=$(this).attr("name");n($(this),e),s()}),this.formRewardBox.find(".btn-remove-reward").click(function(){e.formRewardBox.hide(),e.rewardInfo={name:"",sendAmount:"",money:""},e.txtName.val(e.rewardSettingJson["default"].defaultTitle),e.txtSendAmount.val(""),e.txtMoney.val(""),e.commentRewardForm.find(".error").removeClass("error")}),this.commentRewardForm.find(".btn-submit").click(function(){e.rewardInfo.name=e.txtName.val(),e.rewardInfo.sendAmount=e.txtSendAmount.val(),e.rewardInfo.money=e.txtMoney.val(),e.formRewardBox.find(".info").text(e.rewardInfo.name);var t=new Number(e.rewardInfo.money).toFixed(2);e.formRewardBox.find(".price").text(t+"元"),e.formRewardBox.show(),e.dialogRewardModal.hide()}),this.commentRewardForm.find(".btn-cancel").click(function(){e.hideRewardForm()})},e.prototype.getSetting=function(){var e=this;$.get("https://img-home.csdnimg.cn/data_json/jsconfig/redPacket.json",function(t){e.rewardSettingJson=t,e.rewardInfo.name=t["default"].defaultTitle,e.presetTitle=t["default"].presetTitle,e.bindInit(),e.formRewardBox.css(t["default"].redCardSty),e.redEnvolope.find(".top").css(t["default"].preOpenSty),e.redEnvolope.find(".red-openbtn").css(t["default"].preOpenBtnSty),e.redEnvolope.find("footer").css(t["default"].preFooterSty),e.redEnvolope.find("a.rule").attr("href",t.blog.ruleUrl)})},e.prototype.getRedPacketVerifyBatch=function(){var e=$(".comment-reward-item[data-uncheck='1']");if(e.length>0){for(var t=[],o=0;o<e.length;o++)t.push($(e[o]).data("id"));$.ajax({type:"GET",url:d+"mp/live-gift/wrapper/v1/redpacket/verify/batch",dataType:"json",data:{orderNoList:t.join(","),username:currentUserName},xhrFields:{withCredentials:!0},success:function(e){if(200==e.code){var t=e.data.records;if(t&&t.length>0)for(var o=0;o<t.length;o++){var n=t[o],i=$('.comment-reward-item[data-id="'+n.orderNo+'"]');i.removeAttr("data-uncheck"),i.attr("data-status",n.status)}}},error:function(){showToast({text:"用户信息获取失败，请重试。",bottom:"10%",zindex:9e3,speed:500,time:2e3})}})}},e.prototype.getUserAmount=function(e){var t=this;$.ajax({type:"GET",url:d+"mp/live-gift/wrapper/v1/wallet/balance",xhrFields:{crossDomain:!0,withCredentials:!0},success:function(o){200==o.code?(t.availableAmount=o.data.availableAmount,t.commentRewardForm.find(".balance").text(o.data.availableAmount),""!==t.rewardInfo.sendAmount&&""===t.txtSendAmount.val()&&(t.txtSendAmount.val(t.rewardInfo.sendAmount).attr("placeholder","请填写红包数量(最小"+t.minSendAmount+"个)"),t.txtSendAmount.trigger("blur")),""!==t.rewardInfo.money&&""===t.txtMoney.val()&&(t.txtMoney.val(t.rewardInfo.money).attr("placeholder","请填写总金额(最低"+t.minMoney+"元)"),t.txtMoney.trigger("blur")),e()):showToast({text:"用户信息获取失败，请重试。",bottom:"10%",zindex:9e3,speed:500,time:2e3})},error:function(){showToast({text:"用户信息获取失败，请重试。",bottom:"10%",zindex:9e3,speed:500,time:2e3})}})},e.prototype.showRewardForm=function(){var e=this;this.getUserAmount(function(){e.dialogRewardModal.show()})},e.prototype.hideRewardForm=function(){var e=this;e.txtName.val(e.rewardInfo.name),e.txtSendAmount.val(e.rewardInfo.sendAmount),e.txtMoney.val(e.rewardInfo.money),e.dialogRewardModal.hide()},e.prototype.randomTitle=function(){var e=this,t=e.presetTitle.filter(function(t){return t!==e.rewardInfo.name}),o=t[Math.floor(Math.random()*t.length)];return e.txtName.val(o),e.rewardInfo.name=o,e.txtName.trigger("blur"),o},e.prototype.getReceiveList=function(e,t){var o=this;$.ajax({type:"GET",url:d+"mp/live-gift/wrapper/v1/redpacket/receivedInfos",
data:{orderNo:e},dataType:"json",xhrFields:{withCredentials:!0},success:function(n){if(200==n.code){o.currentRedEnvolope=n.data;var i=$('.comment-reward-item[data-id="'+e+'"]');i.attr("data-status",n.data.redPacketStatus),o.buildRedEnvolopeHtml(e,n.data,t)}else showToast({text:n.message,bottom:"10%",zindex:9e3,speed:500,time:2e3})},error:function(){showToast({text:"红包信息获取失败，请重试。",bottom:"10%",zindex:9e3,speed:500,time:2e3})}})},e.prototype.buildRedEnvolopeHtml=function(e,t,o){var n=this,i=t.redPacketInfo,a=this.redEnvolope.find("#preOpen");a.find(".clearTpaErr").attr("src",i.creatorAvatar),a.find(".author").text(i.title),a.find(".red-openbtn").off("click"),a.find(".red-openbtn").on("click",function(){n.receiveRedPacket(e)});var s=this.redEnvolope.find("#opened");s.find(".creatorUrl").attr("href","https://blog.csdn.net/"+i.creatorUserName),s.find(".clearTpaErr").attr("src",i.creatorAvatar);var r=i.creatorNickName?i.creatorNickName:i.creatorUserName;s.find(".author > .tt").text(r),s.find(".author > .tt").data("creatorUserName",i.creatorUserName);var c='<a href="'+this.rewardSettingJson.blog.ruleUrl+'" class="rule" target="_blank">红包规则</a>',l="";switch(t.redPacketStatus){case"received":l='<div class="my-receive">'+t.currentUserReceivedInfo.receivedMoney+'</div>          <div div class="wallet-msg">已放入你的CSDN钱包，<a href="https://i.csdn.net/#/wallet/index" target="_blank">            点击查看            </a>          </div>          <div class="receive-msg">已领取'+i.receivedAmount+"/"+i.totalAmount+"个，共"+i.receivedMoney+"/"+i.totalMoney+"元</div>"+c;break;case"completed":l='<div class="receive-msg">          <span>'+i.totalAmount+"个红包，"+i.completeTimeInterval+"被抢光</span>        </div>"+c;break;case"expired":l='<div class="receive-msg">          <span>该红包已过期，</span>已领取'+i.receivedAmount+"/"+i.totalAmount+"个，共"+i.receivedMoney+"/"+i.totalMoney+"元</div>"+c}s.find(".receive-box header").html(l);var d=function(e){return e=e<10?"0"+e:e},m=function(e){var t=new Date(e);return d(t.getMonth()+1)+"-"+d(t.getDate())+" "+d(t.getHours())+":"+d(t.getMinutes())};if(t.receivedInfos&&t.receivedInfos.length>0){for(var p="",u=0;u<t.receivedInfos.length;u++){var h=t.receivedInfos[u],f="completed"!==t.redPacketStatus&&"expired"!==t.redPacketStatus||!h.lucky?"":'<img class="best" src="'+blogStaticHost+'dist/pc/img/best.png" title="手气最佳">';p+='<div class="user-item">          <div class="user-info">            <a href="https://blog.csdn.net/'+h.receiverUserName+'" target="_blank">              <img src="'+h.receiverAvatar+'" alt="" />            </a>            <div class="u-info">              <div class="name">'+h.receiverNickName+'</div>              <div class="time">'+m(h.receiveTime)+'</div>            </div>          </div>          <div class="money">            <span>'+h.receivedMoney+"元</span>"+f+"</div>        </div>"}s.find(".receive-box .receive-list").html(p)}o()},e.prototype.receiveRedPacket=function(e){var t=this.redEnvolope.find("#preOpen"),o=this.redEnvolope.find("#opened"),n=this;t.find(".red-openbtn").addClass("rotate-start"),$.ajax({type:"POST",url:d+"mp/live-gift/v1.0/redPacket/receiveRedPacket",contentType:"application/json; charset=utf-8",headers:{requestID:(new Date).getTime(),xappid:"pc_blog",xdeviceid:"pc_blog"},data:JSON.stringify({orderNo:e,username:currentUserName}),xhrFields:{withCredentials:!0},success:function(i){if(500===i.code)showToast({text:i.message,bottom:"10%",zindex:9e3,speed:500,time:2e3}),t.find(".red-openbtn").removeClass("rotate-start");else{200!==i.code&&i.message&&(400108103===i.code?showToast({html:i.message+"<a style='color: #4ea1db;text-decoration: underline;' href='https://bbs.csdn.net/?type=4&header=0&utm_source=empty_dialog' target='_blank'>更多红包</a>",bottom:"10%",zindex:9e3,speed:500,time:2e3}):showToast({text:i.message,bottom:"10%",zindex:9e3,speed:500,time:2e3}));var a=o.find(".author > .tt").data("creatorUserName");username!==currentUserName&&a!==username&&($("#btnAttent").hasClass("attented")||(window.followByRR=!0,$("#btnAttent").trigger("click"))),n.getReceiveList(e,function(){setTimeout(function(){t.find(".red-openbtn").addClass("red-hidebtn"),t.find(".top").addClass("slide-top"),t.find("footer").addClass("slide-bottom"),setTimeout(function(){t.css("display","none"),o.css("display","flex"),t.find(".top").removeClass("slide-top"),t.find("footer").removeClass("slide-bottom"),t.find(".red-openbtn").removeClass("rotate-start").removeClass("red-hidebtn")},800)},800)})}},error:function(){showToast({text:"请求失败，请重试",bottom:"10%",zindex:9e3,speed:500,time:2e3})}})},e.prototype.showRedEnvolope=function(e){var t=this;this.getReceiveList(e,function(){"received"!==t.currentRedEnvolope.redPacketStatus&&"expired"!==t.currentRedEnvolope.redPacketStatus&&"completed"!==t.currentRedEnvolope.redPacketStatus||(t.redEnvolope.find("#preOpen").hide(),t.redEnvolope.find("#opened").css("display","flex")),t.redEnvolope.show(),t.redEnvolope.find(".close-btn").one("click",function(){t.redEnvolope.hide(),t.redEnvolope.find("#preOpen").removeAttr("style"),t.redEnvolope.find("#opened").removeAttr("style")})})};'<ul class="comment-list">                <li class="comment-line-box">                <div style="display: flex;width: 100%;">                <a target="_blank" href="'+blogUrl+username+'">                <img src="'+avatar+'" username="'+username+'" alt="'+username+'" class="avatar">                </a>                <div class="right-box "><div class="new-info-box clearfix">                <a target="_blank" href="'+blogUrl+username+'"><span class="name ">'+nickName+'<img class="is_bloger" src="'+blogStaticHost+'dist/components/img/bloger@2x.png"></span></a><span class="colon">:</span><span class="floor-num"></span><span class="new-comment">这篇文章对你有帮助吗？作为一名程序工程师，在评论区留下你的困惑或你的见解，大家一起来交流吧！</span>                </div></div></div></li></ul>','<img class="read-reply-img" src="'+blogStaticHost+'dist/pc/img/replyComment.png">';t.prototype.lookMoreComment=function(){var e=this;$(document).on("click","#lookGoodComment",function(t){e.getPagination(e.commentUnFold.pageIndex)})},t.prototype.lookMoreFlodComment=function(){var e=this;$(document).on("click","#lookBadComment",function(t){e.getFoldList(e.commentFold)})},t.prototype.gosideComment=function(){$(document).on("click",".go-side-comment",function(){getCookie("UserName")||commentListModule?($("#commentSideBoxshadow").fadeIn(),$(this).hasClass("focus")&&$("#comment_content").focus()):window.csdn.loginBox.show()})},t.prototype.commentSideTitClose=function(){var e=this;$(document).on("click",".comment-side-tit-close",function(t){t.target.className.indexOf("comment-side-tit-close")>-1&&($("#commentSideBoxshadow").fadeOut(function(){e.isCommentFold&&(e.isCommentFold=!1,e.commentUnFold.pageIndex=1,e.getPagination(e.commentUnFold.pageIndex),$("#pcFlodCommentSideBox").hide(),$("#pcCommentSideBox").show(),$("#pcFlodCommentSideBox .comment-fold-content").html(""))}),$("#commentQuote").remove())}),$(document).keyup(function(e){var t=e.which,o=$("#commentSideBoxshadow");27==t&&"block"==o.css("display")&&($(e.target).is("#comment_content")||o.trigger("click"))})},t.prototype.getData=function(e,t){if(!getCookie("UserName")&&!commentListModule)return!1;var o=this;o.pageIndex=void 0!==e?e:o.pageIndex;var n=null,i="&commentId="+h;o.pageIndex>1&&(i=""),$.ajax({url:blogUrl+"phoenix/web/v1/comment/list/"+articleId+"?page="+o.pageIndex+"&size="+o.pageSize+"&fold=unfold"+i,type:"post",xhrFields:{withCredentials:!0},success:function(e){200===e.code&&(n=e.data,n&&(o.curFloor=n.floorCount-(o.pageIndex-1)*o.pageSize,o.commentUnFold.pageIndex+=1,o.commentUnFold.pageCount=n.pageCount,o.commentUnFold.total=n.floorCount,o.commentFold.total=n.foldCount,o.commentUnFold.pageIndex>o.commentUnFold.pageCount?(o.lookGoodComment.hide(),o.commentFold.total>0?o.lookFlodComment.show():o.lookFlodComment.hide()):(o.lookGoodComment.show(),o.lookFlodComment.hide()),$(".tool-item-comment .count").html(n.count),$(".comment-side-tit-count .count").html(n.count),$(".has-comment-tit .count").html(n.count),$(".has-comment-bt-left .count").html(n.count),$(".look-flod-comment .count").html(o.commentFold.total),$(".comment-fold-tit .count").html(o.commentFold.total),o.commentFold.total>0||o.lookFlodComment.hide(),n.count>0?(getCookie("UserName")||$("#pcCommentBox .unlogin-comment-tit").text(n.count+" 条评论"),this.firstLoad&&($("#pcCommentBox").removeClass("comment-box-nostyle"),$("#pcCommentBox .has-comment").css({display:"block"}))):getCookie("UserName")?($("#pcCommentBox").addClass("comment-box-nostyle"),$("#pcCommentBox .has-comment").css({display:"none"})):($("#pcCommentBox .unlogin-comment-tit").text("参与评论"),$("#pcCommentBox").removeClass("comment-box-nostyle"),$("#pcCommentBox .has-comment").css({display:"none"}))))},complete:function(){t&&t(n,o)}})},t.prototype.init=function(){window.localStorage.getItem("AM_comment_data")&&window.localStorage.getItem("AM_comment_id")==articleId&&(this.txtComment[0].focus(),this.txtComment.val(window.localStorage.getItem("AM_comment_data")),this.commentTxt.val(window.localStorage.getItem("AM_comment_replyId")),$(window).scrollTop(this.txtComment.offset().top));var e=function(e,t){if(null!==e){var o="";if(getCookie("UserName")||(o="登录 "),t.pageCount=e.pageCount,t.curFloor=e.floorCount,t.commentCount=e.floorCount,t.btnShowMore.html("<span>"+o+"查看 "+e.count+' 条热评</span><img class="look-more-comment" src="'+blogStaticHost+'dist/pc/img/arrowDownComment.png">'),t.renderData(e.list),getCookie("UserName")?(t.btnShowMore.parent("div.opt-box").remove(),t.showAll=!0,e.floorCount<=t.pageSize?t.commentPagination.addClass("d-none"):0===$("#btnMoreComment").length&&t.commentPagination.removeClass("d-none")):e.floorCount<=3?(t.btnShowMore.parent("div.opt-box").remove(),t.showAll=!0):e.floorCount<=t.pageSize?t.commentPagination.addClass("d-none"):0===$("#btnMoreComment").length&&t.commentPagination.removeClass("d-none"),null===t.commentPageObj?e.pageCount>0&&(t.commentPageObj=new Paging,t.commentPageObj.init({target:t.commentPagination,pagesize:t.pageSize,count:t.commentCount,current:1,firstTpl:"",lastTpl:"",callback:function(e,o,n){t.getPagination(e)}})):t.commentPageObj.render({count:t.commentCount}),""!==h){var n=$("div.has-comment-con ul.comment-list:first-child").find("li.comment-line-box");$(n).each(function(e,t){if(h==$(t).data("commentid")){var o=$(document).scrollTop(),i=$("#csdn-toolbar").height(),a=16;o<52&&(i=2*i);var s=$(n)[e].offsetTop-i-a;return setTimeout(function(){$("html,body").animate({scrollTop:s},200)},850),!1}})}}else t.btnShowMore.parent("div.opt-box").remove(),t.showAll=!0};this.firstLoad?this.getData(1,e):blogMoveHomeArticle&&this.btnShowMore.parent("div.opt-box").remove()},t.prototype.initTxt=function(){var e=this;$("#comment_content").length&&$("#comment_content").focus(function(){e.addId(e);var t=e.commentFontLimit-parseInt($(this).val().length);e.commentCountObj.text(t>=0?t:0),e.cancelBtnToggle(!1),e.commentLineBox.length>0&&($("#commentEditBox").siblings(".comment-list-item").find("a.btn-reply").html("回复"),e.commentLineBox.find(".comment-edit-box").remove())}),getCookie("UserName")&&($(document).click(function(t){if(!$(t.target).is("div.comment-edit-box *")&&!$(t.target).is(".right_recommend_comment_button *")&&!$(t.target).is(".reply")&&($(".comment-operate-isshow").hide(),e.txtComment.length>0)){var o=e.commentFontLimit-e.txtComment.val().length;e.commentCountObj.text(o>=0?o:0)}}),$(document).click(function(e){$(e.target).is(".comment-line-box *")||($("#commentEditBox").siblings(".comment-list-item").find("a.btn-reply").html("回复"),$("#commentEditBox").remove())})),$("input.btn-comment-defualt").click(function(){$(".tool-item-comment").trigger("click")}),$(".tool-item-comment").click(function(){if(3===commentAuth){var e='\n          <div class="pos-box">\n            <div class="modal-box">\n              <p class="titile">评论提示</p>\n              <div class="content-box">\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n                  <path d="M7.60001 0.599976C3.70626 0.599976 0.600006 3.70623 0.600006 7.59998C0.600006 11.4937 3.70626 14.6 7.60001 14.6C11.4938 14.6 14.6 11.4937 14.6 7.59998C14.6 3.70623 11.4938 0.599976 7.60001 0.599976ZM6.92626 3.33873C7.11001 3.15498 7.26751 3.03248 7.56501 3.03248C7.89751 3.00623 8.20376 3.16373 8.32626 3.39998C8.46626 3.56623 8.54501 3.93373 8.51001 4.15248C8.51001 4.21373 8.46626 4.62498 8.44876 4.73873L8.20376 7.84498C8.20376 8.15123 8.14251 8.45748 8.02001 8.69373C7.95876 8.87748 7.77501 8.99998 7.53001 8.99998C7.34626 8.99998 7.16251 8.87748 7.10126 8.69373C6.97876 8.38748 6.91751 8.14248 6.91751 7.84498L6.75126 4.79998C6.69001 4.24873 6.69001 4.43248 6.69001 4.12623C6.69001 3.82873 6.75126 3.58373 6.92626 3.33873ZM8.27376 11.9225C8.09001 12.1062 7.84501 12.1675 7.66126 12.1675C7.41626 12.1675 7.17126 12.1062 6.98751 11.9225C6.80376 11.7387 6.68126 11.4937 6.68126 11.1962C6.68126 10.9512 6.74251 10.7062 6.92626 10.5225C7.11001 10.3387 7.35501 10.2162 7.60001 10.2162C7.84501 10.2162 8.09001 10.3387 8.27376 10.5225C8.45751 10.7062 8.51876 10.9512 8.51876 11.1962C8.51001 11.4937 8.44876 11.7387 8.27376 11.9225Z" fill="#F78E00"/>\n                </svg>\n                该文章评论区已关闭\n              </div>\n              <div class="opt-box">\n                <button class="btn-modal-close">\n                  知道了\n                </button>\n              </div>\n            </div>\n          </div>\n        ',t=document.createElement("div");return t.id="commentAuthAlertModal",t.classList.add("mask-dark"),t.innerHTML=e,document.body.appendChild(t),t.querySelector(".btn-modal-close").onclick=function(){t.remove()},!1}setTimeout(function(){$("#pcCommentBox").show(),$("#comment_content").focus()},0)})},t.prototype.bindBtn=function(){function e(e){return"svg"===this.nodeName||getCookie("UserName")?(t.commentCount>t.pageSize&&t.commentPagination.removeClass("d-none"),$(this).parent("div.opt-box").remove(),$(this).parent().parent("div.opt-box").remove(),t.showAll=!0,t.curH=0,void(window.event?window.event.cancelBubble=!0:e.stopPropagation())):(csdn.loginBox.show(),!1)}var t=this;$(document).on("click",".comment-operate-item",function(e){var o=$(e.target).data("type");if(void 0!==o)switch(o){case"report":var n=$(e.target).parents("li.comment-line-box"),i=n.data("commentid"),a=n.data("replyname");window.csdn.loginBox.key({biz:"blog",subBiz:"other_service",cb:function(){window.csdn.feedback({type:"blog",rtype:"comment",rid:i,reportedName:a,submitOptions:{contentUrl:articleDetailUrl},callback:function(){showToast({text:"感谢您的举报，我们会尽快审核！",bottom:"10%",zindex:9e3,speed:500,time:1500})}})}});break;case"reply":var s=$(e.target)[0].innerText;if($(this).find("a.btn-reply").text("回复"),$(e.target)[0].innerText="回复"==s?"收起":"回复",t.isCommentFold){if(!getCookie("UserName"))return window.csdn.loginBox.show(),!1;$("#commentEditBox").remove();var r=t.commentFoldTextareaStr("commentEditBox","New");if(!$("#commentEditBox").length&&"回复"==s){$(e.target).parents(".comment-list-item").after(r);var c=$(e.target).parents(".comment-line-box");t.addId(t,"new"),t.comment(),t.bindTxt(),curComment={},curComment.Id=c.data("commentid"),curComment.User=c.data("replyname"),curComment.text=c.find(".name").text()+(c.find(".nick-name").length?" 回复 "+c.find(".nick-name").text():"")+c.find(".comment").text(),t.cancelBtnToggle(!0),t.replayComment(curComment),t.txtComment.trigger("focus"),t.commentCode()}}else"回复"==s?"":$("#commentEditBox").remove();break;case"delete":var l=$(e.target).data("nickname"),d=$(e.target).parents("li.comment-line-box"),i=d.data("commentid");showConfirm({tit:"删除评论",text:'确认将 "'+l+'" 的评论删除吗？',isBlack:"Black"==skinStatus,rightText:"确定",zindex:9e3,success:function(){t.commentIsDelete(i)},cancel:function(){}});break;case"istop":var l=$(e.target).data("nickname"),m="false"!=$(e.target).attr("data-status"),p=$(e.target).parents("li.comment-line-box"),i=p.data("commentid");showConfirm({tit:m?"取消置顶":"置顶评论",text:m?'确认将 "'+l+'" 的评论取消置顶吗？':'确认将 "'+l+'" 的评论置顶吗？',isBlack:"Black"==skinStatus,rightText:"确定",zindex:9e3,success:function(){t.commentIsTop(i,m)},cancel:function(){}});break;case"blacklist":var m="false"!=$(e.target).attr("data-status"),u=$(e.target).data("username"),l=$(e.target).data("nickname");showConfirm({tit:m?"取消屏蔽":"屏蔽用户",text:isCurrentUserVip?m?'确认将 "'+l+'" 取消屏蔽吗？取消后对方即可在您的内容下进行评论':'确认将 "'+l+'" 屏蔽吗？屏蔽后对方将无法在您的内容下进行评论':"屏蔽用户为会员权益，您可加入会员行使该权益",isBlack:"Black"==skinStatus,rightText:isCurrentUserVip?"确定":"开通会员",zindex:9e3,success:function(){var e="";isCurrentUserVip?(e=m?"1001.2101.3001.6915":"1001.2101.3001.6913",t.commentIsBlack(username,u,m)):(window.open("https://www.csdn.net/vip?utm_source=commentblocking","_blank"),e="1001.2101.3001.6917"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:e})},cancel:function(){}})}}),this.btnShowMore.click(e),this.btnShowMore.find("svg").click(e)},t.prototype.bindTxt=function(){var e=this;this.txtComment.keyup(function(){var t=e.commentCountObj,o=e.commentFontLimit-$(this).val().length;o<0?t.text(0):t.text(o),$(this).val().length||$(this).data("replayUser")?e.cancelBtnToggle(!0):e.cancelBtnToggle(!1)})},t.prototype.renderData=function(e){var t=this,o=t.commentFoldTextareaStr("commentEditBox","New");t.buildListDom(e,!1,this,!0),$(".comment-list li.comment-line-box").on("click",function(e){if($(e.target).data("flag")&&(t.commentLineBox&&t.commentLineBox[0]!=$(this)[0]&&t.commentLineBox.find(".comment-edit-box").remove(),0==$(this).find(".comment-edit-box").length)){if(getCookie("UserName")){getCookie("UserName")&&($(this).append(o),$("#closeNew").on("click",function(e){$(this).parents(".comment-edit-box").remove()}),t.addId(t,"new"),t.comment(),t.bindTxt(),curComment={},curComment.Id=$(this).data("commentid"),curComment.User=$(this).data("replyname"),curComment.text=$(this).find(".name").text()+($(this).find(".nick-name").length?" 回复 "+$(this).find(".nick-name").text():"")+$(this).find(".comment").text(),t.cancelBtnToggle(!0),t.replayComment(curComment),t.txtComment.trigger("focus"),t.commentCode());var n=$(document).scrollTop(),i=$("#csdn-toolbar").height();n<52&&(i=2*i)}else csdn.loginBox.show();t.commentLineBox=$(this)}}),i()},t.prototype.commentFoldTextareaStr=function(e,t){if($("#isShowCommentAuth").length&&1==$("#isShowCommentAuth").data("type"))var o='<span class="tip">&nbsp;|&nbsp;博主筛选后可见</span>';else var o="";var n='<div class="comment-edit-box d-flex" id="'+e+'">            <form id="commentform'+t+'">                <textarea class="comment-content" name="comment_content" id="comment_content'+t+'" placeholder="请发表有价值的评论， 博客评论不欢迎灌水，良好的社区氛围需大家一起维护。" maxlength="1000"></textarea>                <div class="comment-operate-box">                    <div class="comment-operate-l">                        <span id="tip_comment" class="tip">还能输入<em>1000</em>个字符</span>'+o+'                    </div>                    <div class="comment-operate-r">                        <div class="comment-operate-item comment-emoticon">                            <img class="comment-operate-img" data-url="" src="'+blogStaticHost+'dist/pc/img/commentEmotionIcon.png" alt="表情包">                            <span class="comment-operate-tip">插入表情</span>                            <div class="comment-operate-isshow comment-emoticon-box comment-emoticon'+t+'" style="display: none;">                                <div class="comment-emoticon-img-box"></div>                            </div>                        </div>                        <div class="comment-operate-item comment-code comment-code'+t+'">                            <img class="comment-operate-img" data-url="" src="'+blogStaticHost+'dist/pc/img/commentCodeIcon.png" alt="代码片">                            <span class="comment-operate-tip">代码片</span>                            <div class="comment-operate-isshow comment-code-box">                                <ul id="commentCode'+t+'">                                    <li><a data-code="html">HTML/XML</a></li>                                    <li><a data-code="objc">objective-c</a></li>                                    <li><a data-code="ruby">Ruby</a></li>                                    <li><a data-code="php">PHP</a></li>                                    <li><a data-code="csharp">C</a></li>                                    <li><a data-code="cpp">C++</a></li>                                    <li><a data-code="javascript">JavaScript</a></li>                                    <li><a data-code="python">Python</a></li>                                    <li><a data-code="java">Java</a></li>                                    <li><a data-code="css">CSS</a></li>                                    <li><a data-code="sql">SQL</a></li>                                    <li><a data-code="plain">其它</a></li>                                </ul>                            </div>                        </div>                        <div class="comment-operate-item">                            <input type="hidden" id="comment_replyId'+t+'" name="comment_replyId'+t+'">                            <input type="hidden" id="article_id'+t+'" name="article_id'+t+'" value="'+$("#article_id").val()+'" >                            <input type="hidden" id="comment_userId'+t+'" name="comment_userId'+t+'" value="">                            <input type="hidden" id="commentId'+t+'" name="commentId'+t+'" value="">                            <a data-report-click=\'{"spm":"1001.2101.3001.4227"}\'><input type="submit" class="btn-comment btn-comment-input" value="评论"></a>                        </div>                    </div>                </div>            </form>        </div>';return n},t.prototype.buildListDom=function(e,t,o,n){for(var i="",a="",s="",r=0;r<e.length;r++){var c=e[r].info,l=e[r].sub,d=void 0!==l?l.length:0;if(i='<ul class="comment-list">',i+=o.buildHtml(c,d,!0,c.userName?c.userName:"",n),d>0){i+='<li class="replay-box" style="display:block">',i+='<ul class="comment-list">';for(var m=0;m<d;m++){var p=l[m];null!==p&&(i+=this.buildHtml(p,0,!1,p.parentUserName?p.parentUserName:"",n))}d>1&&(i+='<div class="second-look-more">查看全部 '+d+' 条回复<img src="'+blogStaticHost+"dist/pc/img/commentArrowDown"+skinStatus+'.png"></div>'),i+="</ul>",i+="</li>"}if(i+="</ul>",t)a+=i;else{if(o.commentBox.append($(i)),2==o.commentUnFold.pageIndex&&0==r&&o.initHotComment&&e.length){var u=e[0].info,h="";u.content=this.replaceQuote(u.content);var f=this.getQuoteInfo(u.content);f.length>1?(quotename=f[1],quotecontent=this.getCodeInfo(f[2]),quotecontent=this.replaceNewUBB(quotecontent),s=this.getCodeInfo(f[3]),s=this.replaceNewUBB(s),s='<span class="quote">引用“<font color="black">'+quotename+"</font>”的评论：</span><blockquote>"+quotecontent+"</blockquote>"+s):(s=this.replaceNewUBB(f[0]),s=this.getCodeInfo(s));var g,v=null!==u.redEnvelopeInfo,b=v?JSON.parse(u.redEnvelopeInfo):null;v&&(g=JSON.stringify({spm:"3001.9224",extend1:{orderNo:u.orderNo}}),b.money=parseFloat(parseInt(b.money)/100).toFixed(2)),h='<div class="hot-comment-box" data-commentid="'+u.commentId+'"><a class="hot-comment-href" target="_blank" href="'+blogUrl+u.userName+'"><img src="'+u.avatar+'">'+(u.gptInfo?'<img class="hot-comment-gpt-icon" src="'+u.gptInfo.icon+'">':"")+u.nickName+'</a><span class="hot-comment-tag">热评</span>'+(v?'<div class="comment-reward-item" data-report-click=\''+g+'\' data-uncheck="1" data-commentid="'+u.commentId+'" data-id="'+u.orderNo+'">        <span span class="amount">'+b.money+"元</span>        </div > ":"")+'<div class="hot-comment-con">'+s+"</div></div>",o.commentBoxDefault.html($(h)),o.initHotComment=!1,$("#pcCommentBox").show()}o.curFloor--}}return!e.length&&o.commentUnFold.total<=0&&o.commentBoxDefault.html(""),t?a:void w.getRedPacketVerifyBatch()},t.prototype.addId=function(e,t){"new"==t?(e.commentForm=$("#commentformNew"),e.txtComment=$("#comment_contentNew"),e.commentCountObj=e.commentForm.find("em"),e.commtCode=$("#commentCodeNew"),e.commentTxt=$("#comment_replyIdNew"),e.articleId=$("#article_idNew")):(e.commentForm=$("#commentform"),e.txtComment=$("#comment_content"),e.commentCountObj=e.commentForm.find("em"),e.commtCode=$("#commentCode"),e.commentTxt=$("#comment_replyId"),e.articleId=$("#article_id"))},t.prototype.bindBtnFoldMore=function(){var e=this;$(document).on("click","#lookFlodComment",function(){e.isCommentFold=!0,e.commentFold.pageIndex=1,e.getFoldList(e.commentFold),$("#pcFlodCommentSideBox").show(),$("#pcCommentSideBox").hide(),$("#pcCommentSideBox .comment-list-box").html("")}),$(document).on("click","#lookUnFlodComment",function(){e.isCommentFold=!1,e.commentUnFold.pageIndex=1,e.getPagination(e.commentUnFold.pageIndex),$("#pcFlodCommentSideBox").hide(),$("#pcCommentSideBox").show(),$("#pcFlodCommentSideBox .comment-fold-content").html("")}),t.prototype.getFoldList=function(t){$.ajax({url:blogUrl+"phoenix/web/v1/comment/list/"+articleId+"?page="+e.commentFold.pageIndex+"&size="+e.commentFold.pageSize+"&fold="+e.commentFold.fold,type:"post",xhrFields:{withCredentials:!0},success:function(t){if(200===t.code){result=t.data;result.foldCount;if($(".tool-item-comment .count").html(result.count),$(".comment-side-tit-count .count").html(result.count),$(".has-comment-tit .count").html(result.count),$(".has-comment-bt-left .count").html(result.count),$(".look-flod-comment .count").html(result.foldCount),$(".comment-fold-tit .count").html(result.foldCount),result.foldCount>0?e.lookFlodComment.show():e.lookFlodComment.hide(),result.list.length){var o=e.buildListDom(result.list,!0,e,!1),n=document.createElement("div");n.classList.add("comment-fold-con","comment-list-box","comment-operate-item"),n.innerHTML=o,$("#pcFlodCommentSideBox .comment-fold-content").append(n),e.commentFold.pageIndex+=1,e.commentFold.pageCount=result.pageCount,e.commentFold.pageIndex>e.commentFold.pageCount?e.lookBadComment.hide():e.lookBadComment.show()}}}})}};var m="";if(t.prototype.buildHtml=function(e,t,o,i,a){var s="",r="",c="",l="",d=!1,p="",u="";if(e.content=this.replaceUrl(e.content),o){m=i,p=this.getQuote(e.content),e.content=this.replaceQuote(e.content);var h=this.getQuoteInfo(e.content);h.length>1?(c=h[1],l=this.getCodeInfo(h[2]),l=this.replaceNewUBB(l),s=this.getCodeInfo(h[3]),s=this.replaceNewUBB(s),s='<span class="quote">引用“<font color="black">'+c+"</font>”的评论：</span><blockquote>"+l+"</blockquote>"+s):(s=this.replaceNewUBB(h[0]),s=this.getCodeInfo(s)),username===getCookie("UserName")&&(d=!0)}else{var h=this.getReplyInfo(e.content);r=h[1];var f=h.length>2?this.getQuoteInfo(h[2]):this.getQuoteInfo(h[0]);f.length>1?(c=f[1],l=this.getCodeInfo(f[2]),l=this.replaceNewUBB(l),s=this.getCodeInfo(f[3]),s=this.replaceNewUBB(s),s='<span class="quote">引用“<font color="black">'+c+"</font>”的评论：</span><blockquote>"+l+"</blockquote>"+s):(s=this.replaceNewUBB(f[0]),s=this.getCodeInfo(s))}if(n(e),o&&p&&""!=p&&(u='<div class="comment-quote-item">'+p+"</div>"),o)var g="";else var g="comment-line-box-hide";var v,b=o&&null!==e.redEnvelopeInfo,w=b?JSON.parse(e.redEnvelopeInfo):null;b&&(v=JSON.stringify({spm:"3001.9224",extend1:{orderNo:e.orderNo}}),w.money=parseFloat(parseInt(w.money)/100).toFixed(2));var x="匿名用户"!=e.userName?blogUrl+e.userName:"javascript:void(0);",$='<li class="comment-line-box '+g+'" data-commentid="'+e.commentId+'" data-replyname="'+e.userName+'">            <div class="comment-list-item">                <a class="comment-list-href" target="_blank" href="'+x+'"><img src="'+e.avatar+'" username="'+e.userName+'" alt="'+e.userName+'" class="avatar">'+(e.gptInfo?'<img class="tag" src="'+e.gptInfo.icon+'" alt="">':"")+'</a>                <div class="right-box '+(r?"reply-box":"")+'" >                    <div class="new-info-box clearfix"><div class="comment-top"><div class="user-box"><a class="name-href" target = "_blank" href = "'+x+'" > <span class="name '+(o?"":"mr-8")+'">'+(o?e.nickName+"</span></span>"+isBloger+"</a> "+(e.isTop&&a?' <span class="is_top comment_status_tip"> 置顶</span> ':""):e.nickName+"</span>"+isBloger+'</a> <span class="text">回复</span> <span class="nick-name"> '+(e.parentNickName?e.parentNickName:"")+"</span>")+'<span class="date"  title="'+e.postTime+'">'+e.dateFormat+'</span><div class="opt-comment"><a class="btn-bt  btn-report"><img class="btn-report-img" src="'+blogStaticHost+'dist/pc/img/commentLookMore.png" title=""><div class="hide-box">'+(d&&a?' <span class="hide-item hide-top" data-type="istop" data-nickname="'+e.nickName+'" data-status="'+!!e.isTop+'" data-report-click=\'{"spm": '+(e.isTop?'"1001.2101.3001.6901"':'"1001.2101.3001.6511"')+',"extend1":'+(e.isTop?'"取消置顶"':'"置顶评论"')+"}'>"+(e.isTop?"取消置顶":"置顶评论")+"</span>":"")+(a&&getCookie("UserName")===username&&e.userName!==getCookie("UserName")?' <span class="hide-item hide-blacklist" data-type="blacklist" data-username="'+e.userName+'" data-nickname="'+e.nickName+'" data-status="'+!!e.isBlack+'" data-report-click=\'{"spm": '+(e.isBlack?'"1001.2101.3001.6914"':'"1001.2101.3001.6912"')+',"extend1":'+(e.isTop?'"取消屏蔽"':'"屏蔽用户"')+"}'> "+(e.isBlack?"取消屏蔽":"屏蔽用户")+"</span> ":"")+(isOwner||getCookie("UserName")===e.userName?'<span class="hide-item hide-delete" data-type="delete" data-nickname="'+e.nickName+'">删除</span>':"")+'<span data-type="report" class="hide-item hide-report"> 举报</span></div></a>'+(3!==commentAuth&&4!==commentAuth?'<img class="comment_img_replay" src="'+blogStaticHost+"dist/pc/img/newCommentReply"+skinStatus+'.png">':"")+(3!==commentAuth&&4!==commentAuth?'<a class="btn-bt btn-reply" data-type="reply" data-flag="true">回复</a>':"")+"</div></div >"+(b?'<div class="comment-reward-item" data-report-click=\''+v+'\' data-uncheck="1" data-commentid="'+e.commentId+'" data-id="'+e.orderNo+'">        <span span class="amount">'+w.money+"元</span>        </div > ":"")+'<div class="comment-like '+(e.diggArr.indexOf(getCookie("UserName"))!=-1?"liked":"")+'" data-commentid='+e.commentId+" >"+(0!==parseInt(e.digg)?"<span>"+e.digg+"</span>":"<span></span>")+'<img class="comment-like-img unclickImg" src="'+blogStaticHost+"dist/pc/img/commentLike"+skinStatus+'.png" title="点赞"><img class="comment-like-img comment-like-img-hover" style="display:none" src="'+blogStaticHost+'dist/pc/img/commentLikeHover.png" title="点赞"><img class="comment-like-img clickedImg" src="'+blogStaticHost+'dist/pc/img/commentLikeActive.png" title="取消点赞"></div></div><div class="comment-center">'+u+'<div class="new-comment">'+this.setNewLine(s)+"</div>"+(e.gptInfo?'<div class="gpt-comment">'+e.gptInfo.text+"</div>":"")+"</div></div></div></div></li>";return $},t.prototype.setNewLine=function(e){var t=/\<pre name="code2" ([\s\S]*?)\>([\s\S]*?)\<\/pre\>/gi,o=[];if(e.replace(t,function(e){o.push(e)}),o.length)for(var n=e.replace(t,function(e){return"[csdnCommentPreCode]"}),i=n.replace(/\n/g,"</br>"),a=0;a<o.length;a++)i=i.replace("[csdnCommentPreCode]",o[a]);else var i=e.replace(/\n/g,"<br/>");return i},t.prototype.getReplyInfo=function(e){var t=e.split(/\[reply]([\s\S]*?)\[\/reply\][\r\n]{0,1}/gi);return t},t.prototype.getQuoteInfo=function(e){var t=e.split(/\[quote=([\w#\.]+)\]([\s\S]*?)\[\/quote\][\r\n]{0,2}/gi);return t},t.prototype.getCodeInfo=function(e){var t=e.replace(/\[code=([\w#\.]+)\]([\s\S]*?)\[\/code\]/gi,function(e,t,o){return""==$.trim(o)?"":'<pre name="code2" class="code2 '+t+'"><code>'+r(o.trim())+"</code></pre>"});return t},t.prototype.replaceNewUBB=function(e){return e=e.replace(/\[face\]([^\]]+):([^\]]+)\[\/face\]/gi,'<img src="//g.csdnimg.cn/static/face/$1/$2" alt="表情包"/>')},t.prototype.replaceUrl=function(e){var t=/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g,o=/\[code=([\w#\.]+)\]([\s\S]*?)\[\/code\]/gi,n=[];if(e.replace(o,function(e){n.push(e)}),n.length)for(var i=e.replace(o,function(e){return"[csdnCommentCode]"}),a=i.replace(t,function(e){return'<a class="comment-match-url" target="_blank" href="'+e+'"><img src="https://img-home.csdnimg.cn/images/20230310025252.png" alt=""> 网页链接</a>';
}),s=0;s<n.length;s++)a=a.replace("[csdnCommentCode]",n[s]);else var a=e.replace(t,function(e){return'<a class="comment-match-url" target="_blank" href="'+e+'"><img src="https://img-home.csdnimg.cn/images/20230310025252.png" alt=""> 网页链接</a>'});return a},t.prototype.replaceQuote=function(e){return e=e.replace(/\[quote\]([\s\S]*?)\[\/quote\]/gi,"")},t.prototype.getQuote=function(e){var t="";return e.replace(/\[quote\]([\s\S]*?)\[\/quote\]/gi,function(e){t=e}),t=t.replace("[quote]","").replace("[/quote]","")},t.prototype.replayComment=function(e){var t=e.Id,o=e.User;this.txtComment.attr("placeholder","回复："+e.text).data("replayUser",o),this.commentTxt.val(t)},t.prototype.commentCode=function(){var e=this;e.commtCode.find("a").click(function(t){var o="[code="+$(this).data("code")+"]\n\n[/code]",n=e.txtComment.val();(o+n).length<=e.commentFontLimit?(e.txtComment.val(n+o),"comment_content"==e.txtComment[0].id&&$("#comment-content").val(n+o),e.commtCode.parents(".comment-code-box").fadeOut()):showToast({text:"您输入的字数已经超过限定了",bottom:"10%",zindex:9e3,speed:500,time:1500});var i=t||window.event;i.stopPropagation?i.stopPropagation():i.cancelBubble=!0})},t.prototype.comment=function(){function e(e){if(!getCookie("UserName"))return t.setStorage();window.localStorage.removeItem("AM_comment_data");var o=$(e).find(":submit"),n={commentId:t.commentTxt.val(),content:t.txtComment.val(),articleId:articleId};if("block"===w.formRewardBox.css("display")&&Object.assign(n,w.rewardInfo),n.replyId&&$.trim(n.content)&&(n.content="[reply]"+t.txtComment.data("replayUser")+"[/reply]"+n.content),$(e).find("#comment_content").length&&$("#commentQuote").length&&""!==$("#commentQuote").text()&&(n.content="[quote]"+$("#commentQuote").text().substr(0,50)+"[/quote]"+n.content),""===$.trim(n.content)||""===t.txtComment.val())showToast({text:"请填写评论内容",bottom:"10%",zindex:9e3,speed:500,time:1500});else{var i=blogUrl+"phoenix/web/v1/comment/submit";o.prop("disabled",!0).val("提交中"),$.ajax({url:i,type:"post",dataType:"json",data:n,xhrFields:{withCredentials:!0},success:function(e){if(200===e.code){if(t.isCommentFold)t.commentFold.pageIndex=1,$("#pcFlodCommentSideBox .comment-fold-content").html(""),t.getFoldList(t.commentFold);else{t.commentForm.trigger("reset"),t.commentTxt.val(""),t.txtComment.data("replayUser","").attr("placeholder","想对作者说点什么"),t.cancelBtnToggle(!1),h=e.data,t.init(),t.removeStorage();var o=$("#commentQuote");o.length&&o.animate({height:0},300,function(){o.remove()}),t.commentUnFold.pageIndex=1,$("#pcCommentSideBox .comment-list-box").html("")}"block"===w.formRewardBox.css("display")&&w.formRewardBox.find(".btn-remove-reward").trigger("click"),showToast({text:"评论成功,审核后显示",bottom:"10%",zindex:9e3,speed:500,time:2e3})}else showToast({text:e.message,bottom:"10%",zindex:9e3,speed:500,time:2e3})},complete:function(){o.prop("disabled",!1).val("评论")}})}return!1}var t=this;t.commentForm.submit(function(t){t.preventDefault();var o=this;try{window.csdn.loginBox.key({biz:"blog",subBiz:"other_service",cb:function(){e(o)}})}catch(n){e(o)}})},t.prototype.insertRightCommnetPrompt=function(){if(window.localStorage.getItem("AM_comment_Prompt_show"))return!1;window.localStorage.setItem("AM_comment_Prompt_show",!0);var e=$(".right_recommend_comment"),t=$(".right_recommend_comment_Prompt");t.length>0?t.fadeIn(300):e.prepend('<div class="right_recommend_comment_Prompt"><div class="text">新的评论在这里</div><div class="arrow"></div></div>'),setTimeout(function(){$(".right_recommend_comment_Prompt").fadeOut(500)},4e3)},t.prototype.setStorage=function(){return window.localStorage.setItem("AM_comment_data",this.txtComment.val()),window.localStorage.setItem("AM_comment_replyId",this.commentTxt.val()),window.localStorage.setItem("AM_comment_id",articleId),!!getCookie("UserName")||(window.csdn.loginBox.show(),!1)},t.prototype.removeStorage=function(){window.localStorage.removeItem("AM_comment_data"),window.localStorage.removeItem("AM_comment_replyId"),window.localStorage.removeItem("AM_comment_id")},t.prototype.bindLikedClick=s,t.prototype.bindRedRewardClick=a,t.prototype.cancelBtnToggle=function(e){e?this.cancelBtn.removeClass("d-none"):this.cancelBtn.addClass("d-none")},t.prototype.cancelBtnBindEvent=function(){var e=this;this.cancelBtn.on("click",function(){e.txtComment.attr("placeholder","想对作者说点什么").data("replayUser","").val(""),e.commentTxt.val(""),e.cancelBtnToggle(!1)})},t.prototype.commentIsBlack=function(e,t,o){var n=this,i="https://mp-action.csdn.net/interact/wrapper/pc/black/"+(o?"cancel":"save"),a=o?{username:e,usernameList:[t],bizNo:"blog"}:{username:e,blackUsername:t,bizNo:"blog"};$.ajax({url:i,type:"post",data:JSON.stringify(a),contentType:"application/json",dataType:"json",xhrFields:{withCredentials:!0},success:function(e){200===e.code?(setTimeout(function(){n.isCommentFold?(n.commentFold.pageIndex=1,$("#pcFlodCommentSideBox .comment-fold-content").html(""),n.getFoldList(n.commentFold)):(n.commentUnFold.pageIndex=1,$("#pcCommentSideBox .comment-list-box").html(""),n.getPagination(n.commentUnFold.pageIndex))},100),showToast({text:o?"取消屏蔽成功！":"屏蔽用户成功！",bottom:"10%",zindex:9e3,speed:500,time:1500})):showToast({text:o?"取消屏蔽失败，请刷新页面重新操作！":"屏蔽用户失败，请刷新页面重新操作！",bottom:"10%",zindex:9e3,speed:500,time:1500})}})},t.prototype.commentIsTop=function(e,t){var o=this,n=blogUrl+"phoenix/web/v1/comment/top",i={commentId:e,articleId:articleId,action:t?0:1};$.ajax({url:n,type:"post",dataType:"json",data:i,xhrFields:{withCredentials:!0},success:function(e){200===e.code?(setTimeout(function(){o.isCommentFold?(o.commentFold.pageIndex=1,$("#pcFlodCommentSideBox .comment-fold-content").html(""),o.getFoldList(o.commentFold)):(o.commentUnFold.pageIndex=1,$("#pcCommentSideBox .comment-list-box").html(""),o.getPagination(o.commentUnFold.pageIndex))},100),showToast({text:t?"取消置顶成功！":"置顶评论成功！",bottom:"10%",zindex:9e3,speed:500,time:1500})):showToast({text:t?"取消置顶失败，请重新操作！":"置顶评论失败，请重新操作！",bottom:"10%",zindex:9e3,speed:500,time:1500})}})},t.prototype.commentIsDelete=function(e){var t=this,o=$("#article_id").val(),n=blogUrl+"phoenix/web/v1/comment/delete",i={commentId:e,articleId:o};$.ajax({url:n,type:"post",dataType:"json",data:i,xhrFields:{withCredentials:!0},success:function(o){200===o.code?(setTimeout(function(){t.isCommentFold?(t.commentFold.pageIndex=1,$("#pcFlodCommentSideBox .comment-fold-content").html(""),t.getFoldList(t.commentFold)):(t.commentUnFold.pageIndex=1,$("#pcCommentSideBox .comment-list-box").html(""),t.getPagination(t.commentUnFold.pageIndex));var o=$("#pcCommentBox").find(".hot-comment-box");o.length>0&&o.data("commentid")===e&&(o.html(""),o.data("commentid",""),$("#pcCommentBox").hide())},100),showToast({text:"删除成功!",bottom:"10%",zindex:9e3,speed:500,time:1500})):showToast({text:"删除失败，请重新操作!",bottom:"10%",zindex:9e3,speed:500,time:1500})}})},$(document).on("keydown",".comment-content",function(e){o();var t=e||event;console.log(e),(t.ctrlKey&&13==t.which||13==t.which&&t.metaKey)&&("comment_content"==$(this).attr("id")?$("#commentform .btn-comment").trigger("click"):$("#commentformNew .btn-comment").trigger("click"))}),$(document).on("click",".second-look-more",function(e){$(this).hide(),$(this).siblings(".comment-line-box-hide").show()}),$(document).on("click",".comment-operate-item",function(e){if(getCookie("UserName")){if($(".comment-operate-isshow").fadeOut(),$(this).hasClass("comment-emoticon")){""==$(".comment-emoticon-img-box").html()&&$(".comment-emoticon-img-box").html(c()),$(this).find(".comment-emoticonNew").length&&$(this).find(".comment-operate-isshow").html($("#commentform .comment-emoticon-box").html());var t=$(this).find(".comment-emoticon-box");"block"===t.css("display")?t.fadeOut():($("#comment_content").one("focus",function(){t.fadeOut()}),t.fadeIn())}else if($(this).hasClass("comment-code")){var o=$(this).find(".comment-code-box");"block"===o.css("display")?o.fadeOut():($("#comment_content").one("focus",function(){o.fadeOut()}),o.fadeIn()),!$(this).hasClass("comment-codeNew")}else $(this).hasClass("comment-reward")&&w.showRewardForm();var n=e||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}else csdn.loginBox.show()}),$(document).on("click",".emoticon-monkey-img",function(e){var t=$(this).data("emoticon");if($(this).parents(".comment-emoticon-box").is(".comment-emoticonNew")){var o=$("#comment_contentNew").val()+t;o.length<=1e3?textareaPointLocation.insertAtCaret($("#comment_contentNew")[0],t):showToast({text:"您输入的字数已经超过限定了",bottom:"10%",zindex:9e3,speed:500,time:1500})}else{var o=$("#comment_content").val()+t;o.length<=1e3?textareaPointLocation.insertAtCaret($("#comment_content")[0],t):showToast({text:"您输入的字数已经超过限定了",bottom:"10%",zindex:9e3,speed:500,time:1500})}$(this).parents(".comment-emoticon-box").fadeOut();var n=e||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}),$(document).on("mouseenter",".comment-like",function(){$(this).hasClass("liked")?($(this).find(".clickedImg").css("display","none"),$(this).find(".comment-like-img-hover").css("display","block")):($(this).find(".unclickImg").css("display","none"),$(this).find(".comment-like-img-hover").css("display","block"))}),$(document).on("mouseleave",".comment-like",function(){$(this).hasClass("liked")?($(this).find(".clickedImg").css("display","block"),$(this).find(".comment-like-img-hover").css("display","none")):($(this).find(".unclickImg").css("display","block"),$(this).find(".comment-like-img-hover").css("display","none"))}),$(document).on("click",".unlogin-comment-box-new .unlogin-comment-bt",function(){window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.6916"}),getCookie("UserName")||window.csdn.loginBox.show({spm:"1001.2101.3001.8611"})}),$(".blog-postTime").length>0){var p=$(".blog-postTime").data("time"),u="于 "+p+" 发布";$(".blog-postTime").html(u)}var h=l("#comments_");if(h&&!getCookie("UserName")){$("#pcCommentBox").show();var f=$(document).scrollTop(),g=$("#csdn-toolbar").height(),v=2*$("#pcCommentBox").height();f<52&&(g=2*g);var b=$("#pcCommentBox").offset().top-g-v;return setTimeout(function(){$("html,body").animate({scrollTop:b},200)},850),!1}var w=new e;window.csdn.comments?window.csdn.comments:{},window.csdn.Comments=t,window.csdn.comments=new window.csdn.Comments}),$(function(){if(1===articleType){var e=$("main .blog-content-box")[0],t=document.querySelector(".creativecommons span a");t=t?t.innerText:"";var o="";t?o="\r\n————————————————\r\n版权声明：本文为CSDN博主「"+nickName+"」的原创文章，遵循"+t+"版权协议，转载请附上原文出处链接及本声明。\r\n原文链接："+curentUrl:(t=document.querySelector(".creativecommons"),t=t?t.innerText:"",t?o="\r\n————————————————\r\n"+t+"\r\n原文链接："+curentUrl:(t="CC 4.0 BY-SA",o="\r\n————————————————\r\n版权声明：本文为CSDN博主「"+nickName+"」的原创文章，遵循"+t+"版权协议，转载请附上原文出处链接及本声明。\r\n原文链接："+curentUrl)),csdn.copyright.init(e,o)}if(copyPopSwitch&&!getCookie("UserName")){var n=function(){window.csdn.loginBox.show({spm:"1001.2101.3001.9440"})};$("#content_views").unbind("keydown").bind("keydown",function(e){if(e.ctrlKey&&67==e.keyCode)return n(),!1}),$("#content_views").unbind("copy").bind("copy",function(e){return n(),!1})}}),$(function(){function e(e,o){if(!(o.length<2)){var n="";n+="<ol>";for(var i=0,a=0,s=0,r=0,c=0,l=0,d=0;d<o.length;d++){var m=parseInt(o[d].tagName.substr(1),10);if(i||(i=m),m>i?(n+='<li class="sub-box"><ol>',a++):m<i&&a>0&&(n+="</ol></li>",a--),m==u)for(;a>0;)n+="</ol>",a--;i=m;var p=o.eq(d).text();if(p=/^[\s]+$/.test(p)?p:p.replace(/^[\s]+/g,""),p=t(p),p.length>0)switch(m){case 1:++s,r=0,c=0,l=0;var h="";1===s&&(h="active"),n+="<li class="+h+'><a href="#t'+d+'">'+p+"</a></li>";break;case 2:++r,c=0,l=0,n+='<li><a href="#t'+d+'">'+p+"</a></li>";break;case 3:++c,l=0,n+='<li><a href="#t'+d+'">'+p+"</a></li>";break;case 4:++l,n+='<li><a href="#t'+d+'">'+p+"</a></li>"}}for(;a>0;)n+="</ol>",a--;return n}}function t(e){return e.replace(/[<>&"]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})}function o(e){function t(e){return $(e).each(function(e,n){n.children&&t(n.children),++o}),o}var o=0;return t(e)}function n(e,t,o){var n=$("div.groupfile"),i=n.find("div.toc-box"),a=n.find("div.opt-box");if(t<=2&&($("#liTocBox").remove(),!isShowSideModel&&payColumn&&window.csdn.loadRightColumn()),t>2&&"0"==m&&$("#liTocBox").css("display","block"),t<=2&&"1"==m?($(".groupfile").remove(),$("#rightAsideConcision").remove()):isShowConcision?(isCookieConcision&&($(".recommend-right1").addClass("show-directory"),$("#mainBox").removeAttr("style")),isHasDirectoryModel=!0):$("#rightAsideConcision").remove(),t<=2&&($("#blog_artical_directory").hide(),$(".left_menu .menu_con").hide()),!$(".first_li")[0]){i.html(o(e,p)),r(t,a,i);var s=!1;$("#liTocBox").hover(function(){$("#liTocBox .toc-container").finish().fadeIn(500),$(this).find("button.btn-toc").addClass("active"),s=!1},function(e){s=!0;var t=$(this);setTimeout(function(){s&&($("#liTocBox .toc-container").finish().fadeOut(500),t.find("button.btn-toc").removeClass("active"))},300)})}}function i(){g=[],v=$("#content_views").offset().top,b=$("#content_views").height(),w=$("#csdn-toolbar").height(),$(f).each(function(e,t){g.push($(t).offset().top)}),g.push(b+v)}function a(){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;e+=w;for(var t=0;t<g.length-1;t++){if(e<=g[0]){var o=$(f[0]).find("a")[0].name;o=o.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\{/g,"%7b").replace(/\}/g,"%7d");var n="#"+o,i=$("#groupfile").find('a[href="'+n+'"]')[0],a=$("#directory").find('a[href="'+n+'"]')[0],s=$("#groupfileConcision").find('a[href="'+n+'"]')[0];$(i).parent().addClass("active"),$(a).parent().addClass("active"),$(s).parent().addClass("active")}if(g[t]<e&&e<=g[t+1]){var n="#"+$(f[t]).find("a")[0].name,i=$("#groupfile").find('a[href="'+n+'"]')[0],a=$("#directory").find('a[href="'+n+'"]')[0],s=$("#groupfileConcision").find('a[href="'+n+'"]')[0];$(i).parent().addClass("active"),$(a).parent().addClass("active"),$(s).parent().addClass("active"),$(i).length&&$("#groupfile .align-items-stretch").animate({scrollTop:$(i)[0].offsetTop+"px"},0),$(a).length&&$("#directory .align-items-stretch").animate({scrollTop:$(a)[0].offsetTop+"px"},0)}}}function s(){var e=$("#csdn-toolbar").height()+8;y+$(document).scrollTop()-($("aside.recommend-right_aside").height()+$("#csdn-toolbar").height()+8)>=180?($("#recommend-right").css({position:"fixed",top:e}),$("#recommend-right-concision").css({position:"fixed",top:e})):($("#recommend-right").removeAttr("style"),$("#recommend-right-concision").removeAttr("style")),0==$(document).scrollTop()&&($("#recommend-right").removeAttr("style"),$("#recommend-right-concision").removeAttr("style"))}function r(e,t,o){if(e>9){var n=25*$("div.toc-box").find("li:not(.sub-box)").length,i=225,a=n-i,s=0;t.find("button.btn-opt").click(function(){$(this).hasClass("nomore")||($(this).hasClass("prev")?(s-=25,o.scrollTop(s),s<=0&&$(this).addClass("nomore")):(s+=25,s>=25*(e-17)&&(s=25*(e-17)),o.scrollTop(s),s>=a&&$(this).addClass("nomore")),$(this).siblings().removeClass("nomore"))})}else t.remove()}function c(){function e(t){$(".openvippay")[0]||window.csdn.clearReadMoreBtn(),o.off("click",e)}function t(){var e=window.location.href,t=document.title;setTimeout(function(){history.pushState(null,t,e)},0)}var o=$(".toc-container .toc-box ol li a");return 0!==o.length&&(o.click(e),void o.click(t))}function l(e){var t="<ol>";return $(e).each(function(e,o){t+=d(o,e)}),t+"</ol>"}function d(e,t){return e.children.length?"<li><a>"+e.title+'</a></li><li class="sub-box">'+l(e.children)+"</li>":"<li><a>"+e.title+"</a></li>"}if(!window.hasOwnProperty("isGitCodeBlog")||!isGitCodeBlog){for(var m=1,p=$("#article_content").find("h1,h2,h3,h4"),u=$("#article_content").find("h1").length>0?1:2,h=0;h<p.length;h++)p.eq(h).html('<a name="t'+h+'"></a>'+p.eq(h).html());$(".vip_article")[0]?($.ajax({type:"GET",url:blogUrl+"/phoenix/web/v1/get-article-catalog?articleId="+articleId,dataType:"json",xhrFields:{withCredentials:!0},success:function(e){200==e.code&&(n(e.data,o(e.data),l),c(),$("#groupfile .toc-box ol li a").each(function(e,t){t.href="#t"+e}),$("#directory .toc-box ol li a").each(function(e,t){t.href="#t"+e}),$("#rightAsideConcision .toc-box ol li a").each(function(e,t){t.href="#t"+e}),""===String($(".groupfile .toc-box").text()).replace(/(^\s*)|(\s*$)/g,"")?($("#asidedirectory").remove(),$("#groupfile").remove(),$("#rightAsideConcision").remove(),isHasDirectoryModel=!1):$("#groupfile").show())}}),$("#downloadEduApp").click(function(){getCookie("UserName")?window.open("https://vip.csdn.net/studyvip?utm_source=zhuanlan"):window.csdn.loginBox.show()})):(n("",p.length,e),c(),""===String($(".groupfile .toc-box").text()).replace(/(^\s*)|(\s*$)/g,"")?($("#asidedirectory").remove(),$("#groupfile").remove(),$("#rightAsideConcision").remove(),isHasDirectoryModel=!1):$("#groupfile").show()),$(document).on("toolbarHeightChange",function(e){var t=$("#csdn-toolbar").height()+8;$("#recommend-right").css("position")&&$("#recommend-right").css({top:t})});var f=$("#content_views").find("h1,h2,h3,h4"),g=[],v=$("#content_views").offset().top,b=$("#content_views").height(),w=$("#csdn-toolbar").height();$(f).each(function(e,t){g.push($(t).offset().top)}),g.push(b+v),setTimeout(function(){i()},1e3),$(window).resize(function(){setTimeout(function(){i()},500)});var x=!0;$(window).scroll(function(){$(".groupfile .toc-box li").removeClass("active"),x&&(i(),x=!1,setTimeout(function(){x=!0},5e3)),a()}),a(),$(document).on("click",".groupfile .toc-box li a",function(e){$(".groupfile .toc-box li").removeClass("active"),$(this).parent().addClass("active")});var y=document.body.clientHeight||document.documentElement.clientHeight;if($(".groupfile-div1").css("max-height",y-48+"px"),$(document).on("click",".csdn-side-toolbar .option-box",function(e){isShowConcision&&setTimeout(function(){s()},100)}),$(".hide-article-box").length&&"none"!==$(".hide-article-box").css("display")){for(var k=$(".hide-article-box").offset().top,C=0,S=0;S<g.length-1;S++)g[S]<=k&&k<=g[S+1]&&(C=S+1);var _=f.slice(C,f.length);$(".vip_article")[0]&&$(document).click(".groupfile .toc-box ol a",function(e){if($(e.target)[0].hash&&$(e.target)[0].hash.split("#t")&&parseInt($(e.target)[0].hash.split("#t")[1])>C){var t=$("#getVipUrl").attr("href");t.indexOf("vip")>-1?window.open(t+"?utm_source=brv&sale_source=BgsN7mSaYF"):window.open(t)}}),$(".btn-readmore")[0]&&_.each(function(e,t){$(".groupfile .toc-box ol").find('a[href="#'+$(_[e]).find("a")[0].name+'"]').click(function(){$(".btn-readmore").trigger("click"),$(".btn-readmore").hasClass("no-login")?window.open("https://passport.csdn.net/account/login"):$("#btnAttent").trigger("click")})})}$(document).ready(function(){var e=$(".htmledit_views #main-toc").prevAll("h1,h2,h3,h4"),t=e.length,o=$('.htmledit_views p[id*="-toc"]').slice(1).filter(function(e,t){return $(t).find("a").length||$(t).css({margin:"0"}),$(t).find("a").length}),n=0;o.each(function(e,o){$(o).attr("id","");var i=$(o).css("margin-left").replace("px","")/40,a=0==i?0:48*i;if($(o).css({"padding-left":"24px",margin:"0","margin-left":a+"px","margin-bottom":"2px"}),t>0)$(o).find("a").attr("href","#t"+t),t++;else{var s=$(o).find("a").attr("href").replace("#","");s=s.replace(/%28/g,"(").replace(/%29/g,")").replace(/%7b/g,"{").replace(/%7d/g,"}"),$('[id="'+s+'"]').is("h1,h2,h3,h4")?$(o).find("a").attr("href","#t"+(e-n)):n++}});var i=$(".markdown_views .toc a");i.length&&i.each(function(e,t){var o=$(t).attr("href");o&&$(t).attr("href",o.replace(/%/g,"_"))});var a=$(".markdown_views").find("h1 a,h2 a,h3 a,h4 a");a.length&&a.each(function(e,t){var o=$(t).attr("id");o&&$(t).attr("id",o.replace(/%/g,"_"))}),$(document).on("click","#content_views a[href*=#],div.toc-box a[href*=#],li.tool-item-comment a[href*=#]",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$('[id="'+this.hash.slice(1)+'"]');if(e=e.length&&e||$('[name="'+this.hash.slice(1)+'"]'),e.length){var t=e.offset().top;return $("html,body").animate({scrollTop:t-w},500),!1}}}),setTimeout(function(){if(window.location.href.indexOf("#comments")>-1){var e=$("#csdn-toolbar").height();$("html,body").animate({scrollTop:$("#commentBox").offset().top-e-48},500)}},1e3)})}}),$(function(){function e(e){var t=$(".article-resource-info-box");$.ajax({type:"GET",url:"https://download-console-api.csdn.net/plugin/blog/source/get",dataType:"json",data:{sid:e},xhrFields:{withCredentials:!0},success:function(e){if(200==e.code&&e.data&&e.data.hasOwnProperty("sid")){var o=e.data,n='\n            <a href="'+o.url+'" target="_blank" class="img-box">\n              <img src="'+o.fileTypeIcon+'" alt="'+o.title+'" class="file-icon">\n            </a>\n            <div class="info-box">\n              <a data-report-view=\'{"spm":"3001.9500"}\' data-report-click=\'{"spm":"3001.9500"}\' data-report-query=\'spm=3001.9500\' href="'+o.url+'" target="_blank">\n                <p class="title" title="'+o.title+'">'+o.title+'</p>\n                <p class="desc" title="'+o.description+'">'+o.description+'</p>\n              </a>\n            </div>\n            <div class="opt-box">\n              <a data-report-view=\'{"spm":"3001.9499"}\' data-report-click=\'{"spm":"3001.9499"}\' data-report-query=\'spm=3001.9499\' href="'+o.url+'" class="btn-resource-link" target="_blank">立即下载</a>\n            </div>\n          ';t.append(n),t.css({display:"flex"}),window.csdn.report.viewCheck()}else t.remove()},error:function(){t.remove()}})}resourceId&&e(resourceId)}),$(function(){function e(e){for(var t=document.cookie.split("; "),o=0;o<t.length;o++){var n=t[o].split("=");if(n[0]==e&&"UD"==e)return decodeURIComponent(n[1]);if(n[0]==e)return decodeURI(n[1])}}function t(){return!!window.navigator.userAgent.toLowerCase().match(/(phone|pad|pod|iphone|ipod|ios|ipad|android|mobile|blackberry|iemobile|mqqbrowser|juc|fennec|wosbrowser|browserng|webos|symbian|windows phone)/i)}function o(){return!!window.navigator.userAgent.toLowerCase().match(/(csdn)/i)}function n(){try{var e=$(".abstract-content")[0],t=document.createRange();t.setStart(e,0),t.setEnd(e,e.childNodes.length);var o=(t.getBoundingClientRect().width,t.getBoundingClientRect().height),n=window.getComputedStyle(e,null),i=Number.parseInt(n.paddingTop,10)||0,a=Number.parseInt(n.paddingBottom,10)||0,s=i+a;o+s>e.clientHeight&&($(".ai-abstract").mouseleave(function(){$(this).removeClass("active"),$(this).parent(".ai-abstract-box").removeClass("active")}),$(".ai-abstract").mouseenter(function(){$(this).addClass("active"),$(this).parent(".ai-abstract-box").addClass("active")}))}catch(r){}}function i(){try{var e=$(".ai-title-abstract")[0],t=document.createRange();t.setStart(e,0),t.setEnd(e,e.childNodes.length);var o=(t.getBoundingClientRect().width,t.getBoundingClientRect().height),n=window.getComputedStyle(e,null),i=Number.parseInt(n.paddingTop,10)||0,a=Number.parseInt(n.paddingBottom,10)||0,s=i+a;o+s>e.clientHeight&&($(".ai-title-abstract").mouseleave(function(){$(this).removeClass("active")}),$(".ai-title-abstract").mouseenter(function(){$(this).addClass("active")}))}catch(r){}}function a(e){return e.innerText.replace(/[\u00A0]/gi," ")}function s(){function t(e){return CryptoJS.MD5(e).toString()}function o(e){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(e))}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[];n.forEach(function(t){var o=e[t];if(o){var n=o.toString().trim();i.push(t+"="+n)}});var a=o(i.join("&"));return t("[#"+t(a)+"#]")}function i(e){$(e.target).addClass("loading").text("运行中");var t=$(e.target).parents("pre");if(t.hasClass("set-code-show")&&t.find(".hide-preCode-bt").trigger("click"),t.parent(".code-runner-container").length<=0){var o=t.css("background-color");t.wrap(function(){return'<div class="code-runner-container" style="background-color: '+o+'"></div>'}),t.after('<div class="code-runner-box">\n        <span class="runner-result-title">代码运行中...</span>\n        <div class="runner-result-content"></div>\n      </div>')}var i=t.parent(".code-runner-container").find(".code-runner-box");i.html('<span class="runner-result-title">代码运行中...</span>\n        <div class="runner-result-content"></div>');var s=t.find("code");if(s.length>0){s=t.find("code")[0];var r=Array.from(s.classList),c=r.find(function(e){return e.startsWith("language-")});if(c){var d=c.replace("language-","");if(d&&["c","c++","cpp","c#","csharp","cs","dart","go","java","javascript","objectivec","php","kotlin","python","r","perl","rust","ruby","typescript","lua","matlab","swift"].includes(d.toLowerCase())){var p=function(e){i.find("span.runner-result-title").text("运行结果："),i.find("div.runner-result-content").addClass("error").text(e)},u=a(s),h={questionId:articleId,requestId:m,source:"blog",language:d,query:u},f=n(h,["query","questionId","requestId"]);l.post("https://bizapi.csdn.net/aisearch/v2/api/code/question/codeRun?sign="+f,h,{headers:{"Content-Type":"application/json;charset=UTF-8"},credentials:"include"}).then(function(e){if(200===e.code&&e.data&&e.data.canRunCorrectly){i.find("span.runner-result-title").text("运行结果：");var t=e.data.result.trim().length>0?e.data.result:"当前代码可运行，无具体输出文案";i.find("div.runner-result-content").text(t),window.insCodeConfigABResult&&(i.append(' <div data-report-click=\'{"spm":"3001.10872"}\' \n                  class="runner-box ins-code-runner-btn box4" data-spm="3001.10872">\n                  <span>本文章已经生成可运行项目</span><button class="runner-btn">一键运行<i class="icon-play play4"></i></button>\n              </div>'),window.csdn.report.reportView({spm:"3001.10872"}))}else p(e.data.errorReason)})["catch"](function(){p("当前服务器正忙，请稍后再试")})["finally"](function(){$(e.target).removeClass("loading").text("运行")})}else $(e.target).removeClass("loading").text("运行")}else console.log("No language class found.")}}function s(e){if(window.CryptoJS&&window.csdn&&window.csdn.httpGateway)return void i(e);if(window.csdn&&window.csdn.httpGateway)if(window.CryptoJS)i(e);else{var t=document.createElement("script");t.src=crytojs,t.type="text/javascript",t.onload=function(){i(e)},t.onerror=function(){console.error("crytojs 插件加载失败")},document.head.appendChild(t)}else{var o=document.createElement("script");o.src="https://g.csdnimg.cn/csdn-http/1.0.2/csdn-http.js",o.type="text/javascript",o.onload=function(){if(l=window.csdn.httpGateway({appKey:"203803574",appSecret:"9znpamsyl2c7cdrr9sas0le9vbc3r6ba",env:d}),window.CryptoJS)i(e);else{var t=document.createElement("script");t.src=crytojs,t.type="text/javascript",t.onload=function(){i(e)},t.onerror=function(){console.error("crytojs 插件加载失败")},document.head.appendChild(t)}},o.onerror=function(){console.error("csdn-http.js 插件加载失败")},document.head.appendChild(o)}}if(isGitCodeBlog)return $(".hljs-button").css("margin-left","auto"),!1;var c="https://trae.com.cn?utm_source=community&utm_medium=csdn&utm_campaign=daima",p="https://i-operation.csdnimg.cn/images/ccb1cbf6079c4077acd2e7882b24221a.png",u="AI写代码",h="",f=!1;if("object"!==("undefined"==typeof codeAiAbObjStyle?"undefined":_typeof(codeAiAbObjStyle))||null===codeAiAbObjStyle||!codeAiAbStyle||!codeAiAbObjStyle[codeAiAbStyle])return"exp1"===codeAbStyle&&$(".hljs-button").css("margin-left","auto"),!1;if(c=codeAiAbObjStyle[codeAiAbStyle].destUrl,p=codeAiAbObjStyle[codeAiAbStyle].imgUrl,u=codeAiAbObjStyle[codeAiAbStyle].title,codeAiAbObjStyle[codeAiAbStyle]&&codeAiAbObjStyle[codeAiAbStyle].runClose&&(f=codeAiAbObjStyle[codeAiAbStyle].runClose),h='style="background-image:url('+p+');"',codeAiAbObjStyle[codeAiAbStyle].blogUrl&&articleDetailUrl){if(isVipArticle||payColumn)return"exp1"===codeAbStyle&&$(".hljs-button").css("margin-left","auto"),!1;c+="&url="+encodeURIComponent(articleDetailUrl)}$(".hljs-button").each(function(e){var t={spm:"3001.10436",dest:"control_run_project"===codeAiAbStyle?"":c,extra:{index:e,ab:codeAiAbStyle||""}},o=$('<button class="btn-code-notes '+r+'" '+h+">"+u+"</button>"),n=$(this).parents("pre").find(".code-edithtml");"exp1"===codeAbStyle?($(this).parents("pre").find(".opt-box").prepend(o),o.attr("data-report-view",JSON.stringify(t)).attr("data-report-click",JSON.stringify(t))):($(this).addClass("add_def"),$(this).hasClass("def")||$(this).hasClass("mddef")?(o.addClass("btn_def"),n.before(o)):$(this).parents("pre").append(o),o.attr("data-report-view",JSON.stringify(t)).attr("data-report-click",JSON.stringify(t))),"exp1"===codeAbStyle&&f&&$(".code-run-btn").hide()}),$(document).on("click","#content_views .code-run-btn",function(t){return window.csdn.report.reportClick({spm:"3001.10758",extra:{language:$(this).data("language"),idx:$(this).data("idx")}}),e("UserName")?void s(t):void window.csdn.loginBox.show({spm:"3001.10758"})}),$(document).on("click","#content_views .btn-code-notes",function(e){if("control_run_project"===codeAiAbStyle){var t=$("#codeBtnRun");0===t.length&&(t=$('<div class="ins-code-runner-btn" id="codeBtnRun" style="display: none;" data-spm="3001.10436"></div>'),$("body").append(t)),t.trigger("click")}else{var o=document.createElement("a");o.style.display="none",o.href=c,o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}),window.csdn.report.viewCheck()}var r="",c=("CSDN_"+articleId+"_CS",document.querySelectorAll("pre code")),l=null,d="prod",m=(null!=(_ref1=/(; )?(uuid_tt_dd|_javaeye_cookie_id_)=([^;]+)/.exec(window.document.cookie))?_ref1[3]:void 0)||"";document.querySelectorAll("div.htmledit_views").length>0?r="ckeditor":c.length>0&&(r="mdeditor");var p="gwzcw.8483411.8483411.8483411";"https://cloudstudio.net/auth/realms/cloudstudio/protocol/openid-connect/auth?client_id=open-csdn&scope=r:user:id%20c:code_segment&response_type=code&redirect_uri=https%3A%2F%2Fpassport.csdn.net%2Fcloudstudiologin?article_id="+articleId+"&state=CSDN&fromSource="+p+"&kc_idp_hint=&channel=CSDN-Run";t()||o()||window.addEventListener("DOMContentLoaded",function(){$("code.hljs").length<=0&&$("pre code").length<=0||s()});n(),window.addEventListener("resize",n),i(),window.addEventListener("resize",i),codeAiAbObjStyle&&(codeAiAbObjStyle=JSON.parse(codeAiAbObjStyle))}),$(function(){var e=$('#article_content a[href^="#"]');e.each(function(e){$(this).attr("target","_self")})}),$(function(){function e(e,t){var o=t?window.csdn.report.getFullSpm(t):"",n="https://link.csdn.net?from_id="+articleId+"&target="+encodeURIComponent(e+"?utm_source=artical_gitcode"+(o?"&spm="+o:""));return n}function t(e){var t=[{unit:"K",base:1e3},{unit:"M",base:1e6}],o=2;try{var n=t;return n.reduce(function(t,n){var i=n.base,a=n.unit;if(e>=i){var s=Math.pow(10,o);t=""+parseFloat((Math.round(e*s/i)/s).toFixed(o))+a}return t},""+e)}catch(i){}return""+e}function o(o){var n=$("#gitAsideProjectInfo"),i=$("#gitProjectInfo"),a=(t(o.star_count),t(o.forks_count),e(o.web_url,"3001.10288")),s=e(o.web_url,"3001.10290"),r=function(e){return JSON.stringify({spm:"3001.10288",dest:a,extra:{type:e}})};if(n){var c=r("title"),l=r("fork"),d=r("star"),m=r("clone"),p=r("source"),u=r("more");n.find(".title a").attr("href",a).attr("data-report-click",c).text(o.name).attr("title",o.name),n.find("a.link-more").attr("href",a).attr("data-report-click",u),n.find("a.btn-star").attr("href",a).attr("data-report-click",d).find("span.count").text(t(o.star_count)),n.find("a.btn-fork").attr("href",a).attr("data-report-click",l).find("span.count").text(t(o.forks_count)),n.find("a.btn-clone").attr("href",a).attr("data-report-click",m),n.find("a.btn-source").attr("href",a).attr("data-report-click",p),n.show()}if(i){var h=JSON.stringify({spm:"3001.10290",dest:s});i.find("a").attr("href",s).attr("data-report-click",h).attr("data-report-view",h),i.find(".title").text("⚡️Github加速计划 / "+o.name).attr("title",o.name),i.find(".desc").text(o.description?o.description:"").attr("title",o.description?o.description:""),i.find(".icon-start").text(t(o.star_count)),i.find(".icon-fork").text(t(o.forks_count)),
i.show(),window.csdn.report.viewCheck()}}function n(o){var n=$("#gitRelatedProjects");if(n){var i=n.find(".gitcode-related-box"),a="",s=n.find("a.link-more");s&&s.attr("href",e("https://gitcode.com"));for(var r=o.length>5?5:o.length,c=0;c<r;c++){var l=o[c],d=e(l.web_url,"3001.10289"),m=JSON.stringify({spm:"3001.10289",dest:d,extra:{index:c}}),p=t(l.star_count);a+='\n        <div class="gitcode-item-box">\n          <a href="'+d+'" target="_blank" data-report-view=\''+m+"' data-report-click= '"+m+'\'>\n            <div class="title-box">\n              <p class="title" title="'+l.name+'">'+l.name+'</p>\n              <span class="start">'+p+"</span>\n            </div>\n            "+(l.description?'<p class="desc" title="'+l.description+'">'+l.description+"</p>":"")+"\n          </a>\n        </div>\n      "}""!==a&&(i.html(a),window.csdn.report.viewCheck()),n.show()}}function i(){$.ajax({url:"https://datalinkapi.gitcode.com/api/v2/projects/byCArticleId",type:"get",data:{articleId:articleId},xhrFields:{crossDomain:!0,withCredentials:!0},success:function(e){if(e&&e.name){try{a(e.name)}catch(t){$("#gitRelatedProjects").remove()}try{o(e)}catch(t){$("#gitAsideProjectInfo").remove()}}else{$("#gitAsideProjectInfo").remove();try{a(articleTitle)}catch(t){$("#gitRelatedProjects").remove()}}},error:function(){$("#gitAsideProjectInfo").remove();try{a(articleTitle)}catch(e){$("#gitRelatedProjects").remove()}}})}function a(e){$.ajax({url:"https://web-api.gitcode.com/api/v1/search/nauth/external/query",type:"get",data:{q:e,type:"repo",p:1,pp:10,o:"desc"},xhrFields:{crossDomain:!0,withCredentials:!0},success:function(e){if(e&&e.content&&e.content.length>0)try{n(e.content)}catch(t){$("#gitRelatedProjects").remove()}else $("#gitRelatedProjects").remove()},error:function(){$("#gitRelatedProjects").remove()}})}window.hasOwnProperty("isGitCodeBlog")&&isGitCodeBlog&&i()}),function(){function e(e){var t="",o="",a="";if(i&&(t="active"),e.type)o='<span class="curriculum-box">作者：'+e.author+'</span>            <span class="curriculum-box">'+actionNumberFormat(e.learnNum)+'人已学</span>            <a class="item-target article-column-bt join-huawei-community">课程详情</a>',a=" curriculum-active";else if(o='<a class="item-target article-column-bt join-huawei-community">加入社区</a>',detailheaderAbStyle&&"exp1"==detailheaderAbStyle){var s='社区：<a href="'+e.nsurl+'" class="button" target="_black" data-report-click=\'{"spm":"1001.2101.3001.8542","extra":{"ab":"'+detailheaderAbStyle+'"}}\' data-report-view=\'{"spm":"1001.2101.3001.8542","extra":{"ab":"'+detailheaderAbStyle+"\"}}'>"+e.title+'</a><a class="jion" href="'+e.nsurl+'" target="_black" data-report-click=\'{"spm":"1001.2101.3001.8542","extra":{"ab":"'+detailheaderAbStyle+'加入"}}\' data-report-view=\'{"spm":"1001.2101.3001.8542","extra":{"ab":"'+detailheaderAbStyle+"加入\"}}'>加入</a>";return n.innerHTML=s,!1}var r='<div class="column-group '+t+'" data-id="'+e.id+'" data-url="'+e.nsurl+'" data-report-click=\'{"spm":"1001.2101.3001.8542"}\' data-report-view=\'{"spm":"1001.2101.3001.8542"}\'>                    <div class="column-group-item '+a+'">                      <div class="item-l">                        <a class="item-target" href="javascript:;" title="'+e.title+'">                          <img class="item-target" src="'+e.logo+'" alt="">                          <span class="title item-target">                              <span>                              <span class="tit">'+e.title+'</span>                              <span class="dec">'+e.desc+'</span>                              </span>                          </span>                        </a>                      </div>                      <div class="item-r">'+o+"</div>                    </div>                  </div>";n.innerHTML=r}function t(){$.ajax({url:"https://devpress-api.csdn.net/api/internal/blog/nsInfo/blog/"+articleId,type:"GET",xhrFields:{withCredentials:!0},success:function(t){200==t.code&&t.data?e(t.data):n.remove()}})}function o(e,t){$.ajax({type:"POST",url:"https://devpress-api.csdn.net/v1/user/follow",contentType:"application/json; charset=utf-8",data:JSON.stringify({followTarget:e,type:1}),xhrFields:{withCredentials:!0},success:function(e){window.open(t)},error:function(e){window.open(t)}})}var n=document.getElementById("blogHuaweiyunAdvert"),i=document.getElementById("blogColumnPayAdvert");detailheaderAbStyle&&"exp1"==detailheaderAbStyle&&(n=document.getElementById("community-name")),n&&(t(),$(document).on("click","#blogHuaweiyunAdvert .column-group",function(){if(getCookie("UserName")){var e=$(this).data("id"),t=$(this).data("url");o(e,t)}else window.csdn.loginBox.show()}))}(),$(".comment-box textarea.comment-content").on("select",function(){textareaPointLocation.setCaret(this)}).on("click",function(){textareaPointLocation.setCaret(this)}).on("keyup",function(){textareaPointLocation.setCaret(this)});var textareaPointLocation={setCaret:function(e){e.createTextRange&&(e.caretPos=document.selection.createRange().duplicate())},insertAtCaret:function(e,t){if(document.all)if(e.createTextRange&&e.caretPos){var o=e.caretPos;o.text=" "==o.text.charAt(o.text.length-1)?t+" ":t}else e.value=t;else if(e.setSelectionRange){var n=e.selectionStart,i=e.selectionEnd,a=e.value.substring(0,n),s=e.value.substring(i);e.value=a+t+s}else showToast({text:"This version of Mozilla based browser does not support setSelectionRange",bottom:"10%",zindex:9e3,speed:500,time:1500})}};$(function(){function e(e){for(var t=document.cookie.split("; "),o=0;o<t.length;o++){var n=t[o].split("=");if(e==n[0])return n[1]}return null}function t(e,t){var o="singleBuy"===t?"vipPaymentBlog":"vipPaymentV2";new Promise(function(e){var t=document.createElement("script");t.type="module",blogUrl.indexOf("lblog.csdn.net")>-1||blogUrl.indexOf("test-blog-web.csdn.net")>-1||location.search.indexOf("_env=test")>-1?t.src="https://devbit-static.oss-cn-beijing.aliyuncs.com/vipBusiness/"+o+".js?_t="+(new Date).getTime():t.src="https://csdnimg.cn/release/vip-business-components/"+o+".js?_t="+(new Date).getTime(),document.body.append(t),t.onload=e}).then(function(){var t=new VipPayment(e);t.show()})}function o(e,o){if(window.VipPayment){var n=new VipPayment({sourceOptions:{from:"csdn-blog",spm:e}});n.show()}else t({sourceOptions:{from:"csdn-blog",spm:e}},o)}function n(){var e=document.createElement("style");e.type="text/css",e.innerHTML="\n    .ins-code-runner-iframe {\n      width: 100%;\n      height: 100%;\n      border: none;\n      border-top-left-radius: 16px;\n      border-top-right-radius: 16px;\n    }\n    .runner-overlay {\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: rgba(0, 0, 0, 0.7);\n      z-index: 2000;\n    }\n\n    .runner-re-modal {\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      display: flex\n      flex-direction: column;\n      z-index: 2002;\n      width: 417px;\n      min-height: 320px;\n      background-color: #fff;\n      border-radius: 16px;\n      overflow: hidden;\n    }\n    .runner-re-modal .title-box {\n      padding: 24px;\n      text-align: center;\n      color: #1A1A1A;\n    }\n    .runner-re-modal .title-box h2{\n      font-size: 20px;\n      line-height: 26px;\n      font-weight: 500;\n    }\n    .runner-re-modal .title-box p{\n      margin-top: 8px;\n      font-size: 16px;\n      line-height: 26px;\n    }\n\n    .runner-re-modal iframe {\n      padding: 0 24px;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      border: none;\n    }\n\n    .runner-re-modal .bottom-box {\n      padding: 24px;\n      padding-bottom: 20px;\n    }\n\n    .runner-re-modal .pos-box {\n      position: relative;\n    }\n\n    .runner-re-modal .btn-inscode-modal-close {\n      position: absolute;\n      top: 24px;\n      right: 24px;\n      display: block;\n      cursor: pointer;\n      border: none;\n      background: none;\n    }\n    .runner-re-modal .btn-inscode-modal-close img{\n      display: block;\n      width: 16px;\n      height: 16px;\n    }\n\n    .runner-re-modal .bottom-box .link-show-more{\n      display: flex;\n      font-size: 14px;\n      color: #1A1A1A;\n      align-items: center;\n      justify-content: center;\n    }\n    .runner-re-modal .bottom-box .link-show-more img{\n      width: 16px;\n      height: 16px;\n    }\n    .runner-re-modal .bottom-box .link-show-more img.normal{\n      display: block;\n    }\n    .runner-re-modal .bottom-box .link-show-more img.hover{\n      display: none;\n    }\n    .runner-re-modal .bottom-box .link-show-more:hover{\n      color: #006FFF;\n    }\n    .runner-re-modal .bottom-box .link-show-more:hover img.normal{\n      display: none;\n    }\n    .runner-re-modal .bottom-box .link-show-more:hover img.hover{\n      display: block;\n    }\n\n    .runner-dialog {\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      display: flex;\n      align-items: flex-end;\n      justify-content: center;\n      z-index: 2001;\n      pointer-events: none;\n    }\n\n    .runner-dialog  .runner-box {\n      width: 100%;\n      height: calc(100% - 56px);\n      background: #f9f9f9;\n      box-sizing: border-box;\n      position: relative;\n      pointer-events: auto;\n      border-top-left-radius: 16px;\n      border-top-right-radius: 16px;\n    }\n\n    .runner-dialog  .runner-close-btn {\n      position: absolute;\n      top: -45px;\n      right: 15px;\n      width: 32px;\n      height: 32px;\n      background: url('https://i-operation.csdnimg.cn/images/293653aac4f24696a04c4e63df9d72c5.png') center center no-repeat;\n      background-size: 32px 32px;\n      border: none;\n      cursor: pointer;\n      padding: 0;\n    }\n    .runner-dialog .runner-close-btn:hover {\n      opacity: 0.8;\n    }\n    .vip-guide-dialog {\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      width: 400px;\n      background: #fff;\n      border-radius: 16px;\n      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n      z-index: 2001;\n      box-sizing: border-box;\n      overflow: hidden;\n    }\n    .vip-guide-dialog .pos-box {\n      position: relative;\n      padding: 32px;\n      padding-top: 52px;\n    }\n    .vip-guide-dialog .runner-close-btn {\n      position: absolute;\n      top: 16px;\n      right: 16px;\n      width: 24px;\n      height: 24px;\n      background: url('"+blogStaticHost+"dist/pc/img/vip-limited-close-newWhite.png') center center no-repeat;\n      background-size: 24px 24px;\n      border: none;\n      cursor: pointer;\n      padding: 0;\n    }\n    .vip-guide-dialog .runner-close-btn:hover {\n      opacity: 0.8;\n    }\n    .vip-guide-dialog p {\n      color: #1A1A1A;\n      text-align: center;\n    }\n    .vip-guide-dialog .title {\n      font-size: 18px;\n      font-weight: 600;\n    }\n    .vip-guide-dialog .content {\n      margin-top: 16px;\n      font-size: 16px;\n      font-weight: 400;\n    }\n    .vip-guide-dialog a {\n      margin-top: 40px;\n      display: block;\n      padding: 14px 0;\n      background-color: #F9E5CA;\n      color: #5E3A1A;\n      text-decoration: none;\n      border-radius: 8px;\n      transition: background-color 0.3s ease;\n      cursor: pointer;\n      text-align: center;\n      font-size: 16px;\n      font-weight: 600;\n    }\n    .vip-guide-dialog a:hover {\n      background-color: #E9D4B8;\n    }\n  ",document.getElementsByTagName("head")[0].appendChild(e)}function i(){function t(e){u||(u=!0,$.ajax({url:blogUrl+"phoenix/web/project/run",type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify({articleId:articleId}),xhrFields:{withCredentials:!0},success:function(t){if(200===t.code)if(t.data.receiveRight)a(e);else if(t.data.needCharge&&!t.data.toast)o(e,"singleBuy");else if(t.data.needCharge&&t.data.toast)showToast({text:t.data.toast,bottom:"10%",zindex:9e3,speed:500,time:2e3}),setTimeout(function(){o(e,"singleBuy")},2100);else if(t.data.needSubscribePayColumn&&t.data.toast)showToast({text:t.data.toast,bottom:"10%",zindex:9e3,speed:500,time:2e3}),setTimeout(function(){$(".article-column-bt.articleColumnBt").trigger("click")},2100);else if(t.data.needBuyVip&&!t.data.toast)o(e);else if(t.data.needBuyVip&&t.data.toast)showToast({text:t.data.toast,bottom:"10%",zindex:9e3,speed:500,time:2e3}),setTimeout(function(){o(e)},2100);else{var i=t.data.blogProjectId;n(i,e,t.data.blogProjectUrl)}else showToast({text:t.message,bottom:"10%",zindex:9e3,speed:500,time:3e3})},error:function(e){console.error("Error fetching runner info:",e)},complete:function(){u=!1}}))}function n(e,t,o){console.log("blogProjectId",e);var n="";if(n=o?o:window.appBlogDomain?window.appBlogDomain+"/blog/project/"+e:"https://app-blog.csdn.net/blog/project/"+e,t){var i="spm="+t+"&articleId="+articleId+"&ic=0";n+=n.indexOf("?")>-1?"&"+i:"?"+i}window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"3001.10904",dest:n,extra:{articleId:articleId,blogProjectId:e,from_spm:t}});var a='<iframe  allow="clipboard-write; clipboard-read; autoplay; camera; microphone; fullscreen; geolocation; encrypted-media; midi; payment; usb; accelerometer; gyroscope; magnetometer; screen-wake-lock; xr-spatial-tracking; web-share; display-capture"\n class="ins-code-runner-iframe" src="'+n+'"></iframe>';r(a)}$(document.body).on("click",".ins-code-runner-btn",function(){if(!m){m=!0;var o=$(this).attr("data-spm");if(o=o?window.csdn.report.getFullSpm(o):"",setTimeout(function(){m=!1},1e3),"exp"===runProjectDeepBlogAB){var n=deepblogUrl+"&url="+encodeURIComponent(articleDetailUrl)+"&spm="+o,i=document.createElement("a");i.style.display="none",i.href=n,i.target="_blank",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else{if(!e("UserName"))return void window.csdn.loginBox.show({spm:$(this).attr("data-spm")});t(o)}}}),window.addEventListener("message",function(e){if(e.data&&"needLoginProject"===e.data.type&&e.origin.indexOf("app-blog.csdn.net")>=0&&(console.log("event",e.data),window.csdn.loginBox.show()),e.data&&"open_url"===e.data.type&&e.origin.indexOf("app-blog.csdn.net")>=0&&e.data.url){var t=document.createElement("a");t.style.display="none",t.href=e.data.url,t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)}})}function a(e){var t=JSON.stringify({spm:"3001.10902",extra:{fromSpm:e}}),o=$('<div class="runner-overlay"></div>'),n=$('<div id="vipGuideDialog" class="vip-guide-dialog">\n        <div class="pos-box">\n          <button data-report-view=\''+t+"' data-report-click='"+t+'\' class="runner-close-btn"></button>\n          <p class="title">您的会员权益待领取</p>\n          <p class="content">\n            请到会员福利社领取 AI 权益 <br>\n            畅享 1000+ 次 AI 对话”\n          </p>\n          <a href="https://vip.csdn.net/welfarecenter?utm_source=blog-tc#discount_center" target="_blank">立即领取</a>\n        </div>\n      </div>');$("body").append(o).append(n),window.csdn.report.viewCheck(),n.find(".runner-close-btn").on("click",function(){n.fadeOut(300,function(){o.fadeOut(300,function(){$(this).remove(),n.remove()})})}),n.find("a").on("click",function(){n.fadeOut(300,function(){o.fadeOut(300,function(){n.remove(),o.remove()})})})}function s(){if(inscodeHost){var e=JSON.stringify({spm:"3001.11029"}),t=JSON.stringify({spm:"3001.11030"}),o=inscodeHost+"?utm_source=blogrun_pc_article_popup&articleId="+articleId,n=inscodeHost+"/aiChat?utm_source=blogrun_pc_article_popup&articleId="+articleId+"&report_spm=3001.11028",i=$('<div class="runner-overlay"></div>'),a=$('<div id="runnerReModal" class="runner-re-modal">\n      <div class="pos-box">\n        <button class="btn-inscode-modal-close" data-report-view=\''+t+"' data-report-click='"+t+"'>\n          <img src=\""+blogStaticHost+'dist/pc/img/inscodeModalClose.png" alt="关闭弹窗">\n        </button>\n        <div class="title-box">\n          <h2>对项目不满意？</h2>\n          <p>输入网址/文本，生成项目</p>\n        </div>\n        <iframe allow="clipboard-write; clipboard-read; autoplay; camera; microphone; fullscreen; geolocation; encrypted-media; midi; payment; usb; accelerometer; gyroscope; magnetometer; screen-wake-lock; xr-spatial-tracking; web-share; display-capture" src="'+n+'"></iframe>\n        <div class="bottom-box">\n          <a href="'+o+'" target="_blank" class="link-show-more" data-report-view=\''+e+"' data-report-click='"+e+'\'>\n            查看更多优质精品项目\n            <img class="normal" src="'+blogStaticHost+'dist/pc/img/runBlogWhite.png" alt="查看更多">\n            <img class="hover" src="'+blogStaticHost+'dist/pc/img/runBlogHover.png" alt="查看更多">\n          </a>\n        </div>\n        </div>\n    </div>');i.on("click",function(){a.fadeOut(300,function(){i.fadeOut(300,function(){a.remove(),i.remove()})})});var s=a.find(".btn-inscode-modal-close");s.on("click",function(){a.fadeOut(300,function(){i.fadeOut(300,function(){a.remove(),i.remove()})})}),$("body").append(i).append(a),window.csdn.report.viewCheck()}}function r(e){$("#runnerDialog").length>0&&($(".runner-overlay").remove(),$("#runnerDialog").remove());var t=$('<div class="runner-overlay"></div>'),o=$('<div id="runnerDialog" class="runner-dialog"></div>'),n=$('<div class="runner-box"></div>').html(e||""),i=$('<button class="runner-close-btn"></button>');n.append(i),o.append(n),$("body").append(t).append(o),$("body").css("overflow","hidden"),i.on("click",function(){o.fadeOut(300,function(){t.fadeOut(300,function(){$(this).remove(),$("body").css("overflow",""),s()}),$(this).remove()})})}function c(){var e='\n        <div class="runner-box box3 ins-code-runner-btn" data-spm="3001.10863"\n             data-report-intersect=\'{"spm":"3001.10863"}\'\n             data-report-click=\'{"spm":"3001.10863"}\'>\n            <div data-report-view=\'{"spm":"3001.10864"}\' class="close-btn">×</div>\n            <div class="runner-box-content">\n            <div class="title">本文章已经生成可运行项目</div>\n            <button \n            class="runner-btn">\n            <i class="icon-play"></i>一键运行\n            </button>\n            </div>\n        </div>';$("body").append(e);var t=$(".runner-box.box3");t.find(".close-btn").on("click",function(e){e.preventDefault(),e.stopPropagation(),window.csdn.report.reportClick({spm:"3001.10864",extra:{articleId:articleId}}),t.fadeOut(300,function(){$(this).remove()})}),l()}function l(){var e=$(".runner-box.box3"),t=$(".csdn-side-toolbar");if(t.length>0){t.outerWidth();e.css({left:t.offset().left-16-e.outerWidth()+"px"}),$(window).off("scroll",l)}else{$("#mainBox");e.hide()}}var d=window.insCodeConfigABResult,m=!1,p=!1,u=!1,h=null;h=setInterval(function(){$(".csdn-side-toolbar").length>0&&(clearInterval(h),l(),$(".runner-box.box3").css("display","flex"))},1e3),d&&(c(),l(),$(window).resize(function(){l()}),$(window).on("scroll",l)),p||(n(),p=!0),i();var f=$(".runner-box.box2 .inscode-ai-ask-box");if(f.length>0){var g=function(e){if(!e||""===e.trim())return!0;var t=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-?]*)*\/?$/;return!!t.test(e)||(showToast({text:"请输入正确博客地址后，提交",bottom:"10%",zindex:9e3,speed:500,time:1500}),!1)},v=f.find("#txtInscodeAsk"),b=f.find("#btnInscodeAiAsk");b.on("click",function(){var e=v.val();if(g(e)){window.csdn.report.reportClick({spm:"3001.11027",extra:{content:e}});var t=inscodeHost+"?blog_query="+encodeURIComponent(e)+"&utm_source=blogrun_pc_article_end_input&articleId="+articleId,o=document.createElement("a");o.style.display="none",o.href=t,o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o)}})}window.addEventListener("message",function(e){if(e.origin.indexOf("inscode.csdn.net")>-1)if("needLogin"===e.data.type){window.csdn.loginBox.show();var t=$("#runnerReModal");t.length>0&&t.find(".btn-inscode-modal-close").trigger("click")}else if("jumpToUrl"===e.data.type&&e.data.url){var n=document.createElement("a");n.style.display="none",n.href=e.data.url,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n);var i=$("#runnerReModal");i.length>0&&i.find(".btn-inscode-modal-close").trigger("click")}else if("needBuy"===e.data.type){var a=window.csdn.report.getFullSpm("3001.11028");$.ajax({url:blogUrl+"phoenix/web/project/ab481",type:"GET",dataType:"json",xhrFields:{withCredentials:!0},success:function(e){200===e.code?e.data?o(a,"singleBuy"):o(a):o(a,"singleBuy")},error:function(e){o(a,"singleBuy")},complete:function(){var e=$("#runnerReModal");e.length>0&&e.find(".btn-inscode-modal-close").trigger("click")}})}})}),$(function(){function e(){function e(){$("#publicPrompt").remove(),$(document).off("click",".publicPrompt-close",e),$(document).off("click",".publicPrompt-mask",e)}var t={success:'<svg class="icon success" aria-hidden="true"><use xlink:href="#csdnc-check"></use></svg>'};this.data={},this.data.status="success",this.data.titleStr="收藏成功",this.data.textStr='已收藏至 <a href="https://i.csdn.net/#/uc/favorite-list" target="_blank">个人中心</a>',this.data.imgUrl="",this.init=function(e){return $.extend(this.data,e),this.addStyle(),this.bindDom(),this},this.show=function(e){$.extend(this.data,e),this.insetStructure(this.data)},this.bindDom=function(){$(document).on("click",".publicPrompt-close",e),$(document).on("click",".publicPrompt-mask",e)},this.insetStructure=function(e){var o='<div id="publicPrompt"><div class="publicPrompt-mask"></div><div class="publicPrompt-content"><div class="publicPrompt-title-box"><h3 class="publicPrompt-title">'+t[e.status]+e.titleStr+'</h3><span class="publicPrompt-close"><svg class="icon" aria-hidden="true"><use xlink:href="#csdnc-times"></use></svg></span><div class="publicPrompt-text">'+e.textStr+'</div><img class="publicPrompt-qr" src="'+e.imgUrl+'" alt=""><div class="publicPrompt-footer-text">下载APP随时查看</div></div></div></div>';$("body").append(o)},this.addStyle=function(){var e=document.createElement("style");e.type="text/css",e.innerHTML=["#publicPrompt{","position: fixed;z-index: 99999;top: 0;left: 0;width: 100%;height: 100%;","}","#publicPrompt .publicPrompt-mask{","position: absolute;top: 0;left: 0;width: 100%;height: 100%;","background-color: rgba(0,0,0,0.5);","}","#publicPrompt .publicPrompt-content{","position: absolute;z-index: 2;top: 30%;left: 50%;margin-left: -175px;","background-color: #fff;width: 350px;padding: 16px;","}","#publicPrompt .publicPrompt-content .publicPrompt-title{","font-size: 16px;color: #3D3D3D;","}","#publicPrompt .publicPrompt-title svg{margin-right:4px;}","#publicPrompt .publicPrompt-title .success{fill:#89cb62;width: 20px;height: 20px;vertical-align: sub;}","#publicPrompt .publicPrompt-close{","position: absolute;top: 16px;right: 16px;cursor: pointer;","}","#publicPrompt .publicPrompt-text{","text-align: center;margin-top: 16px;margin-bottom: 16px;font-size: 14px;","}","#publicPrompt .publicPrompt-text a{","color: #3399EA;text-decoration: underline;","}","#publicPrompt .publicPrompt-qr{","display: block;width: 116px;height: 116px;padding: 8px;margin: 0 auto;border: 1px solid #EBEBEB;","}",".publicPrompt-footer-text{","font-size: 14px;color: #4D4D4D;margin-top:8px;text-align: center;","}"].join(""),document.getElementsByTagName("head")[0].appendChild(e)}}window.csdn?window.csdn:{},window.csdn.publicPrompt=e}),$(function(){function e(e,t){l.hide(),m=e,m?r.text("您举报的评论来自文章："):r.text("举报内容："),c.css({"z-index":9999}).show(),s.css({"z-index":1e4}).show()}function t(){s.find("#frmReport").trigger("reset"),c.css({"z-index":150}).hide(),s.hide(),$(".ipt-textarea").val(""),$(".box-botoom ul li").removeClass("box-active"),$(".box-content-bottom ul li").removeClass("box-active"),$(".box-content").eq(0).show().siblings().hide(),$("#cllcont").hide(),$(".content-input").val(""),flag=!1,i="",a=""}function o(e){showToast({text:e,bottom:"10%",zindex:9999,speed:500,time:1500})}var n=' <div class="report-box">  <div class="pos-boxer">      <div class="pos-content">          <div class="box-title">              <p>举报</p>              <img class="icon btn-close" src="'+blogStaticHost+'dist/pc/img/closeBlack.png">          </div>          <div class="box-header">              <div class="box-top"><span>选择你想要举报的内容（必选）</span></div>              <div class="box-botoom">                  <ul>                      <li data="1"  type="nei">内容涉黄</li>                      <li data="2" type="nei">政治相关</li>                      <li data="3" type="nei">内容抄袭</li>                      <li data="4" type="nei">涉嫌广告</li>                      <li data="5" type="nei">内容侵权</li>                      <li data="6" type="nei">侮辱谩骂</li>                      <li data="8" type="nei">样式问题</li>                      <li data="7" type="nei">其他</li>                  </ul>              </div>          </div>          <div>          <div class="box-content" >          </div>          <div class="box-content" >          </div>                    <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>原文链接（必填）</span>                      </div>                      <div class="box-content-bottom" style="padding-bottom: 16px;">                        <div class="box-input" style="height: 32px;line-height: 32px;">                        <input class="content-input" type="text" id="originalurl" name="originalurl" placeholder="请输入被侵权原文链接">                        </div>                      </div>          </div>          <div class="box-content" >          </div>          <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>请选择具体原因（必选）</span>                      </div>                  <div class="box-content-bottom">                          <ul>                              <li sub_type="1">包含不实信息</li>                              <li sub_type="2">涉及个人隐私</li>                          </ul>                      </div>          </div>          <div class="box-content" style="display:none;">                  <div class="box-content-top">                          <span>请选择具体原因（必选）</span>                      </div>                  <div class="box-content-bottom">                          <ul>                              <li sub_type="1">侮辱谩骂</li>                              <li sub_type="2">诽谤</li>                          </ul>                  </div>          </div>          <div class="box-content" style="display:none;">                <div class="box-content-top">                        <span>请选择具体原因（必选）</span>                    </div>                <div class="box-content-bottom">                        <ul>                            <li sub_type="1">搬家样式</li>                            <li sub_type="2">博文样式</li>                        </ul>                </div>          </div>          <div class="box-content" style="display:none;">          </div>          </div>            <div id="cllcont" style="display:none;">            <div class="box-content-top">              <span class="box-content-span">补充说明（选填）</span>            </div>                <div class="box-content-bottom">                  <div class="box-input" >                    <textarea class="ipt ipt-textarea" style="padding:0;"  name="description"  placeholder="请详细描述您的举报内容"></textarea>                  </div>                </div>            </div>            </div>      <div class="pos-footer">          <p class="btn-close">取消</p>          <p class="box-active">确定</p>      </div>  </div></div>';$("body").append(n);var i="",a="";$(".box-botoom ul li").on("click",function(){flag=!1,$(this).addClass("box-active").siblings().removeClass("box-active"),i=$(this).attr("data"),$(".content-input").val(""),$(".box-content").eq($(this).index()).show().siblings().hide(),"6"==$(this).attr("data")?$("#cllcont").hide():$("#cllcont").show(),"8"==$(this).attr("data")?$("#cllcont").hide():$("#cllcont").show(),$(".ipt-textarea")[0].value="",$(".box-content-bottom ul li").removeClass("box-active"),"7"==$(this).attr("data")?$(".box-content-span").html("补充说明（必填）"):$(".box-content-span").html("补充说明（选填）"),a=""}),$(".box-content-bottom ul li").on("click",function(){$(this).addClass("box-active").siblings().removeClass("box-active"),a=$(this).attr("sub_type"),flag=!0});var s=$("div.report-box"),r=s.find("#reptTit"),c=$("div.mask-dark"),l=$("#rptOriginalurl"),d=s.find('textarea[name="description"]'),m=!1,p=0;s.find(".btn-close").click(t),c.click(t);var u="";$(".box-active").on("click",function(){if(!i)return o("请选择你想要举报的内容！"),!1;switch(i){case"3":if(u=$("#originalurl").val(),""==u||"http://"==u)return o("举报抄袭必须提供原创文章地址！"),$("#originalurl").focus(),!1;break;case"7":if(u=d.val(),!u)return o("请填写补充说明！"),d.focus(),!1;break;case"5":if(!flag)return o("请选择具体原因"),!1;break;case"6":if(!flag)return o("请选择具体原因"),!1;break;case"8":if(!flag)return o("请选择具体原因"),!1}var e={articleId:articleId,commentId:m?p:"",subType:a,type:i,originalUrl:u,description:d.val()},n=m?"report-comment":"report-article";$.ajax({url:blogUrl+"/phoenix/web/v1/"+n,type:"post",dataType:"json",data:e,xhrFields:{withCredentials:!0},success:function(e){200==e.code?(t(),sessionStorage.removeItem("usename"),sessionStorage.removeItem("articleId"),o("感谢您的举报，我们会尽快审核！"),$(".ipt-textarea").val(""),$(".box-botoom ul li").removeClass("box-active"),$(".box-content-bottom ul li").removeClass("box-active"),$(".box-content").eq(0).show().siblings().hide(),$("#cllcont").hide(),$(".content-input").val(""),flag=!1,i="",a="",u="",t()):o("举报失败")}})}),$("div.comment-box").on("click","a.btn-report",function(){p=$(this).parents("li.comment-line-box").data("commentid")}),window.showReport=e}),$(function(){}),$(function(){function e(){var e=20;"exp1"===codeAbStyle&&(e=51),$("code.has-numbering").each(function(t,o){$(o).css("position","absolute"),$(o).parent("pre.prettyprint").css({position:"relative",height:$(o).outerHeight()+e+"px"})})}window.csdn=window.csdn?window.csdn:{},window.csdn.setSafariCodestyle=e}),$(function(){0==$(".btn-readmore").length&&($("#content_views").find("pre").each(function(e,t){t=$(t),"exp1"===codeAbStyle?t.find("code").height()>200?(t.addClass("set-code-height set-code-hide"),t.append('<div class="hide-preCode-box"><span class="hide-preCode-bt" data-report-view=\'{"spm":"1001.2101.3001.7365"}\'><img class="look-more-preCode contentImg-no-view" src="'+blogStaticHost+"dist/pc/img/runCode/icon-arrow"+skinStatus.toLowerCase()+'.png" alt="" title=""></span></div>')):t.addClass("set-code-show"):t.find("code").height()>340?(t.addClass("set-code-hide"),t.append('<div class="hide-preCode-box"><span class="hide-preCode-bt" data-report-view=\'{"spm":"1001.2101.3001.7365"}\'><img class="look-more-preCode contentImg-no-view" src="'+blogStaticHost+"dist/pc/img/newCodeMore"+skinStatus+'.png" alt="" title=""></span></div>')):t.addClass("set-code-show")}),$(window).resize().scroll(),$(document).on("click",".hide-preCode-bt",function(){return"exp1"===codeAbStyle?$(this).parents("pre").hasClass("set-code-hide")?($(this).parents("pre").removeClass("set-code-hide").addClass("set-code-show"),$(window).resize().scroll(),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.7365",extra:{type:"open",ab:codeAbStyle}}),!1):($(this).parents("pre").removeClass("set-code-show").addClass("set-code-hide"),$(window).resize().scroll(),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.7365",extra:{type:"close",ab:codeAbStyle}}),!1):($(this).parents("pre").removeClass("set-code-hide").addClass("set-code-show"),$(this).parents(".hide-preCode-box").hide().remove(),$(window).resize().scroll(),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.7365",extra:{type:"open",ab:codeAbStyle}}),!1)}))}),$(function(){}),window.csdn.insertcallbackBlock=computePos,$(function(){
function e(){"block"==$("#rightAside").css("display")?r&&(r=!1,console.log("rightAside"),t("#groupfile","#groupfile .toc-box",117),t("#kind_person_column","#aside-content-column ul",208)):c&&(console.log("leftAside"),c=!1,t(".groupfile",".groupfile .toc-box",117),t("#asideCategory","#aside-content ul",208))}function t(e,t,o){$(t).height()<=o&&($(e).find(".flexible-btn-new").hide(),$(e).find(".flexible-btn-new-close").hide(),208==o&&$(e).find(".aside-content").css("padding-bottom","20px"))}function o(){var e=$(window).scrollTop(),t=$(window).height(),o=$(document).height();a=$("#csdn-toolbar").height()+8;var r=0;if(o<=$(".recommend-right_aside").height()+$(".recommend-right_aside").offset().top)return void $("#recommend-right").removeAttr("style");if(r=$(".rightside-fixed-hide").children().length<=0&&!$(".rightside-fixed-hide").height()?a:$(".rightside-fixed-hide").height(),e>=r){if(8===a&&(a=$("#csdn-toolbar").height()+8),$("#recommend-right").css({position:"fixed",top:a+"px"}),!$("#groupfile").find(".flexible-btn-new").data("close")){var c=$("#groupfile").find(".flexible-btn-new").data("maxheight");$("#align-items-stretch-right").css({"max-height":c,overflow:"auto"}),$("#groupfile").find(".flexible-btn-new").hide(),$("#groupfile").find(".flexible-btn-new-close").show()}}else{if(!$("#groupfile").find(".flexible-btn-new-close").data("close")){var l=$("#groupfile").find(".flexible-btn-new").data("minheight");$("#align-items-stretch-right").css({"max-height":l,overflow:"hidden"}),$("#groupfile").find(".flexible-btn-new").show(),$("#groupfile").find(".flexible-btn-new-close").hide()}$("#recommend-right").removeAttr("style")}if(!$("#toolBarBox").hasClass("more-toolbox-active")&&"fixed"==$("#recommend-right").css("position")&&$(".kind_person").length>0){if(s<=0)s=$(window).scrollTop();else{var d=e-s;d<=0&&(d=0),$("#recommend-right").css({top:a-d+"px"})}var m=i-80,p=$(".kind_person").offset().top-e;$("#toolbarBox").height()&&$("#toolbarBox").height()>0&&(m=m-$("#toolbarBox").height()+"px"),p<=a&&n(m,p,a),e+t>=o-1&&p>a&&n(m,p,a)}}function n(e,t,o){$("#recommend-right").css({top:$("#recommend-right").position().top-t+o+"px"}),$("#kind_person_column .flexible-btn-new-close").data("close")||($("#aside-content-column").css({"max-height":e,overflow:"auto"}),"block"==$("#kind_person_column .flexible-btn-new").css("display")&&($("#kind_person_column .flexible-btn-new").hide(),$("#kind_person_column .flexible-btn-new-close").show()))}var i=window.innerHeight;$(".flexible-btn-new").click(function(){var e=0;if($(this).data("flag"))e=i-80,$("#toolbarBox").height()&&$("#toolbarBox").height()>0&&(e=e-$("#toolbarBox").height()+"px");else{var t=$(this).data("maxheight");e=t}var o=$(this).data("fbox");$(o).css({"max-height":e,overflow:"auto"}),$(this).next().show(),$(this).hide(),$(this).attr("data-close","true"),$(this).next().attr("data-close","true"),$(this).data("traigger")||$(window).trigger("scroll")}),$(".flexible-btn-new-close").click(function(){var e=$(this).data("fbox"),t=$(this).data("minheight");$(e).css({"max-height":t,overflow:"hidden"}),$(this).hide(),$(this).prev().show(),$(this).prev().attr("data-close","true"),$(this).data("scroll")&&$(e).scrollTop(0),$(this).attr("data-close","true"),$(this).data("traigger")||$(window).trigger("scroll")});var a=$("#csdn-toolbar").height()+8,s=0;o(),$(window).on("scroll",function(){o()});var r=!0,c=!0;e(),$(window).on("resize",function(){e(),o()}),window.csdnblog={},window.csdnblog.rightSidesSlideScroll=o}),$(function(){function e(){var e="Black"===skinStatus?"-dark":"",o=blogStaticHost+"dist/pc/img/sideSearch.png";o="exp"!==sideToolbarResult?o:blogStaticHost+"dist/pc/img/toolbar/search"+e+".png";var n=document.referrer;if(n&&n.indexOf("so.csdn.net")>-1){var i='<a class="option-box search" data-type="search">        <img src="'+o+'" alt="" srcset="">        <span class="show-txt">搜索</span>      </a>';$(".csdn-side-toolbar").prepend(i);var a='<div class="side-search-box"><div class="side-search-content">          <span class="search-txt">'+m+'</span><span class="search-bt no" data-type="no">否</span><span class="search-bt yes" data-type="yes">是</span>        </div><div>';if($(".csdn-side-toolbar .search").append(a),!getCookie("referrer_search")){var s=0;timer=setInterval(function(){s++,3==s&&$(".side-search-box").fadeIn(1500),7==s&&($(".side-search-box").fadeOut(1500),clearInterval(timer))},1e3),t("referrer_search",(new Date).getTime(),2)}$(".csdn-side-toolbar .search").on("click",function(e){getCookie("referrer_search")||clearInterval(timer),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"3001.5543",dest:articleDetailUrl,extend1:m}),$(".side-search-box").fadeIn(500),setTimeout(function(){$(".side-search-box").fadeOut(1500)},1e4)}),$(".side-search-box .search-bt").on("click",function(e){getCookie("referrer_search")||clearInterval(timer);var t="";t="yes"===$(e.target).data("type")?"yes":"no",window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&(window.csdn.report.reportClick({spm:"3001.5543",dest:articleDetailUrl,extend1:m,ab:t}),e.stopPropagation()),$(".side-search-box .side-search-content").html("感谢您的反馈!").css({width:"92px"}),setTimeout(function(){$(".csdn-side-toolbar .search").fadeOut(800,function(){$(this).remove()})},1e3)})}}function t(e,t,o){var n=new Date;n.setTime(n.getTime()+36e5*o),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()+";domain=.csdn.net;path=/"}function o(e,t){p&&e>.5*t&&$(".csdn-side-toolbar .side-question-box").length>0&&(getCookie("blog_ask_question")||($(".csdn-side-toolbar .side-question-box").fadeIn(),h&&(window.csdn.report&&"function"==typeof window.csdn.report.reportView&&window.csdn.report.reportView({spm:"3001.6041"}),h=!1)))}function n(){if(isShowConcision){var e='<a class="option-box sidecolumn sidecolumn-show" data-type="show" style="display:'+(isShowSideModel?"flex":"none")+'" data-report-view=\'{"spm":"3001.7788"}\' data-report-click=\'{"spm":"3001.7788"}\'>        <img src="'+blogStaticHost+'dist/pc/img/iconShowSide.png" alt="" srcset=""><img style="display:block" class="icon-option-beta" src="'+blogStaticHost+'dist/pc/img/iconSideBeta.png" alt="" srcset="">        <span class="show-txt">显示</br>侧栏</span>      </a>',t='<a  class="option-box sidecolumn sidecolumn-hide" data-type="hide" style="display:'+(isShowSideModel?"none":"flex")+'" data-report-view=\'{"spm":"3001.7789"}\' data-report-click=\'{"spm":"3001.7789"}\'>        <img src="'+blogStaticHost+'dist/pc/img/iconHideSide.png" alt="" srcset=""><img style="display:block" class="icon-option-beta" src="'+blogStaticHost+'dist/pc/img/iconSideBeta.png" alt="" srcset="">        <span class="show-txt">隐藏</br>侧栏</span>      </a>';$(".csdn-side-toolbar").prepend(e+t)}}function i(){var e="Black"===skinStatus?"-dark":"";if(isShowConcision){var t='<a class="option-box sidecolumn sidecolumn-show" data-type="show" style="display:'+(isShowSideModel?"flex":"none")+'" data-report-click=\'{"spm":"3001.10370","extra":{"type":"unfull"}}\'>        <img src="'+blogStaticHost+"dist/pc/img/toolbar/unfull"+e+'.png" alt="" srcset="">        <span class="show-txt">显示侧栏</span>      </a>',o='<a  class="option-box sidecolumn sidecolumn-hide" data-type="hide" style="display:'+(isShowSideModel?"none":"flex")+'" data-report-click=\'{"spm":"3001.10370","extra":{"type":"full"}}\'>        <img src="'+blogStaticHost+"dist/pc/img/toolbar/full"+e+'.png" alt="" srcset="">        <span class="show-txt">隐藏侧栏</span>      </a>';$(".csdn-side-toolbar").prepend(t+o)}}function a(){var e="Black"===skinStatus?"-dark":"",t='<a href=https://ai.csdn.net?utm_source=cknow_pc_blogdetail&spm=1001.2101.3001.10583 id="sidecolumn-deepseek" class="option-box sidecolumn sidecolumn-deepseek" data-type="show"  data-report-click=\'{"spm":"3001.10583"}\'>        <img src="'+blogStaticHost+"dist/pc/img/toolbar/Group"+e+'.png" alt="" srcset="">        <span class="show-txt active">点击体验</br>DeepSeekR1满血版</span>      </a>';$(".csdn-side-toolbar").prepend(t),window.csdn.report.viewCheck()}function s(){var e=[{title:"AI 搜索",img:blogStaticHost+"dist/pc/img/icon-wrap-ai-"+skinStatus+".png",url:"https://ai.csdn.net?utm_source=cknow_pc_blog_right_hover",spm:"3001.10802"},{title:"智能体",img:blogStaticHost+"dist/pc/img/icon-wrap-"+skinStatus+".png",url:"https://ai.csdn.net/cmd?utm_source=cknow_pc_blog_right_hover",spm:"3001.10803"},{title:"AI 编程",img:blogStaticHost+"dist/pc/img/message-programming-"+skinStatus+".png",url:"https://ai.csdn.net/coding?utm_source=cknow_pc_blog_right_hover",spm:"3001.10804"},{title:"AI 作业助手",img:blogStaticHost+"dist/pc/img/AI-work-"+skinStatus+".png",url:"https://ai.csdn.net/homework?utm_source=cknow_pc_blog_right_hover",spm:"3001.10805"}],t=blogStaticHost+"dist/pc/img/ai-cknow-White.png",o="";$.each(e,function(e,t){o+='<a target="_blank" href='+t.url+' data-report-click=\'{"spm":"'+t.spm+'"}\' data-know-view=\'{"spm":"'+t.spm+'"}\'>            <img src="'+t.img+'" alt="">            <span class="text">              '+t.title+"            </span>          </a>"});var n='<div class="slide-details-cknows-box"  data-report-click=\'{"spm":"3001.10583"}\' data-report-view=\'{"spm":"3001.10583"}\'>                    <div id="slide-details-cknows-header">                    <img class="icon-bg" src="'+t+'" alt="">                      <span class="title">                        AI助手                      </span>                      </div>                      <div class="slide-details-cknows-content"><div class="slide-details-cknows-mask">'+o+"                      </div></div>                    </div>";$(".csdn-side-toolbar").prepend(n),$("#slide-details-cknows-header").on("click",function(e){window.open("https://ai.csdn.net?utm_source=cknow_pc_blog_right_hover&spm=3001.10583")}),window.csdn.report.viewCheck()}function r(){$(".slide-details-cknows-box").on("mouseenter",function(){$(".slide-details-cknows-mask a").each(function(e,t){window.csdn.report&&"function"==typeof window.csdn.report.reportView&&$(t).data("know-view")&&(window.csdn.report.reportView({spm:$(t).data("know-view").spm}),$(t).removeData("know-view"))}),$(".slide-details-cknows-mask a").removeAttr("data-know-view")})}function c(){var e='<a class="sidecolumn-vip" data-type="vip" href="https://mall.csdn.net/vip?utm_source=25618_vip_blogrighticon" target="_blank" data-report-query="spm=3001.10810" data-report-click=\'{"spm":"3001.10810"}\' data-report-view=\'{"spm":"3001.10810"}\'>        <img src="'+vipActivityIcon+'" alt="" srcset="">      </a>';$(".csdn-side-toolbar").prepend(e)}function l(){g=setInterval(function(){if(window.csdn&&window.csdn.toolbarData&&window.csdn.toolbarData.topicData&&(clearInterval(g),window.csdn.toolbarData.topicData.length>0)){var e=blogStaticHost+"dist/pc/img/"+("Black"!==skinStatus?"btnGuideSide1":"btnGuideSide2")+".gif",t='href="https://mp.csdn.net/mp_blog/manage/creative"',o="3001.9732",n='<div class="sidetool-writeguide-box">\n            <a class="btn-sidetool-writeguide" data-report-view=\'{"spm":"'+o+'"}\' data-report-query="spm='+o+'" '+t+' target="_blank" data-report-click=\'{"spm":"'+o+'","extra": '+JSON.stringify({type:"monkey"})+"}'>\n              <img src=\""+e+'" alt="创作活动">\n            </a>\n            <div class="tip-box">\n              <a class="to-activity-list" data-report-click=\'{"spm":"'+o+'","extra": '+JSON.stringify({type:"tip"})+"}' data-report-query=\"spm="+o+'" '+t+' target="_blank">点我去创作中心查看更多活动~</a>\n            </div>\n          </div>';$(".csdn-side-toolbar").prepend(n),window.csdn.report.viewCheck(),setTimeout(function(){$(".sidetool-writeguide-box .tip-box").remove()},5e3)}},500)}function d(){if($(".swiper-remuneration-container").length>0){var e=function(){$(".swiper-remuneration-container .swiper-slide-active a").attr("data-report-swiper")&&(window.csdn.report.reportView(JSON.parse($(".swiper-remuneration-container .swiper-slide-active a").attr("data-report-swiper"))),$(".swiper-remuneration-container .swiper-slide-active a").removeAttr("data-report-swiper"))},t=new Swiper(".swiper-remuneration-container",{autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,mousewheel:!0,pagination:{el:".swiper-remuneration-pagination",clickable:!0},navigation:{nextEl:".swiper-remuneration-button-next",prevEl:".swiper-remuneration-button-prev"}}),o=document.querySelector(".swiper-remuneration-container"),n=t.slides.length;o.addEventListener("mouseenter",function(){t.autoplay.stop()}),o.addEventListener("mouseleave",function(){n>1&&t.autoplay.start()}),n<=1&&t.autoplay.stop();var i=n-2,a=!0;setTimeout(function(){e()},500),t.on("slideChange",function(){a&&setTimeout(function(){e()},500),t.realIndex+1==i&&(a=!1)})}}window.getSideToolbarTime=setInterval(function(){$(".csdn-side-toolbar").length>0&&(clearInterval(getSideToolbarTime),e(),"exp"!==sideToolbarResult?(l(),n()):i(),"exp1"===aKnowabstyle?(s(),r()):a(),vipActivityIcon&&c())},1e3);var m="此内容解决你搜索的问题？";"control"===showSearchText&&(m="此内容是您要找的内容？"),"secondText"===showSearchText&&(m="此内容解决你搜索的问题？");var p=!0,u=!0,h=!0,f=document.documentElement.clientHeight;window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;o(e,f)},$(document).on("click",".csdn-side-toolbar .fade-question-box",function(){$(".csdn-side-toolbar .side-question-box").fadeOut(),t("blog_ask_question",(new Date).getTime(),72),p=!1}),$(document).on("mouseenter",".csdn-side-toolbar .question",function(e){$(".csdn-side-toolbar .side-question-box").fadeIn(),$(e.target).hasClass("ask_question_img")&&u&&"block"==$(".csdn-side-toolbar .side-question-box").css("display")&&(window.csdn.report&&"function"==typeof window.csdn.report.reportView&&window.csdn.report.reportView({spm:"3001.6041"}),u=!1)}),$(document).on("mouseleave",".csdn-side-toolbar .question",function(e){u=!0}),$(document).on("click",".csdn-side-toolbar .question",function(e){window.open("https://ask.csdn.net/new?spm=1001.2101.3001.6040")}),$(document).on("click",".csdn-side-toolbar .side-question-box",function(e){e.stopPropagation()}),$(document).on("click",".csdn-side-toolbar .sidecolumn",function(e){var t=$(this).data("type");"show"==t?(isShowDirectoryModel||($("#rightAsideConcision").removeClass("show-directory"),$(".directory.directory-hide").hide(),$(".directory.directory-show").show()),$("#mainBox").removeAttr("style"),isShowSideModel=!1,$(".main_father").removeClass("mainfather-concision"),$(".main_father .container").removeClass("container-concision"),$(".sidecolumn.sidecolumn-show").hide(),$(".sidecolumn.sidecolumn-hide").show(),setCookieBaseHour("blog_details_concision",(new Date).getTime(),24)):(isShowDirectoryModel?$("#mainBox").css("margin-right","0"):($("#rightAsideConcision").addClass("show-directory"),$(".directory.directory-hide").show(),$(".directory.directory-show").hide(),$("#mainBox").removeAttr("style")),$(".main_father").addClass("mainfather-concision"),$(".main_father .container").addClass("container-concision"),isShowSideModel=!0,$(".sidecolumn.sidecolumn-hide").hide(),$(".sidecolumn.sidecolumn-show").show(),setCookieBaseHour("blog_details_concision",0,24)),window.csdn.fixedSidebar.stopListener=!$(".main_father").hasClass("mainfather-concision")}),$(document).on("click",".csdn-side-toolbar .directory",function(e){var t=$(this).data("type");"show"==t?(isShowSideModel||($("#rightAsideConcision").addClass("show-directory"),$(".main_father").addClass("mainfather-concision"),$(".main_father .container").addClass("container-concision"),$(".sidecolumn.sidecolumn-hide").hide(),$(".sidecolumn.sidecolumn-show").show()),$("#mainBox").removeAttr("style"),isShowDirectoryModel=!1,$(".directory.directory-show").hide(),$(".directory.directory-hide").show(),$("#rightAsideConcision").addClass("show-directory")):(isShowDirectoryModel=!0,$("#mainBox").css("margin-right","0"),$(".directory.directory-hide").hide(),$(".directory.directory-show").show(),$("#rightAsideConcision").removeClass("show-directory")),window.csdn.fixedSidebar.stopListener=!$(".main_father").hasClass("mainfather-concision"),setCookieBaseHour("blog_details_concision",0,24)});var g;"function"==typeof Swiper?d():setTimeout(function(){d()},1500),$("#c-blog-side-box-content a").length>0&&$("#c-blog-side-box-content a").each(function(e,t){if($(t).data("href")){var o="https://ai.csdn.net/?utm_source=cknow_pc_ai_blog_left&q="+encodeURIComponent($(t).data("href"))+"&submit=1";$(t).attr("href",o)}})});var getRecommendListUrlArr=null;$("#recommend-item-box-tow").children().length<=0&&$("#recommend-item-box-tow").remove(),baiduKey?csdn.afterCasInit=function(e,t){if(!e)return!1;var o="";4==articleSource&&$("#recommendDown .recommend_down").length<=0?csdn.baiduSearch(e,function(t){if(needInsertBaidu&&isRecommendModule)if(t&&t.length)showDownRecommend(t[0]);else{var n=$(".recommend-box .type_download")[0];if(n&&$(n).length){var i=$(n).find("a")[0],a={linkUrl:$(n).data("url"),title:$(i).text()};showDownRecommend(a)}}csdn.baiduSearch(e,function(e){needInsertBaidu&&isRecommendModule?(showResult(e,o),getQueryIdx(),reportTop10()):(getQueryIdx(),reportTop10())})},"download.csdn.net"):csdn.baiduSearch(e,function(e){needInsertBaidu&&isRecommendModule?(showResult(e,o),getQueryIdx(),reportTop10()):(getQueryIdx(),reportTop10())})}:(getQueryIdx(),reportTop10());var articleTitleContent=$("#articleContentId").text().replace(/[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、<em></em>&quot;]/g,"").replace(/\s/g,"").toLowerCase();$(function(){function e(){var e=$(".href-article-edit-new").offset(),t=$(window).scrollTop(),o=$(window).scrollLeft(),n=e.top-t,i=e.left-o;$(".slide-content-box-new").length&&"block"==$(".slide-content-box-new").css("display")&&$(".slide-content-box-new").css({top:n+34+"px",left:i+"px",position:"fixed","z-index":"4"})}function t(){$.ajax({type:"POST",url:blogUrl+"phoenix/web/v1/vip-article-read",contentType:"application/json; charset=utf-8",xhrFields:{withCredentials:!0},data:JSON.stringify({articleId:articleId}),success:function(e){200==e.code&&console.log("vip文章阅读完成，成功上报")},error:function(e){console.log("上报失败")}})}function o(e){var o=new MutationObserver(function(e){var n=!1;e.forEach(function(e){n||"attributes"!==e.type||"data-report-view"!==e.attributeName||e.target.hasAttribute("data-report-view")||(n=!0,o.disconnect(),t())})});o.observe(e,{attributes:!0,attributeFilter:["data-report-view"]})}function n(){var e=$("#toolBarBox").offset().top,t=$("#toolBarBox").offset().left,o=$(".left-toolbox").height(),n=$("#toolBarBox").width(),i=window.innerHeight,a=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;e+o-i-a>0?($("#toolBarBox .left-toolbox").css({position:"fixed","z-index":"999",left:t+"px",bottom:"0",width:n+"px"}),$("#toolBarBox").addClass("more-toolbox-active")):($("#toolBarBox .left-toolbox").css({position:"relative","z-index":"999",left:"0px",bottom:"0",width:n+"px"}),$("#toolBarBox").removeClass("more-toolbox-active"))}function i(){if(0!==$("#toolBarBox").length){var e=$("#toolBarBox").offset().top,t=$("#toolBarBox").offset().left,o=$(".left-toolbox").height(),n=$("#toolBarBox").width()-50,i=window.innerHeight,a=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;e+o-i-a>0?($("#toolBarBox .gitcode-guide-box").css({position:"fixed","z-index":"999",left:t+"px",bottom:"64px",width:n+"px"}),$("#toolBarBox").addClass("more-toolbox-active")):($("#toolBarBox .gitcode-guide-box").css({position:"relative","z-index":"999",left:"0px",bottom:"0",width:n+"px"}),$("#toolBarBox").removeClass("more-toolbox-active"))}}function a(e,t){if(U.skinBoxshadow.html(""),e){var o='<div class="reward-success reward-tip">    <svg t="1513153231313" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4182" id="mx_n_1513153231314" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m244.8 392L467.2 691.2c-8 9.6-24 12.8-36.8 12.8-12.8 0-27.2-3.2-36.8-12.8L267.2 560c-16-16-16-43.2 0-59.2s41.6-16 57.6 0l105.6 110.4 267.2-278.4c16-16 41.6-16 57.6 0s16 43.2 1.6 59.2z" p-id="4183" fill=""></path></svg>    <span>'+t+"</span>    </div>";U.skinBoxshadow.append(o)}else{var n='<div class="reward-error reward-tip">    <svg t="1513590447537" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9504" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M512 0C228.8 0 0 228.8 0 512s228.8 512 512 512 512-228.8 512-512S795.2 0 512 0z m0 832c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z m64-320c0 35.2-28.8 64-64 64s-64-28.8-64-64V256c0-35.2 28.8-64 64-64s64 28.8 64 64v256z" p-id="9505" fill=""></path></svg>    <span>'+t+"</span>    </div>";U.skinBoxshadow.append(n)}U.skinBoxshadow.fadeIn(200),setTimeout(function(){U.skinBoxshadow.fadeOut(200),U.skinBoxshadow.html("")},1500)}function s(e,t){t?e.addClass("active"):e.removeClass("active")}function r(e,t){var o="";t&&(o=JSON.stringify({type:t})),getCookie("UserName")?$.ajax({url:blogUrl+"/phoenix/web/v1/article/like",type:"post",dataType:"json",data:{articleId:articleId},xhrFields:{withCredentials:!0},success:function(t){if(200==t.code){if(t.data.status)$("#is-like-img").hide(),$("#is-like-img-new").hide(),$("#is-like-imgactive").show(),$("#is-like-imgactive-new").show(),isLikeStatus=!0,isUnLikeStatus&&e&&c(!1),s($("#spanCount"),!0),$("#spanCount")[0].style="color:#fc5531 !important;",window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1582594662_001",spm:"1001.2101.3001.4241",dest:"",extend1:'{"praise":1}',extra:o});else{$("#is-like-imgactive").hide(),$("#is-like-imgactive-new").hide(),$("#is-like-img").show(),$("#is-like-img-new").show(),isLikeStatus=!1,e&&c(!1),s($("#spanCount"),!1);var n="color:#999999 !important;";"Black"===skinStatus&&(n="color:#ccccd8 !important;"),$("#spanCount")[0].style=n,window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1582594662_001",spm:"1001.2101.3001.4241",dest:"",extend1:'{"praise":0}',extra:o})}$("#spanCount").text(t.data.like_num>0?t.data.like_num:""),detailheaderAbStyle&&"exp1"==detailheaderAbStyle?($("#blog-digg-num").text(t.data.like_num>0?""+actionNumberFormat(t.data.like_num):"0"),t.data.status?$("#blog-digg-num").css({color:"#fc5531"}):$("#blog-digg-num").removeAttr("style")):$("#blog-digg-num").text(t.data.like_num>0?"点赞数"+actionNumberFormat(t.data.like_num):"点赞数0")}else a(!1,t.message);_()}}):window.csdn.loginBox.show({spm:"1001.2101.3001.8604"})}function c(e){getCookie("UserName")?$.ajax({url:blogUrl+"/phoenix/web/v1/article/bury",type:"post",dataType:"json",data:{articleId:articleId},xhrFields:{withCredentials:!0},success:function(t){200==t.code?t.data.status?($("#is-unlike-img").hide(),$("#is-unlike-imgactive").show(),isUnLikeStatus=!0,isLikeStatus&&e&&r(!1),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.6669",extend1:'{"praise":1}'})):($("#is-unlike-imgactive").hide(),$("#is-unlike-img").show(),isUnLikeStatus=!1,e&&r(!1),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.6669",extend1:'{"praise":0}'})):a(!1,t.message)}}):window.csdn.loginBox.show({spm:"1001.2101.3001.8605"})}function l(){window.csdn.loginBox.key({biz:"blog",subBiz:"other_service",cb:function(){$.ajax({url:blogUrl+"/phoenix/web/v1/collect",dataType:"json",type:"POST",xhrFields:{withCredentials:!0},data:{articleId:articleId},success:function(e){200===e.code&&d(e.data.status)},error:function(){}})}})}function d(e,t){var o=1*$("#get-collection").attr("data-num");if(e){if($("#is-collection-imgactive").show(),$("#is-collection-img").hide(),detailheaderAbStyle&&"exp1"==detailheaderAbStyle&&$(".get-collection").css({color:"#fc5531"}),s($("#get-collection"),!0),$("#blog_detail_zk_collection .un-collect-status").hide(),$("#blog_detail_zk_collection .collect-status").show(),N){if(N=!1,t)return;o?($(".get-collection").text(actionNumberFormat(o+1)),$("#get-collection").text(o+1),$("#get-collection").attr("data-num",o+1)):$(".get-collection").text("1")}}else{if($("#is-collection-imgactive").hide(),$("#is-collection-img").show(),s($("#get-collection"),!1),"White"==skinStatus?$(".get-collection").css({color:"#999aaa"}):$(".get-collection").css({color:"#999999"}),$("#blog_detail_zk_collection .un-collect-status").show(),$("#blog_detail_zk_collection .collect-status").hide(),N=!0,t)return;o?1*o-1<=0?($(".get-collection").text(""),$("#get-collection").attr("data-num",0)):($(".get-collection").text(actionNumberFormat(o-1)),$("#get-collection").text(o-1),$("#get-collection").attr("data-num",o-1)):$(".get-collection").text("")}_()}function m(){getCookie("UserName")&&$.ajax({url:blogUrl+"phoenix/web/v1/isCollect",type:"GET",xhrFields:{withCredentials:!0},data:{articleId:articleId},success:function(e){200===e.code&&d(e.data.status,!0),_()}})}function p(e,t,o){o.length&&$.ajax({type:"GET",url:blogUrl+e,dataType:"json",xhrFields:{withCredentials:!0},data:{articleId:articleId},success:function(e){200==e.code&&t(e.data,o)},error:function(e){}})}function u(e,t){var o="";if(e.list&&e.list.length){if(o='<div class="reward-left">',$.each(e.list,function(e,t){e<10&&(o+='<a class="reward-href" target="_blank" href="'+blogUrl+t.username+'"><img src="'+t.avatarUrl+'" alt=""></a>')}),o+="</div>",o+='<div class="reward-right">'+(e.total>10?"等":"")+'<span class="count">'+e.total+"</span>人已打赏</div>",t.html(o),U.rewardContent.show(),U.initHeighgt=50,f())var n=422;else var n=480;$(".tool-item-reward .count").html(e.total),U.rewardNew.css({"max-height":n+U.initHeighgt+"px"})}else U.rewardContent.hide(),U.initHeighgt=0}function h(e,t){Number(e)-Number(t)<0?U.sureBoxBlance.addClass("active"):U.sureBoxBlance.removeClass("active")}function f(){var e=0;return U.payType.each(function(t,o){if($(o).hasClass("active"))return void(e=t)}),"blance"===U.payType.eq(e).data("type")}function g(e){U.sureBoxBlance.find(".tip").removeAttr("style",""),e.value||(e.value=2),U.moneyNum=e.value,h(U.blance,U.moneyNum),U.codeNum.html("¥"+U.moneyNum),0<Number(U.moneyNum)<=500?f()||v():U.customizeTip.fadeIn(1e3,function(){U.customizeTip.fadeOut(1e3)})}function v(){if(initRewardObject&&""!=initRewardObject.sign){var e={product_id:72029,goods_id:77957,num:Number(U.moneyNum),flag:39,request_type:4,is_use_balance:0,ext:initRewardObject,stringExt:JSON.stringify(initRewardObject),success_function:k,error_function:w,timeout_function:x,get_pay_success_callback:C,payment_function:b};U.codeImgBox.html(U.payrun),cart.qrPay(e)}else showToast({text:"打赏信息失效，请刷新页面重试",bottom:"10%",zindex:9002,speed:500,time:1500})}function b(){imgsrc="https://csdnimg.cn/release/download/images/pay_error.png",imgtext="已扫码<br>请在手机端操作",U.codeImgBox.html('<div class="renovate"><img src="'+imgsrc+'"><span>'+imgtext+"</span></div>")}function w(e){showToast({text:e.errorMessage,bottom:"10%",zindex:9002,speed:500,time:1500})}function x(){U.codeImgBox.html(U.repeatAgain)}function y(e,t){var o=qrcode(6,"M");o.addData(e),o.make(),t.html(o.createImgTag(3,3))}function k(e,t){y(t.pay_url,U.codeImgBox)}function C(){U.rewardNew.fadeOut(),U.skinBoxshadow.html("");var e='<img style="position:fixed;margin:auto;left:0px;top:0px;right:0px;bottom:0px" src="'+blogStaticHost+'dist/pc/img/newRewardSuccess.gif" alt="打赏" title="打赏">';U.skinBoxshadow.append(e),setTimeout(function(){p(U.ajaxRewardUrl,u,U.rewardContent),U.skinBoxshadow.fadeOut(200),U.skinBoxshadow.html("")},4e3)}function S(e){if(getCookie("UserName")){var t=$(".tool-attend");t.is(".tool-unbt-attend")?(t.removeClass("tool-unbt-attend").addClass("tool-bt-attend").text("关注"),F&&(window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1592215036_002",spm:"1001.2101.3001.4132",extend1:"已关注"}),F=!1)):(t.removeClass("tool-bt-attend").addClass("tool-unbt-attend").text("已关注"),F&&(window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1592215036_002",spm:"1001.2101.3001.4132",extend1:"关注"}),F=!1))}else window.csdn.loginBox.show({spm:"1001.2101.3001.8606"});_()}function _(){if("block"===$("#is-like-imgactive").css("display")&&"block"===$("#is-collection-imgactive").css("display")&&$(".tool-unbt-attend").length>0){if($("#health-companies").length){$("#health-companies").removeClass("active");var e=$("#health-companies").attr("src");e.indexOf("Default")>-1?$("#health-companies").attr("src",e):$("#health-companies").attr("src",e.replace("Active","Default"))}}else if($("#health-companies").length){$("#health-companies").addClass("active");var e=$("#health-companies").attr("src");e.indexOf("Default")>-1?$("#health-companies").attr("src",e.replace("Default","Active")):$("#health-companies").attr("src",e)}}if($(document).on("mouseover",".article-bar-top .time",function(){if($(".article-info-box .up-time").length){var e=$(this).offset().left,t=($(this).width(),$(this).parents().find(".article-bar-top").offset().left);$(".article-info-box .up-time").css({left:e-t-10}).show()}}),$(document).on("mouseout",".article-bar-top .time",function(){$(".article-info-box .up-time").length&&$(".article-info-box .up-time").hide()}),detailheaderAbStyle&&"exp1"==detailheaderAbStyle&&$(".href-article-edit-new").length){var B=!1;$(document).on("click",".href-article-edit-click",function(){$(".href-article-edit-new").hasClass("active")?($(".slide-content-box-new").hide(),$(".href-article-edit-new").removeClass("active")):($(".slide-content-box-new").show(),$(".href-article-edit-new").addClass("active"),e(),B=!0)}),$(document).on("mouseover",".href-article-edit-new",function(){B=!0}),$(document).on("mouseout",".href-article-edit-new",function(){B=!1}),$(document).on("click",function(){B||($(".slide-content-box-new").hide(),$(".href-article-edit-new").removeClass("active"))}),$(window).on("scroll",function(){e()}),$(window).on("resize",function(){e()})}var B=!0;$(document).on("click",".article-info-box .slide-toggle",function(){B?$(this).text("收起"):$(this).text("CC 4.0 BY-SA版权"),$(this).parents(".article-info-box").find(".slide-content-box").slideToggle(),B=!B});var I='{"mod":"1585297308_001","spm":"1001.2101.3001.6548","dest":"'+articleDetailUrl+'","extend1":"pc","ab":"new"}';if(canRead){var T=$("<div data-report-view="+I+"><div>");$(".hide-article-box").length?$(document).on("click",".hide-article-box .btn-readmore",function(){$("#content_views").after(T),isVipArticle&&o(T[0])}):($("#content_views").after(T),isVipArticle&&o(T[0]))}$("#blog_detail_zk_collection").click(function(){getCookie("UserName")?window.csdn.collectionBox.show(window.csdn.collectionBox.params):window.csdn.loginBox.show({spm:"1001.2101.3001.4130"})}),$("#tool-reward").on("click",function(){$("#reward").show()});var A=$("#tool-downloadpdf");A.length>0&&A.on("click",function(){setTimeout(function(){$(".blog-content-box").print()},500)}),$(".is-like").on("click",function(){var e=$(this).data("type");isUnLikeStatus?c(!0):r(!1,e)}),$("#is-unlike").on("click",function(){isLikeStatus?r(!0):c(!1)}),$("#getVipUrl").on("click",function(){if($(this).hasClass("unlogin"))window.csdn.loginBox.show({spm:"1001.2101.3001.4249"});else if(vipArticleAbStyle&&("control"===vipArticleAbStyle||"newStyle2"===vipArticleAbStyle)&&window.csdn&&window.csdn.userOrderTip)window.csdn.userOrderTip.show({product_id:1151,goods_id:2076,flag:6,learnNum:viewCountFormat,tags:["6"],report_ext:{spm:"1001.2101.3001.4249"}});else{var e=document.createElement("a");e.style.display="none",e.href="https://mall.csdn.net/vip?spm=1001.2101.3001.4249",e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)}}),
$("#btn-readmore-zk").on("click",function(){$("#btn-readmore").show()}),$("#btn-no-login").on("click",function(){window.csdn.loginBox.show({spm:"1001.2101.3001.9442"})}),$("#btn-readmore").on("click",function(){var e=$(window).height();e*$(this).attr("height");$(".hide-article-box").show(),$("div.article_content")[0].style="height:2000px; overflow: hidden;",n(),$("#btn-readmore").hide(),$(".btn-readmore-gz")&&$(".btn-readmore-gz span").text("阅读全文")}),$(document).on("click",".is-collection > a.tool-item-href",function(){getCookie("UserName")?window.csdn.collectionBox.show(window.csdn.collectionBox.params):window.csdn.loginBox.show({spm:"1001.2101.3001.4130"})}),$(document).on("click",".btn-change-collect",function(){getCookie("UserName")?window.csdn.collectionBox.show(window.csdn.collectionBox.params):window.csdn.loginBox.show({spm:"1001.2101.3001.4130"})}),$(document).on("click",".tool-more .article-report",function(){getCookie("UserName")?showReportNew(!1,articleTitles):window.csdn.loginBox.show()}),$("#toolBarBox").length>0&&(n(),$(window).scroll(function(){n()}),$(window).resize(function(){n()})),$("#toolBarBox").length>0&&window.hasOwnProperty("isGitCodeBlog")&&isGitCodeBlog&&(i(),$(window).scroll(function(){i()}),$(window).resize(function(){i()})),$(document).on("click",".csdn-side-toolbar .option-box",function(e){isShowConcision&&setTimeout(function(){n()},100)}),$(".btn-readmore").click(n);var N=!0;window.csdn.collectionBox&&(window.csdn.collectionBox.params={url:curentUrl,title:articleTitle,description:articleDesc,author:username,source_id:articleId,source:"blog",collectionCallBack:function(e){d(e)}}),m();var U={blance:"",rewardBtNew:$("#rewardBtNew,#rewardBtNewHide"),rewardNew:$("#rewardNew"),rewardContent:$(".reward-box-new .reward-content"),skinBoxshadow:$(".skin-boxshadow"),rewardClose:$(".reward-popupbox-new .reward-close"),sureBoxBlance:$(".reward-popupbox-new .sure-box-blance"),moneyNum:1,payType:$(".reward-popupbox-new .pay-type"),domBlance:$(".reward-popupbox-new .pay-type-num"),rewardBt:$(".reward-popupbox-new .reward-sure"),chooseMoney:$(".reward-popupbox-new .choose-money"),customizeMoney:$(".reward-popupbox-new .customize-money"),customizeTip:$(".reward-popupbox-new .customize-tip"),isShowCode:$(".reward-popupbox-new .sure-box-money"),codeNum:$(".reward-popupbox-new .code-num"),codeImgBox:$(".reward-popupbox-new .code-img-box"),payrun:'<div class="renovate"><img src="'+blogStaticHost+'dist/pc/img/pay-time-out.png"><span>获取中</span></div>',repeatAgain:'<div class="renovate"><img src="'+blogStaticHost+'dist/pc/img/pay-time-out.png"><span>点击重新获取</span></div>',ajaxRewardUrl:"phoenix/web/v1/reward/article-users",initHeighgt:0};U.rewardBtNew.on({click:function(){getCookie("UserName")?getCookie("UserName")!==username?(p(U.ajaxRewardUrl,u,U.rewardContent),U.codeNum.html("¥"+U.moneyNum),U.sureBoxBlance.find(".tip").html(""),U.isShowCode.slideDown(500),U.sureBoxBlance.slideUp(500),U.rewardNew.animate({"max-height":480+U.initHeighgt+"px"},500),v(),U.skinBoxshadow.fadeIn(),U.rewardNew.fadeIn()):showToast({text:"自己不能打赏自己",bottom:"10%",zindex:9002,speed:500,time:1500}):window.csdn.loginBox.show({spm:"1001.2101.3001.4237"})}}),U.rewardClose.on("click",function(e){U.rewardNew.fadeOut(),U.skinBoxshadow.fadeOut();var t=e||window.e;t&&t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}),U.payType.click(function(){U.payType.removeClass("active"),$(this).addClass("active"),f()?(h(U.blance,U.moneyNum),U.isShowCode.slideUp(500),U.sureBoxBlance.slideDown(500,function(){U.sureBoxBlance.find(".tip").html('您的余额不足，请更换扫码支付或<a target="_blank" data-report-click=\'{"mod":"1597646289_003","spm":"1001.2101.3001.4302"}\' href="https://i.csdn.net/#/wallet/balance/recharge?utm_source=RewardVip" class="go-invest">充值</a>')}),U.rewardNew.animate({"max-height":422+U.initHeighgt+"px"},500)):(U.codeNum.html("¥"+U.moneyNum),U.sureBoxBlance.find(".tip").html(""),U.isShowCode.slideDown(500),U.sureBoxBlance.slideUp(500),U.rewardNew.animate({"max-height":480+U.initHeighgt+"px"},500),v())}),U.chooseMoney.click(function(){U.chooseMoney.removeClass("choosed"),U.customizeMoney.removeClass("active"),U.customizeMoney.attr("placeholder","自定义"),U.customizeMoney.val(""),$(this).addClass("choosed"),U.moneyNum=$(this).data("id"),U.codeNum.html("¥"+U.moneyNum),f()?h(U.blance,U.moneyNum):v()}),U.customizeMoney.on({focus:function(){U.chooseMoney.removeClass("choosed"),$(this).addClass("active"),$(this).attr("placeholder","1-500"),f()&&(U.sureBoxBlance.addClass("active"),U.sureBoxBlance.find(".tip").css({display:"none"}))},input:function(){$(this)[0].value=$(this)[0].value.replace(/^(0+)|[^\d]+/g,""),$(this)[0].value?($(this)[0].value>500&&($(this)[0].value=2,U.customizeTip.fadeIn(1e3,function(){U.customizeTip.fadeOut(1e3)})),h(U.blance,$(this)[0].value),U.sureBoxBlance.find(".tip").removeAttr("style","")):f()&&(U.sureBoxBlance.addClass("active"),U.sureBoxBlance.find(".tip").css({display:"none"}))},blur:function(){g($(this)[0])}}),U.customizeMoney.on("keydown",function(e){var t=e||event;13==t.which&&g($(this)[0])}),U.rewardBt.on("click",function(e){if(getCookie("UserName"))if(initRewardObject&&""!=initRewardObject.sign){if(!U.sureBoxBlance.hasClass("active")&&"none"!==U.sureBoxBlance.css("display")&&f&&0<Number(U.moneyNum)<500){var t={product_id:72029,goods_id:77957,num:Number(U.moneyNum),flag:39,request_type:4,is_use_balance:2,ext:initRewardObject,stringExt:JSON.stringify(initRewardObject)};$.ajax({url:"https://mall.csdn.net/mp/mallorder/order/quickBuy",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(t),xhrFields:{withCredentials:!0},success:function(e){e.code?C():400103012===res.code&&showToast({text:"余额不足，请选择其他支付方式",bottom:"10%",zindex:9002,speed:500,time:1200})}})}}else showToast({text:"打赏信息失效，请刷新页面重试",bottom:"10%",zindex:9002,speed:500,time:1500});else window.csdn.loginBox.show({spm:"1001.2101.3001.4237"})}),U.codeImgBox.on("click",".renovate",function(){v()});var F=!1;$("#btnAttent").on("click",function(){S()}),$(".tool-attend").on("click",function(e){e.originalEvent&&(F=!0),$("#btnAttent").trigger("click")}),$("#health-companies").on("click",function(){getCookie("UserName")?$(this).hasClass("active")&&(window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:"1001.2101.3001.4429"}),"block"==$("#is-like-img").css("display")&&(isUnLikeStatus?c(!0):r(!1)),"block"==$("#is-collection-img").css("display")&&l(),$(".tool-bt-attend").length>0&&($(".tool-attend").trigger("click"),window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({mod:"1592215036_002",spm:"1001.2101.3001.4132",extend1:"关注"})),$("#is-like-imgactive-animation-like").show().addClass("active-animation"),$("#is-collection-img-collection").show().addClass("active-animation"),$(".tool-item-follow").show().addClass("active-animation"),setTimeout(function(){$("#is-like-imgactive-animation-like").hide().removeClass("active-animation"),$("#is-collection-img-collection").hide().removeClass("active-animation"),$(".tool-item-follow").hide().removeClass("active-animation")},800)):window.csdn.loginBox.show()});var j=!0;if($(".toolbox-list a.tool-item-href").on({mouseover:function(){if(j){var e=$(this).find("img.isdefault"),t=$(this).find("span.count");e.attr("src");"block"==e.css("display")?"White"==skinStatus?t.css({color:"#999999"}):t.css({color:"#999aaa"}):t.css({color:"#fc5531"}),j=!j}},mouseout:function(){if(!j){var e=$(this).find("img.isdefault"),t=$(this).find("span.count");e.attr("src");"block"==e.css("display")?"White"==skinStatus?t.css({color:"#999aaa"}):t.css({color:"#999999"}):t.css({color:"#fc5531"}),j=!j}}}),!getCookie("UserName")){var R=$("div.article_content"),P=R.offset().top,E=R.height(),O=document.body.clientHeight||document.documentElement.clientHeight,L=$(document).scrollTop(),D=!0;$(document).scroll(function(){L=$(document).scrollTop(),(L+O-P>E/2||L+O-P>2*O)&&D&&$(".tool-active-list").show()}),$("#tool-active-list-collection").on("click",function(){window.csdn.loginBox.show({spm:"1001.2101.3001.9443"})}),$("#tool-active-list-close").on("click",function(){$(".tool-active-list").hide(),D=!1})}if($(".annotation-boxshadow").length>0){window.addEventListener("message",function(e){e.data&&"blog-code"==e.data.type&&e.data.success&&($("#annotatio-num").text(e.data.unUseCount),e.data.unUseCount<=0&&($(".code-annotation").html('<div class="code-annotation-mask" data-title="今日免费次数已用完"></div>'),$(".code-annotation").addClass("active")),$(".i-ai-code-bottom").show(),window.csdn.report&&"function"==typeof window.csdn.report.reportView&&window.csdn.report.reportView({spm:"3001.10008"}))});var M=!1;$(".annotation-content").hover(function(){M=!0},function(){M=!1}),$(".annotation-boxshadow").on("click",function(e){M||($(this).hide(),$("#annotation-iframe")[0].contentWindow.postMessage({type:"blog-code-close"},"*"))}),$(document).on("click",".annotation-close",function(){$(".annotation-boxshadow").hide(),$("#annotation-iframe")[0].contentWindow.postMessage({type:"blog-code-close"},"*")})}var z="",H=$(".annotation-content").attr("data-num")||"0";$(document).on("click",".annotation-btn",function(){var e="3001.10008";H!=$(".annotation-content").attr("data-num")&&(z=""),H=$(".annotation-content").attr("data-num")||"0",$(this).find(".annotation-active").show(),$(this).find(".annotation-def").hide(),$(".annotation-btn").removeClass("active"),$(this).addClass("active"),"cai"==$(this).data("type")?(e="3001.10009",$(".annotation-zan .annotation-def").show(),$(".annotation-zan .annotation-active").hide()):($(".annotation-cai .annotation-def").show(),$(".annotation-cai .annotation-active").hide()),$(this).data("type")!=z&&window.csdn.report&&"function"==typeof window.csdn.report.reportClick&&window.csdn.report.reportClick({spm:e,extra:JSON.stringify({index:H})}),z=$(this).data("type")})}),$(function(){function e(){var e=new Date;e.setHours(23,59,59,999);var t=e.getTime();localStorage.setItem("trafficBubble_"+articleId,t)}window.csdn.report&&"function"==typeof window.csdn.report.reportView&&window.csdn.report.reportView({spm:"3001.10095"});var t=null,o=document.getElementById("is-traffic");if(o){var n=(new Date).getTime(),i=localStorage.getItem("trafficBubble_"+articleId);if(null===i||i&&parseInt(i)<n){var a=o.querySelector("div.is-traffic-bubblebox");a.style.display="block",window.csdn.report&&"function"==typeof window.csdn.report.reportView&&(window.csdn.report.reportView({spm:"3001.10096"}),window.csdn.report.reportView({spm:"3001.10097"})),clearTimeout(t),t=setTimeout(function(){a.style.display="none"},1e4),a.querySelector("img.traffic-bubble-closeimg").onclick=function(o){clearTimeout(t),e(),a.style.display="none"}}}}),$(function(){function e(e,t){var o=6,n=new Date;n.setTime(n.getTime()+36e5*o),document.cookie=e+"="+escape(t)+";expires="+n.toGMTString()+";domain=.csdn.net;path=/"}function t(e){var t,o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(o))?unescape(t[2]):null}if(!currentUserName){var o=$("div.article_content"),n=o.offset().top,i=o.height(),a=document.body.clientHeight||document.documentElement.clientHeight,s=$(document).scrollTop();$(document).scroll(function(){s=$(document).scrollTop(),t("loginbox_strategy")||t("unlogin_scroll_step")||t("UserName")||(s+a-n>i/2||s+a-n>2*a)&&(window.csdn.loginBox.show({spm:"3001.9454"}),e("unlogin_scroll_step",(new Date).getTime()))})}});var UrlValidator=function(){function e(){_classCallCheck(this,e),this.urlRegex=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,this.strictUrlRegex=/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/,this.httpRegex=/^https?:\/\/.+/,this.pathRegex=/^(\/|\.\/|\.\.\/)[\w\/\-\.]+$/,this.emailRegex=/^mailto:[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,this.fileRegex=/^file:\/\/\/.+$/,this.ipRegex=/^https?:\/\/(\d{1,3}\.){3}\d{1,3}(:\d+)?(\/.*)?$/,this.localhostRegex=/^https?:\/\/(localhost|127\.0\.0\.1)(:\d+)?(\/.*)?$/,this.domainRegex=/^(https?:\/\/)?(www\.)?([^\/\s]+)/,this.pathExtractRegex=/^https?:\/\/[^\/]+(\/.*)$/}return _createClass(e,[{key:"isUrl",value:function(e){return this.urlRegex.test(e)}},{key:"isStrictUrl",value:function(e){return this.strictUrlRegex.test(e)}},{key:"isHttpUrl",value:function(e){return this.httpRegex.test(e)}},{key:"isPath",value:function(e){return this.pathRegex.test(e)}},{key:"isEmailLink",value:function(e){return this.emailRegex.test(e)}},{key:"isFileUrl",value:function(e){return this.fileRegex.test(e)}},{key:"isIpUrl",value:function(e){return this.ipRegex.test(e)}},{key:"isLocalhostUrl",value:function(e){return this.localhostRegex.test(e)}},{key:"isValidLink",value:function(e){return this.isUrl(e)||this.isPath(e)||this.isEmailLink(e)||this.isFileUrl(e)||this.isIpUrl(e)||this.isLocalhostUrl(e)}},{key:"extractDomain",value:function(e){var t=e.match(this.domainRegex);return t?t[3]:null}},{key:"extractPath",value:function(e){var t=e.match(this.pathExtractRegex);return t?t[1]:"/"}},{key:"hasQueryParam",value:function(e,t){var o=new RegExp("[?&]"+t+"=([^&]*)");return o.test(e)}},{key:"getQueryParam",value:function(e,t){var o=new RegExp("[?&]"+t+"=([^&]*)"),n=e.match(o);return n?decodeURIComponent(n[1]):null}},{key:"isAllowedDomain",value:function(e,t){var o=this.extractDomain(e);return!!o&&t.some(function(e){return o===e||o.endsWith("."+e)})}},{key:"formatUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https";return e?(e=e.trim(),this.isHttpUrl(e)||(e=t+"://"+e),e):""}},{key:"validateAndFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e||""===e.trim())return{isValid:!1,message:"请输入链接地址",formattedUrl:""};if(e=e.trim(),!this.isUrl(e))return{isValid:!1,message:"请输入有效的链接地址",formattedUrl:""};try{var o=this.formatUrl(e);return t.length>0&&!this.isAllowedDomain(o,t)?{isValid:!1,message:"暂不支持该网站",formattedUrl:o}:{isValid:!0,message:"链接格式正确",formattedUrl:o}}catch(n){return{isValid:!1,message:"请输入有效的链接地址",formattedUrl:""}}}}]),e}();if("undefined"!=typeof module&&module.exports?module.exports=UrlValidator:"undefined"!=typeof window&&(window.UrlValidator=UrlValidator),"undefined"!=typeof console){var validator=new UrlValidator;console.log("=== URL验证测试 ==="),console.log("https://blog.csdn.net/article/123:",validator.isUrl("https://blog.csdn.net/article/123")),console.log("blog.csdn.net/article/123:",validator.isUrl("blog.csdn.net/article/123")),console.log("not-a-url:",validator.isUrl("not-a-url")),console.log("mailto:test@example.com:",validator.isEmailLink("mailto:test@example.com")),console.log("file:///path/to/file:",validator.isFileUrl("file:///path/to/file")),console.log("=== 域名提取测试 ==="),console.log("https://blog.csdn.net/article/123 的域名:",validator.extractDomain("https://blog.csdn.net/article/123")),console.log("=== 参数提取测试 ==="),console.log("https://example.com?param=value 的param值:",validator.getQueryParam("https://example.com?param=value","param"))}$(function(){$(".read-all-content-btn").on("click",function(){$.ajax({type:"POST",url:blogUrl+"phoenix/web/v1/vip-article-read",contentType:"application/json; charset=utf-8",xhrFields:{withCredentials:!0},data:JSON.stringify({articleId:articleId}),success:function(e){200==e.code&&(console.log("vip文章阅读完成，成功上报"),window.location.reload())},error:function(e){console.log("上报失败")}})})}),"undefined"!=typeof document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){return"undefined"==typeof Chart?void("undefined"!=typeof console&&console.log("ERROR: You must include chart.min.js on this page in order to use Chart.js")):void[].forEach.call(document.querySelectorAll("div.chartjs"),function(e){var t,o;t="undefined"!=typeof chartjs_colors?chartjs_colors:"undefined"!=typeof chartjs_colors_json?JSON.parse(chartjs_colors_json):{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,0.8)",highlightFill:"rgba(151,187,205,0.75)",highlightStroke:"rgba(151,187,205,1)",data:["#B33131","#B66F2D","#B6B330","#71B232","#33B22D","#31B272","#2DB5B5","#3172B6","#3232B6","#6E31B2","#B434AF","#B53071"]},o="undefined"!=typeof chartjs_config?chartjs_config:"undefined"!=typeof chartjs_config_json?JSON.parse(chartjs_config_json):{Bar:{animation:!1},Doughnut:{animateRotate:!1},Line:{animation:!1},Pie:{animateRotate:!1},PolarArea:{animateRotate:!1}};var n=e.getAttribute("data-chart"),i=JSON.parse(e.getAttribute("data-chart-value"));if(i&&i.length&&n){e.innerHTML="";var a=document.createElement("canvas");a.height=e.getAttribute("data-chart-height"),e.appendChild(a);var s=document.createElement("div");s.setAttribute("class","chartjs-legend"),e.appendChild(s);var r,c=a.getContext("2d"),l=new Chart(c);if("bar"!=n)for(r=0;r<i.length;r++)i[r].color=t.data[r],i[r].highlight=t.data[r];if("bar"==n||"line"==n){var d={datasets:[{label:"",fillColor:t.fillColor,strokeColor:t.strokeColor,highlightFill:t.highlightFill,highlightStroke:t.highlightStroke,data:[]}],labels:[]};for(r=0;r<i.length;r++)i[r].value&&(d.labels.push(i[r].label),d.datasets[0].data.push(i[r].value));s.innerHTML=""}"bar"==n?l.Bar(d,o.Bar):"line"==n?l.Line(d,o.Line):"polar"==n?s.innerHTML=l.PolarArea(i,o.PolarArea).generateLegend():"pie"==n?s.innerHTML=l.Pie(i,o.Pie).generateLegend():s.innerHTML=l.Doughnut(i,o.Doughnut).generateLegend()}})}),$(function(){var e=setInterval(function(){if(window.Swiper){clearInterval(e);var t=new CSDNviewImg("#content_views");window.t=t,$("#content_views").on("click","img",function(e){if(e.currentTarget.src&&e.currentTarget.className.indexOf("contentImg-no-view")<0){var o=$(this).index("#content_views img:not(.contentImg-no-view)");$(".imgViewDom").fadeIn(300,function(){t.update(),t.slideTo(o,0)}),$("body").css({overflow:"hidden"})}})}},1e3);middleJump?middleJump({el:"#content_views",url:"https://link.csdn.net"}):$("#content_views").find("a").click(function(e){if(this.href&&"_self"!==this.target){e.preventDefault();var t=window.open(this.href,"_blank");t.focus()}})}),$(function(){function t(e,t,n){$.get(blog_address+"/phoenix/article/privacy?articleId="+e+"&index="+t+"&reason="+n,function(e){var t=e;t.result?(alert("文章已私密！"),location.reload()):t.content?o(t.content):alert("无法私密，请到后台私密！")})}function o(e){$(".super-private").hide(),$(".private-error").height(126).show().children(".private-content").text(e)}function n(){$(".private-form").removeClass("active").addClass("no-active")}var i={markdown_line:function(){$(".markdown_views pre").addClass("prettyprint"),$("pre.prettyprint code").each(function(){var e=$(this).text().split("\n").length+($(this).hasClass("hljs")?1:0),t=$("<ul/>").addClass("pre-numbering").hide();$(this).addClass("has-numbering").parent().append(t);for(var o=1;o<e;o++)t.append($("<li/>").text(o));t.fadeIn(1700)}),$(".pre-numbering li").css("color","#999"),setTimeout(function(){$(".math").each(function(e,t){$(this).find("span").last().css("color","#fff")})}),setTimeout(function(){$(".toc a[target='_blank']").attr("target",""),$("a.reversefootnote,a.footnote").attr("target","")},500)},html_line:function(){function e(){$(".CopyToClipboard").each(function(){var e=new ZeroClipboard.Client;e.setHandCursor(!0),e.addEventListener("load",function(e){}),e.addEventListener("mouseOver",function(e){var t=e.movie.parentNode.parentNode.parentNode.parentNode.nextSibling.innerHTML;t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),e.setText(t)}),e.addEventListener("complete",function(e,t){alert("代码已经复制到你的剪贴板。")}),e.glue(this,this.parentNode)})}$(".article_content pre").each(function(){var e=$(this);try{if(e.attr("class").indexOf("brush:")!=-1){var t=e.attr("class").split(";")[0].split(":")[1];e.attr("name","code"),e.attr("class",t)}e.attr("class")&&e.attr("name","code")}catch(o){}}),$(".article_content textarea[name=code]").each(function(){var e=$(this);e.attr("class").indexOf(":")!=-1&&e.attr("class",e.attr("class").split(":")[0])}),$(".highlighter").each(function(e,t){hljs.highlightBlock(t),hljs.lineNumbersBlock(t)}),window.clipboardData||setTimeout(e,1e3)}},a=$(".markdown_views")[0];a?(i.markdown_line(),/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&window.csdn.setSafariCodestyle()):i.html_line(),$(document).on("click",".input-mod",function(){$(".select-option").show(),$(".select-button").removeClass("rotate0").addClass("rotate180")}),$(document).on("input porpertychange",".private-input",function(){n(),$(this).val().length>120&&$(this).val($(this).val().substr(0,120)),$(".textarea-box .number").text(120-$(this).val().length),$(this).val().length>0&&$(".private-form").removeClass("no-active").addClass("active")}),$(document).on("click",".select-option li",function(){$(".super-private").height(126),$(".private-content .other").hide(),n(),$(".select-active").text($(this).text()).data("index",$(this).data("index")),$(this).data("isinput")?($(".super-private").height(240),$(".private-content .other").show()):$(".private-form").removeClass("no-active").addClass("active"),$(".select-button").addClass("rotate0").removeClass("rotate180"),$(".select-option").fadeOut()}),$(document).on("click",".select-button",function(){"block"===$(".select-option").css("display")?($(".select-option").fadeOut(),$(this).removeClass("rotate180").addClass("rotate0")):($(this).removeClass("rotate0").addClass("rotate180"),$(".select-option").fadeIn()),e.stopPropagation(),e.cancelBubble=!0}),$(document).on("click",".private-close, .close-active",function(){$(".super-private").hide(),$(".mask-dark").hide()}),$(document).on("click",".private-footer .active",function(){var e=$(".select-active").data("index"),o=$(".reason").val();e||alert("请选择原因"),text="text",t(articleId,e,o)})}),$(function(){$("article").find("table").map(function(){$(this).wrap('<div class="table-box" />')})}),$(function(){window.addEventListener("message",function(e){e.origin.indexOf("inscode.csdn.net")>-1})}),!function(){function e(){var e=navigator.userAgent.toLowerCase();return window.ActiveXObject||"ActiveXObject"in window?"ie":e.indexOf("firefox")>=0?"firefox":e.indexOf("chrome")>=0?"chrome":e.indexOf("opera")>=0?"opera":e.indexOf("safari")>=0?"safari":void 0}var t=function(e,t,o,n,i,a){function s(o,n,i){var c=(o+n)/2;if(i<=0||n-o<a)return c;var l="("+e+":"+c+t+")";return r(l).matches?s(c,n,i-1):s(o,c,i-1)}var r,c,l,d;window.matchMedia?r=window.matchMedia:(c=document.getElementsByTagName("head")[0],l=document.createElement("style"),c.appendChild(l),d=document.createElement("div"),d.className="mediaQueryBinarySearch",d.style.display="none",document.body.appendChild(d),r=function(e){l.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var t="underline"==getComputedStyle(d,null).textDecoration;return l.sheet.deleteRule(0),{matches:t}});var m=s(o,n,i);return d&&(c.removeChild(l),document.body.removeChild(d)),m},o={};o.ie=function(){return window.screen.deviceXDPI/window.screen.logicalXDPI},o.firefox=function(){return window.devicePixelRatio?window.devicePixelRatio:t("min--moz-device-pixel-ratio","",0,10,20,1e-4)},o.opera=function(){return window.outerWidth/window.innerWidth},o.chrome=function(){if(window.devicePixelRatio)return window.devicePixelRatio;var e=document.createElement("div");e.innerHTML="1",e.setAttribute("style","font:100px/1em sans-serif;-webkit-text-size-adjust:none;position: absolute;top:-100%;"),document.body.appendChild(e);var t=1e3/e.clientHeight;return t=Math.round(100*t)/100,document.body.removeChild(e),t},o.safari=function(){return window.outerWidth/window.innerWidth},window.detectZoom=function(){return o[e()]()}}(void 0),$(function(){function e(){var e=navigator.userAgent.toLowerCase();return e.indexOf("win")>=0?"win":e.indexOf("mac")>=0?"mac":"win"}function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function o(e){return"win"==e.system&&1!=e.zoom||("mac"==e.system&&e.zoom%1!=0&&e.zoom%2!=0||void 0)}function n(n){var i={win:{add:187,minus:189,origin:48},mac:{add:187,minus:189,origin:48}},a=i[e()];if(n.ctrlKey||n.metaKey)if(n.keyCode==a.add||n.keyCode==a.minus){var s={zoom:t(detectZoom(),2),system:e()};l(o(s),c,u)}else n.keyCode!=a.add&&n.keyCode!=a.origin||d.animate(m,2e3)}function i(e){setTimeout(n,300,e)}function a(e,t){return localStorage.setItem(e,t)}function s(e){return localStorage.getItem(e)}function r(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=[".leftPop{width:330px;position: fixed;font-size: 12px;","box-shadow: 0 4px 8px 0 rgba(0,0,0,0.10);padding:16px 40px 16px 16px;z-index: 100;","}",".leftPop .leftPop-close{position: absolute;right: 20px;"+e,"cursor: pointer;","}"].join(""),document.getElementsByTagName("head")[0].appendChild(t)}function c(e){var t=$(".leftPop");if(t.length>0)return t.stop(!0,!1).animate(e.animate,e.animateTime),!1;var o='<svg t="1536830466687" class="icon leftPop-close" viewBox="0 0 1024 1024" version="1.1" ><title>不再显示</title><path d="M512 438.378667L806.506667 143.893333a52.032 52.032 0 1 1 73.6 73.621334L585.621333 512l294.485334 294.485333a52.074667 52.074667 0 0 1-73.6 73.642667L512 585.621333 217.514667 880.128a52.053333 52.053333 0 1 1-73.621334-73.642667L438.378667 512 143.893333 217.514667a52.053333 52.053333 0 1 1 73.621334-73.621334L512 438.378667z" fill="" p-id="15859"></path></svg>';t=$('<div class="leftPop">'+o+"</div>"),r(e.closeColor),t.append(e.template).css(e.style),t.appendTo($("body")).delay(2e3).animate(e.animate,e.animateTime),d=t,$(".leftPop-close").on("click",function(){t.stop(!0,!1).animate(e.closeAnimate,e.animateTime),a("leftPop",0)})}function l(e,t,o){var n=s("leftPop");e&&null==n?t(o):d.stop(!0,!1).animate(o.closeAnimate,o.animateTime)}var d=({zoom:t(detectZoom(),2),system:e()},$("leftPop")),m={right:"-100%"},p={win:{even:"keyup",fun:n},mac:{even:"keydown",fun:i}};$(window).on(p[e()].even,p[e()].fun);var u={template:"<span>你的浏览器目前处于缩放状态，页面可能会出现错位现象，建议100%大小显示。</span>",style:{right:"-100%","background-color":"#EBF5FD",top:"100px","border-left":"4px solid #70B8F0"},closeColor:"fill:#70B8F0;",animate:{right:0},closeAnimate:m,animateTime:2e3}});