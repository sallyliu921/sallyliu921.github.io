"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4164],{97890:function(e,n,a){var i,l,t,d,s,r,c,o,m,k,F,p,u,g,S,y,C,h,b,T,L,f,P,v,I,M,B,_,w,O,U,A,D,K,x,R,E,N,j,z,H,Q,V,q,J,W,G,X,Y,Z,$,ee,en,ea,ei,el,et,ed,es,er,ec,eo,em,ek,eF,ep,eu,eg,eS,ey,eC,eh,eb,eT,eL,ef;a.r(n);let eP=(i=[{defaultValue:null,kind:"LocalArgument",name:"chatCode"}],l=[{kind:"Variable",name:"chatCode",variableName:"chatCode"}],d={kind:"ScalarField",name:"isDeleted"},s={kind:"ScalarField",name:"title"},r={kind:"ScalarField",name:"__typename"},c={kind:"ScalarField",name:"state"},o={kind:"TypeDiscriminator",abstractKey:"__isCanvasTabInterface"},m={kind:"ScalarField",name:"globalId"},F={kind:"ScalarField",name:"language"},u={kind:"ScalarField",name:"clientNonce"},g={kind:"ScalarField",name:"canvasCode"},f={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[S={kind:"ScalarField",name:"botId"},t={kind:"ScalarField",name:"id"},y={kind:"ScalarField",name:"handle"},C={kind:"ScalarField",name:"viewerIsCreator"},h={kind:"ScalarField",name:"deletionState"},b={kind:"ScalarField",name:"isPromptPublic"},T={kind:"ScalarField",name:"isCanvasOnlyBot"},L={kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[p={kind:"ScalarField",name:"content"},k={kind:"ScalarField",name:"contentType"}]}]},v={kind:"ClientExtension",selections:[P={kind:"ScalarField",name:"isOptimistic"},{kind:"ScalarField",name:"idWhenWasOptimistic"}]},M={kind:"ScalarField",name:"codeblockIndex"},B={concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[I={kind:"ScalarField",name:"messageId"},t,c]},_={kind:"TypeDiscriminator",abstractKey:"__isNode"},w={kind:"ScalarField",name:"chatId"},O={kind:"ScalarField",name:"viewerIsUser"},U={kind:"ScalarField",name:"nickname"},A={kind:"ScalarField",name:"messageTimeoutSecs"},D={kind:"ScalarField",name:"allowsImageAttachments"},K={kind:"ScalarField",name:"isApiBot"},x={kind:"ScalarField",name:"limitedAccessType"},R={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},E={kind:"ScalarField",name:"translatedBotTags"},N={kind:"ScalarField",name:"displayName"},H={kind:"LinkedField",name:"picture",plural:!1,selections:z=[r,{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[j={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},Q={kind:"ScalarField",name:"supportsRemix"},V={kind:"ScalarField",name:"isServerBot"},q={kind:"ScalarField",name:"supportsFileUpload"},J={kind:"ScalarField",name:"customUIDefinition"},X={concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[d,{args:W=[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},G={kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},t,_]},Y={kind:"ScalarField",name:"canUserAccessBot"},Z={kind:"ScalarField",name:"poweredBy"},$=[I,t],ee={kind:"ScalarField",name:"creationTime"},en={kind:"ScalarField",name:"author"},ea={kind:"ScalarField",name:"textLengthOnCancellation"},ei={kind:"ScalarField",name:"timeoutLevel"},el={kind:"ScalarField",name:"jobId"},et=[{kind:"Literal",name:"first",value:2}],ed={kind:"ClientExtension",selections:[P]},es={kind:"ScalarField",name:"cursor"},er={concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},ec=[{kind:"Literal",name:"last",value:12}],eo={kind:"ScalarField",name:"uid"},em={kind:"ScalarField",name:"viewerIsFollowing"},ek={alias:"smallProfilePhotoUrl",args:W,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},eF={kind:"ScalarField",name:"text"},ep=[eo,t],eu={kind:"ScalarField",name:"name"},eg={kind:"ScalarField",name:"mimeType"},eS={kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"},ey={kind:"ScalarField",name:"reaction"},eC=[{kind:"Literal",name:"first",value:5}],eh=[s],eb={kind:"ScalarField",name:"costBreakdown"},eT={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[S,U,N,t,y,h,H]},eL={concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[w,t]},{fragment:{argumentDefinitions:i,kind:"Fragment",name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageColumn_chat"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"chatOfCode",plural:!1,selections:[t,d,s,{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[r,t,c,o,s,m,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[k,F,p]},u,g,{kind:"InlineFragment",selections:[S,f,v],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[I,M,B,v,{kind:"InlineFragment",selections:[_],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"}],type:"MessageCanvasTab"},_]},w,{kind:"ScalarField",name:"canvasTabsCount"},{concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[S,t,{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[O,t]}]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[S,t,y,{kind:"ScalarField",name:"hasMarkdownRendering"},{kind:"ScalarField",name:"introduction"},U,C,{kind:"ScalarField",name:"isTrustedBot"},L,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[p,k,F]},A,D,K,x,R,E,h,N,H,Q,V,q,J,{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},{kind:"ScalarField",name:"uploadFileSizeLimit"},{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"conversationStarters"},T,{kind:"ScalarField",name:"monthlyActiveUsers"},X,Y,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingLabel"}]},{kind:"ScalarField",name:"description"},Z,b,{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"shouldHide"},{kind:"ScalarField",name:"isOfficialBot"},{kind:"ScalarField",name:"botCategory"},{alias:"smallPicture",args:W,kind:"LinkedField",name:"picture",plural:!1,selections:z,storageKey:'picture(size:"small")'},_]},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"unseenItemCount"},{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:$},{kind:"ScalarField",name:"shouldBotAutoRespond"},ee,{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[en,c,t,ea,{kind:"ClientExtension",selections:[P,ei]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[Q,y,t,V,D,q,J,h,S,U,N]}]},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAllOtherMembers",plural:!1,selections:$},{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[el,{kind:"ScalarField",name:"viewerCanCancel"},t]},{args:et,concreteType:"CanvasTabConnection",kind:"LinkedField",name:"canvasTabsConnection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[r,o,t,c,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[k,F]},{kind:"InlineFragment",selections:[I,M,{kind:"InlineFragment",selections:[s,m,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[p]},u,g,{kind:"InlineFragment",selections:[S,f,ed],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[B,ed],type:"MessageCanvasTab"},_],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"},ed],type:"MessageCanvasTab"},{kind:"InlineFragment",selections:[S],type:"BotCanvasTab"}]},es,t]},er,t],storageKey:"canvasTabsConnection(first:2)"},{args:et,handle:"connection",key:"CanvasTabSelector_canvasTabsConnection",kind:"LinkedHandle",name:"canvasTabsConnection"},{args:ec,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[en,{kind:"ScalarField",name:"isChatAnnouncement"},t,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[eo,t,G,y,em,d,ek,_]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[S,t,A,D,y,K,U,x,L,R,E,h,N,H,_]},I,ee,eF,c,u,{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},k,{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:ep},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[t,{kind:"ScalarField",name:"attachmentId"},eu,j,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[eg,t,{kind:"ScalarField",name:"size"}]},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},j,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"InlineFragment",selections:[ed],type:"MessageAttachment"},{kind:"ClientExtension",selections:[{kind:"ScalarField",name:"localUrl"}]}],type:"Attachment",abstractKey:"__isAttachment"},ed]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[r,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[I,eF,d,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[x,L,R,E,h,N,H,y,t,_]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[t,eo,y,G,em,d,ek,_]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[eu,j,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[eg,t]}],type:"Attachment",abstractKey:"__isAttachment"},t]}],type:"Message"},eS]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[el,t]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[ey,{kind:"ScalarField",name:"count"},t]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:ep},{kind:"ScalarField",name:"hasCitations"},ea,{args:eC,concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[ey,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[eo,G,O,{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},t]},t,r]},es,t]},er],storageKey:"reactionsConnection(first:5)"},{args:eC,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},r,{kind:"ClientExtension",selections:[P,ei,{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"clientMessageStateText"}]},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[d],type:"Message"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},_]},t,es]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},t],storageKey:"messagesConnection(last:12)"},{args:ec,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"LinkedField",name:"displayedChatModal",plural:!1,selections:[r,{kind:"InlineFragment",selections:[w,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y,h,N,H,t]},{kind:"LinkedField",name:"budgetIncreaseRequester",plural:!1,selections:[r,{kind:"InlineFragment",selections:[y],type:"Bot"},{kind:"InlineFragment",selections:eh,type:"MessageCanvasTab"},{kind:"InlineFragment",selections:eh,type:"BotCanvasTab"},eS]},{kind:"ScalarField",name:"applicablePointPriceThreshold"},{kind:"ScalarField",name:"totalRequestAmount"},I,eb,{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"messagePointBalance"},t]}],type:"CostThresholdUpdateChatModal"},{kind:"InlineFragment",selections:[w,eT,eL,ee],type:"PaywallChatModal"},{kind:"InlineFragment",selections:[w,eT,eL,ee,ef={kind:"ScalarField",name:"messageCostAmount"},eb],type:"PointLimitPaywallChatModal"},{kind:"InlineFragment",selections:[w,ee,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y,h,N,H,t,S,U]},ef,eb,{kind:"ScalarField",name:"subscriberPointLimitSubtext"}],type:"SubscriberPointLimitChatModal"},{kind:"InlineFragment",selections:[eL,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[S,t,Z,h,N,H,y,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingType"},{kind:"ScalarField",name:"standardMessagePrice"}]},L,X,Y]},{kind:"ScalarField",name:"isPrivateDeletedBotsChangesEnabled"}],type:"AddBotChatModal"},eS]},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"ScalarField",name:"membersCount"},{args:et,concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[eo,G,ek],type:"PoeUser"},t]},t]}],storageKey:"userMembersConnection(first:2)"},ed,_]}]},params:{id:"442dcd3852764fccdb457fafdb79b8b184437f84db850998eb2fea9cf0d25fe9",metadata:{},name:"OptimisticChatPageColumnAfterSuccessfulSendQuery",operationKind:"query",text:null}});eP.hash="0c62c1c7ff3700301507d9d1229e863b",n.default=eP},17115:function(e,n,a){var i,l,t,d,s,r,c,o,m,k,F,p,u,g,S,y,C,h,b,T,L,f,P,v,I,M,B,_,w,O,U,A,D,K,x,R,E,N,j,z,H,Q,V,q,J,W,G,X,Y,Z,$,ee,en,ea,ei,el,et,ed,es,er,ec,eo,em,ek,eF,ep,eu,eg,eS,ey,eC,eh,eb,eT,eL;a.r(n);let ef=(i=[{defaultValue:null,kind:"LocalArgument",name:"optimisticChatId"}],l=[{kind:"Variable",name:"optimisticChatId",variableName:"optimisticChatId"}],d={kind:"ScalarField",name:"isDeleted"},s={kind:"ScalarField",name:"isOptimistic"},r={kind:"ScalarField",name:"title"},c={kind:"ScalarField",name:"__typename"},o={kind:"ScalarField",name:"state"},m={kind:"TypeDiscriminator",abstractKey:"__isCanvasTabInterface"},k={kind:"ScalarField",name:"globalId"},p={kind:"ScalarField",name:"language"},g={kind:"ScalarField",name:"clientNonce"},S={kind:"ScalarField",name:"canvasCode"},P={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y={kind:"ScalarField",name:"botId"},t={kind:"ScalarField",name:"id"},C={kind:"ScalarField",name:"handle"},h={kind:"ScalarField",name:"viewerIsCreator"},b={kind:"ScalarField",name:"deletionState"},T={kind:"ScalarField",name:"isPromptPublic"},L={kind:"ScalarField",name:"isCanvasOnlyBot"},f={kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[u={kind:"ScalarField",name:"content"},F={kind:"ScalarField",name:"contentType"}]}]},v={kind:"ScalarField",name:"idWhenWasOptimistic"},M={kind:"ScalarField",name:"codeblockIndex"},B={concreteType:"Message",kind:"LinkedField",name:"message",plural:!1,selections:[I={kind:"ScalarField",name:"messageId"},t,o]},_={kind:"TypeDiscriminator",abstractKey:"__isNode"},w={kind:"ScalarField",name:"chatId"},O={kind:"ScalarField",name:"viewerIsUser"},U={kind:"ScalarField",name:"nickname"},A={kind:"ScalarField",name:"messageTimeoutSecs"},D={kind:"ScalarField",name:"allowsImageAttachments"},K={kind:"ScalarField",name:"isApiBot"},x={kind:"ScalarField",name:"limitedAccessType"},R={kind:"ScalarField",name:"shouldHideLimitedAccessTag"},E={kind:"ScalarField",name:"translatedBotTags"},N={kind:"ScalarField",name:"displayName"},H={kind:"LinkedField",name:"picture",plural:!1,selections:z=[c,{kind:"TypeDiscriminator",abstractKey:"__isBotPicture"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"localName"}],type:"LocalBotImage"},{kind:"InlineFragment",selections:[j={kind:"ScalarField",name:"url"}],type:"URLBotImage"}]},Q={kind:"ScalarField",name:"supportsRemix"},V={kind:"ScalarField",name:"isServerBot"},q={kind:"ScalarField",name:"supportsFileUpload"},J={kind:"ScalarField",name:"customUIDefinition"},X={concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[d,{args:W=[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},G={kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},t,_]},Y={kind:"ScalarField",name:"canUserAccessBot"},Z={kind:"ScalarField",name:"poweredBy"},$=[I,t],ee={kind:"ScalarField",name:"creationTime"},en={kind:"ScalarField",name:"author"},ea={kind:"ScalarField",name:"timeoutLevel"},ei={kind:"ScalarField",name:"textLengthOnCancellation"},el={kind:"ScalarField",name:"jobId"},et=[{kind:"Literal",name:"first",value:2}],ed={kind:"ScalarField",name:"cursor"},es={concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"endCursor"},{kind:"ScalarField",name:"hasNextPage"}]},er=[{kind:"Literal",name:"last",value:12}],ec={kind:"ScalarField",name:"uid"},eo={kind:"ScalarField",name:"viewerIsFollowing"},em={alias:"smallProfilePhotoUrl",args:W,kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},ek={kind:"ScalarField",name:"text"},eF=[ec,t],ep={kind:"ScalarField",name:"name"},eu={kind:"ScalarField",name:"mimeType"},eg={kind:"InlineFragment",selections:[t],type:"Node",abstractKey:"__isNode"},eS={kind:"ScalarField",name:"reaction"},ey=[{kind:"Literal",name:"first",value:5}],eC=[r],eh={kind:"ScalarField",name:"costBreakdown"},eb={concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y,U,N,t,C,b,H]},eT={concreteType:"Chat",kind:"LinkedField",name:"chat",plural:!1,selections:[w,t]},{fragment:{argumentDefinitions:i,kind:"Fragment",name:"OptimisticChatPageColumnQuery",selections:[{kind:"ClientExtension",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[{kind:"FragmentSpread",name:"ChatPageColumn_chat"}]}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"OptimisticChatPageColumnQuery",selections:[{kind:"ClientExtension",selections:[{args:l,concreteType:"Chat",kind:"LinkedField",name:"optimisticChat",plural:!1,selections:[t,d,s,r,{kind:"ScalarField",name:"hasMultipleUsers"},{kind:"LinkedField",name:"canvasTabInForeground",plural:!1,selections:[c,t,o,m,r,k,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[F,p,u]},g,S,{kind:"InlineFragment",selections:[s,y,P,v],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[I,M,s,B,v,{kind:"InlineFragment",selections:[_],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"}],type:"MessageCanvasTab"},_]},w,{kind:"ScalarField",name:"canvasTabsCount"},{concreteType:"Bot",kind:"LinkedField",name:"chatSettingsFieldBotToEdit",plural:!1,selections:[y,t,{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[O,t]}]},{concreteType:"Bot",kind:"LinkedField",name:"defaultBotObject",plural:!1,selections:[y,t,C,{kind:"ScalarField",name:"hasMarkdownRendering"},{kind:"ScalarField",name:"introduction"},U,h,{kind:"ScalarField",name:"isTrustedBot"},f,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[u,F,p]},A,D,K,x,R,E,b,N,H,Q,V,q,J,{kind:"ScalarField",name:"isCreatedByPoeUserAccount"},{kind:"ScalarField",name:"viewerIsFollower"},{kind:"ScalarField",name:"followerCount"},{kind:"ScalarField",name:"shareLink"},{kind:"ScalarField",name:"isDown"},{kind:"ScalarField",name:"model"},{kind:"ScalarField",name:"uploadFileSizeLimit"},{kind:"ScalarField",name:"noAccessMessage"},{kind:"ScalarField",name:"allowsClearContext"},{kind:"ScalarField",name:"conversationStarters"},L,{kind:"ScalarField",name:"monthlyActiveUsers"},X,Y,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingLabel"}]},{kind:"ScalarField",name:"description"},Z,T,{kind:"ScalarField",name:"promptPlaintext"},{kind:"ScalarField",name:"shouldHide"},{kind:"ScalarField",name:"isOfficialBot"},{kind:"ScalarField",name:"botCategory"},{alias:"smallPicture",args:W,kind:"LinkedField",name:"picture",plural:!1,selections:z,storageKey:'picture(size:"small")'},_]},{kind:"ScalarField",name:"chatCode"},{kind:"ScalarField",name:"unseenItemCount"},{concreteType:"Message",kind:"LinkedField",name:"viewerLastSeenMessage",plural:!1,selections:$},{kind:"ScalarField",name:"shouldBotAutoRespond"},ee,{concreteType:"Message",kind:"LinkedField",name:"lastMessage",plural:!1,selections:[en,s,o,ea,t,ei,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[Q,C,t,V,D,q,J,b,y,U,N]}]},{concreteType:"Message",kind:"LinkedField",name:"lastMessageSeenByAllOtherMembers",plural:!1,selections:$},{concreteType:"PoeJob",kind:"LinkedField",name:"activeJobs",plural:!0,selections:[el,{kind:"ScalarField",name:"viewerCanCancel"},t]},{args:et,concreteType:"CanvasTabConnection",kind:"LinkedField",name:"canvasTabsConnection",plural:!1,selections:[{concreteType:"CanvasTabEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[c,m,t,o,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[F,p]},{kind:"InlineFragment",selections:[s,I,M,{kind:"InlineFragment",selections:[r,k,{concreteType:"PreviewContentObject",kind:"LinkedField",name:"previewContentObject",plural:!1,selections:[u]},g,S,{kind:"InlineFragment",selections:[y,P],type:"BotCanvasTab"},{kind:"InlineFragment",selections:[B],type:"MessageCanvasTab"},_],type:"CanvasTabInterface",abstractKey:"__isCanvasTabInterface"}],type:"MessageCanvasTab"},{kind:"InlineFragment",selections:[y],type:"BotCanvasTab"}]},ed,t]},es,t],storageKey:"canvasTabsConnection(first:2)"},{args:et,handle:"connection",key:"CanvasTabSelector_canvasTabsConnection",kind:"LinkedHandle",name:"canvasTabsConnection"},{args:er,concreteType:"MessagesConnection",kind:"LinkedField",name:"messagesConnection",plural:!1,selections:[{concreteType:"MessageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"Message",kind:"LinkedField",name:"node",plural:!1,selections:[en,{kind:"ScalarField",name:"isChatAnnouncement"},t,{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[ec,t,G,C,eo,d,em,_]},{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y,t,A,D,C,K,U,x,f,R,E,b,N,H,_]},I,ee,ek,o,s,g,{kind:"ScalarField",name:"messageCode"},{kind:"ScalarField",name:"parameters"},F,{kind:"ScalarField",name:"errorMessage"},{kind:"ScalarField",name:"sourceType"},{kind:"ScalarField",name:"messageStateText"},{kind:"ScalarField",name:"clientMessageStateText"},{kind:"ScalarField",name:"isEdited"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanDelete",plural:!0,selections:eF},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[t,{kind:"ScalarField",name:"attachmentId"},ep,j,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[eu,t,{kind:"ScalarField",name:"size"}]},s,{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"isInline"},{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[{kind:"ScalarField",name:"width"},{kind:"ScalarField",name:"height"},j,{kind:"ScalarField",name:"thumbnailUrl"}]},{kind:"ScalarField",name:"localUrl"}],type:"Attachment",abstractKey:"__isAttachment"}]},{concreteType:"CommandInfo",kind:"LinkedField",name:"command",plural:!1,selections:[{kind:"ScalarField",name:"commandType"}]},{kind:"LinkedField",name:"referencedMessageV2",plural:!1,selections:[c,{kind:"TypeDiscriminator",abstractKey:"__isMessageOrDeletedMessage"},{kind:"InlineFragment",selections:[I,ek,d,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[x,f,R,E,b,N,H,C,t,_]},{concreteType:"PoeUser",kind:"LinkedField",name:"authorUser",plural:!1,selections:[t,ec,C,G,eo,d,em,_]},{concreteType:"MessageAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[ep,j,{concreteType:"File",kind:"LinkedField",name:"file",plural:!1,selections:[eu,t]}],type:"Attachment",abstractKey:"__isAttachment"},t]}],type:"Message"},eg]},{concreteType:"PoeJob",kind:"LinkedField",name:"responsibleJob",plural:!1,selections:[el,t]},{concreteType:"MessageReactionCount",kind:"LinkedField",name:"reactionCounts",plural:!0,selections:[eS,{kind:"ScalarField",name:"count"},t]},{kind:"ScalarField",name:"viewerReaction"},{concreteType:"PoeUser",kind:"LinkedField",name:"usersCanEdit",plural:!0,selections:eF},{kind:"ScalarField",name:"hasCitations"},ea,{kind:"ScalarField",name:"heartbeatTimeoutLevel"},{kind:"ScalarField",name:"lastUpdatedText"},ei,{args:ey,concreteType:"MessageReactionsConnection",kind:"LinkedField",name:"reactionsConnection",plural:!1,selections:[{concreteType:"MessageReactionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{concreteType:"MessageReactionNode",kind:"LinkedField",name:"node",plural:!1,selections:[eS,{concreteType:"PoeUser",kind:"LinkedField",name:"user",plural:!1,selections:[ec,G,O,{alias:"mediumProfilePhotoUrl",args:[{kind:"Literal",name:"size",value:"medium"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"medium")'},t]},t,c]},ed,t]},es],storageKey:"reactionsConnection(first:5)"},{args:ey,handle:"connection",key:"MessageReactionsModal_message_reactionsConnection",kind:"LinkedHandle",name:"reactionsConnection"},c,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[d],type:"Message"}],type:"MessageOrDeletedMessage",abstractKey:"__isMessageOrDeletedMessage"},_]},t,ed]},{concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{kind:"ScalarField",name:"hasPreviousPage"},{kind:"ScalarField",name:"startCursor"}]},t],storageKey:"messagesConnection(last:12)"},{args:er,handle:"connection",key:"ChatMessagesView_chat_messagesConnection",kind:"LinkedHandle",name:"messagesConnection"},{kind:"LinkedField",name:"displayedChatModal",plural:!1,selections:[c,{kind:"InlineFragment",selections:[w,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[C,b,N,H,t]},{kind:"LinkedField",name:"budgetIncreaseRequester",plural:!1,selections:[c,{kind:"InlineFragment",selections:[C],type:"Bot"},{kind:"InlineFragment",selections:eC,type:"MessageCanvasTab"},{kind:"InlineFragment",selections:eC,type:"BotCanvasTab"},eg]},{kind:"ScalarField",name:"applicablePointPriceThreshold"},{kind:"ScalarField",name:"totalRequestAmount"},I,eh,{concreteType:"MessagePointInfo",kind:"LinkedField",name:"messagePointInfo",plural:!1,selections:[{kind:"ScalarField",name:"messagePointBalance"},t]}],type:"CostThresholdUpdateChatModal"},{kind:"InlineFragment",selections:[w,eb,eT,ee],type:"PaywallChatModal"},{kind:"InlineFragment",selections:[w,eb,eT,ee,eL={kind:"ScalarField",name:"messageCostAmount"},eh],type:"PointLimitPaywallChatModal"},{kind:"InlineFragment",selections:[w,ee,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[C,b,N,H,t,y,U]},eL,eh,{kind:"ScalarField",name:"subscriberPointLimitSubtext"}],type:"SubscriberPointLimitChatModal"},{kind:"InlineFragment",selections:[eT,{concreteType:"Bot",kind:"LinkedField",name:"bot",plural:!1,selections:[y,t,Z,b,N,H,C,{concreteType:"BotPricing",kind:"LinkedField",name:"botPricing",plural:!1,selections:[{kind:"ScalarField",name:"botPricingType"},{kind:"ScalarField",name:"standardMessagePrice"}]},f,X,Y]},{kind:"ScalarField",name:"isPrivateDeletedBotsChangesEnabled"}],type:"AddBotChatModal"},eg]},{kind:"ScalarField",name:"isContextOptimizationOn"},{kind:"ScalarField",name:"membersIncludeUntrustedBot"},{kind:"ScalarField",name:"membersCount"},{args:et,concreteType:"ChatMembersConnection",kind:"LinkedField",name:"userMembersConnection",plural:!1,selections:[{concreteType:"ChatMemberEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[ec,G,em],type:"PoeUser"},t]},t]}],storageKey:"userMembersConnection(first:2)"},_]}]}]},params:{cacheID:"1eb117294783099f4b3e58dcad3ccec4",id:null,metadata:{},name:"OptimisticChatPageColumnQuery",operationKind:"query",text:null}});ef.hash="ebf3fbf05e24ce7a92d3f82d81c076c2",n.default=ef},15454:function(e,n,a){var i,l,t;a.r(n);let d={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_bot",selections:[{kind:"FragmentSpread",name:"ChatPageMain_bot"},{kind:"FragmentSpread",name:"ChatPageNavbar_bot"},{kind:"InlineDataFragmentSpread",name:"optimisticChat_createOptimisticChat_bot",selections:[i={kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"botId"},{kind:"ScalarField",name:"handle"},{kind:"ScalarField",name:"introduction"},l={kind:"ScalarField",name:"nickname"},{kind:"ScalarField",name:"viewerIsCreator"},{kind:"ScalarField",name:"isTrustedBot"},{kind:"ScalarField",name:"isPrivateBot"},t={concreteType:"PreviewContentObject",kind:"LinkedField",name:"canvasContent",plural:!1,selections:[{kind:"ScalarField",name:"content"},{kind:"ScalarField",name:"contentType"},{kind:"ScalarField",name:"language"}]},{kind:"InlineDataFragmentSpread",name:"optimisticMessage_createOptimisticBotMessage_bot",selections:[l,{kind:"InlineDataFragmentSpread",name:"localMessage_createLocalChatMessage_bot",selections:[i,{kind:"FragmentSpread",name:"ChatMessage_bot"},{kind:"FragmentSpread",name:"ChatLastMessageArea_bot"},{kind:"FragmentSpread",name:"ChatPageMain_targetedBot"}],argumentDefinitions:[]}],argumentDefinitions:[]}],argumentDefinitions:[]},t],type:"Bot"};d.hash="4773b0646a7d3bf03668ac617a5b8a40",n.default=d},45506:function(e,n,a){a.r(n);let i={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"OptimisticChatPageColumn_chatEdges",selections:[{kind:"FragmentSpread",name:"ChatPageMain_chatEdges"}],type:"ChatEdge"};i.hash="792af76506dcb392a2028baf2801f850",n.default=i},74639:function(e,n,a){a.r(n);let i={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_root",selections:[{kind:"FragmentSpread",name:"ChatPageColumn_root"}],type:"QueryRoot"};i.hash="635cff81d9985bce6e9f82a1fc13afc7",n.default=i},88277:function(e,n,a){a.r(n);let i={argumentDefinitions:[],kind:"Fragment",name:"OptimisticChatPageColumn_viewer",selections:[{kind:"FragmentSpread",name:"ChatPageColumn_viewer"}],type:"Viewer"};i.hash="5f2951eb9967cdfabf848df35068c3e7",n.default=i},96011:function(e,n,a){a.r(n),a.d(n,{OptimisticChatPageColumn:function(){return OptimisticChatPageColumn}});var i=a(85893),l=a(41143),t=a.n(l),d=a(11163),s=a(67294),r=a(22578);a(44311);var c=a(71953),o=a(4694),m=a(45598),k=a(55206),F=a(39558);let useChatCode=()=>{let e=(0,d.useRouter)(),{chat:n}=e.query;return(0,m.H)(n)?n:null},useOptimisticChatPageProps=e=>{let{optimisticChatId:n,root:i,bot:l,chats:d,viewer:m}=e,k=(0,r.useFragment)(a(74639),i),p=(0,r.useFragment)(a(15454),l),u=(0,r.useFragment)(a(45506),d),g=(0,r.useFragment)(a(88277),m),S=(0,c.t3)(p,n),{optimisticChat:y}=(0,r.useLazyLoadQuery)(a(17115),{optimisticChatId:S});if(!y)throw new o.NotFound;let C=(0,F.H)(),h=(0,s.useCallback)(e=>{let{messageEdgeCreate:n}=e,a=n.chat;t()(a,"chat is null"),C(a),(0,c.VQ)(S)},[C,S]);return{root:k,viewer:g,chat:y,onSuccessfulMessageSend:h,chats:u}},OptimisticChatPageColumn=e=>{let{optimisticChatId:n,root:l,bot:t,chats:d,viewer:c}=e;if(!t)throw new o.NotFound;let m=useOptimisticChatPageProps({root:l,bot:t,optimisticChatId:n,chats:d,viewer:c}),F=function(e,n){let i=useChatCode(),l=(0,r.useLazyLoadQuery)(a(97890),{chatCode:i||""},{fetchPolicy:i?"store-or-network":"store-only"});return(0,s.useMemo)(()=>l.chatOfCode&&n?{chat:l.chatOfCode,viewer:n,root:e}:null,[l,n,e])}(m.root,m.viewer),p=F||m;return(0,i.jsx)(k.h,{...p})}}}]);