"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6283],{21041:function(n,r,l){l.d(r,{C:function(){return o}});var d=l(46895),f=l(67294);function o({defaultSelection:n}){let[r]=(0,d.g)();return(0,f.useEffect)(()=>{r.focus(()=>{let n=document.activeElement,l=r.getRootElement();null===l||null!==n&&l.contains(n)||l.focus({preventScroll:!0})},{defaultSelection:n})},[n,r]),null}},40999:function(n,r,l){l.d(r,{R:function(){return p}});var d=l(46895),f=l(61084),c=l(67294),h=l(85893);let _="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,m=_?c.useLayoutEffect:c.useEffect,y={tag:"history-merge"};function p({initialConfig:n,children:r}){let l=(0,c.useMemo)(()=>{let{theme:r,namespace:l,nodes:c,onError:h,editorState:m,html:x}=n,b=(0,d.LI)(null,r),S=(0,f.Jh)({editable:n.editable,html:x,namespace:l,nodes:c,onError:n=>h(n,S),theme:r});return function(n,r){if(null!==r){if(void 0===r)n.update(()=>{let r=(0,f.Gv)();if(r.isEmpty()){let l=(0,f.BE)();r.append(l);let d=_?document.activeElement:null;(null!==(0,f.dL)()||null!==d&&d===n.getRootElement())&&l.select()}},y);else if(null!==r)switch(typeof r){case"string":{let l=n.parseEditorState(r);n.setEditorState(l,y);break}case"object":n.setEditorState(r,y);break;case"function":n.update(()=>{(0,f.Gv)().isEmpty()&&r(n)},y)}}}(S,m),[S,b]},[]);return m(()=>{let r=n.editable,[d]=l;d.setEditable(void 0===r||r)},[]),(0,h.jsx)(d.YK.Provider,{value:l,children:r})}},46895:function(n,r,l){l.d(r,{LI:function(){return o},YK:function(){return h},g:function(){return u}});var d,f=l(67294),c=(d=function(n){let r=new URLSearchParams;r.append("code",n);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${r} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}).__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d;let h=(0,f.createContext)(null);function o(n,r){let l=null;return null!=n&&(l=n[1]),{getTheme:function(){return null!=r?r:null!=l?l.getTheme():null}}}function u(){let n=(0,f.useContext)(h);return null==n&&c(8),n}},16177:function(n,r,l){l.d(r,{f:function(){return x}});var d=l(46895),f=l(67294),c=l(85893),h=l(5487),_=l(18824);let m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?f.useLayoutEffect:f.useEffect,y=(0,f.forwardRef)(function({editor:n,ariaActiveDescendant:r,ariaAutoComplete:l,ariaControls:d,ariaDescribedBy:h,ariaErrorMessage:_,ariaExpanded:y,ariaInvalid:x,ariaLabel:b,ariaLabelledBy:S,ariaMultiline:T,ariaOwns:w,ariaRequired:k,autoCapitalize:L,className:E,id:O,role:P="textbox",spellCheck:F=!0,style:D,tabIndex:A,"data-testid":B,...z},R){let[W,K]=(0,f.useState)(n.isEditable()),V=(0,f.useCallback)(r=>{r&&r.ownerDocument&&r.ownerDocument.defaultView?n.setRootElement(r):n.setRootElement(null)},[n]),$=(0,f.useMemo)(()=>(function(...n){return r=>{n.forEach(n=>{"function"==typeof n?n(r):null!=n&&(n.current=r)})}})(R,V),[V,R]);return m(()=>(K(n.isEditable()),n.registerEditableListener(n=>{K(n)})),[n]),(0,c.jsx)("div",{"aria-activedescendant":W?r:void 0,"aria-autocomplete":W?l:"none","aria-controls":W?d:void 0,"aria-describedby":h,...null!=_?{"aria-errormessage":_}:{},"aria-expanded":W&&"combobox"===P?!!y:void 0,...null!=x?{"aria-invalid":x}:{},"aria-label":b,"aria-labelledby":S,"aria-multiline":T,"aria-owns":W?w:void 0,"aria-readonly":!W||void 0,"aria-required":k,autoCapitalize:L,className:E,contentEditable:W,"data-testid":B,id:O,ref:$,role:W?P:void 0,spellCheck:F,style:D,tabIndex:A,...z})});function p(n){return n.getEditorState().read((0,h.yL)(n.isComposing()))}let x=(0,f.forwardRef)(function(n,r){let{placeholder:l,...f}=n,[h]=(0,d.g)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(y,{editor:h,...f,ref:r}),null!=l&&(0,c.jsx)(v,{editor:h,content:l})]})});function v({content:n,editor:r}){let l=function(n){let[r,l]=(0,f.useState)(()=>p(n));return m(()=>{function t(){let r=p(n);l(r)}return t(),(0,_.qV)(n.registerUpdateListener(()=>{t()}),n.registerEditableListener(()=>{t()}))},[n]),r}(r),[d,h]=(0,f.useState)(r.isEditable());if((0,f.useLayoutEffect)(()=>(h(r.isEditable()),r.registerEditableListener(n=>{h(n)})),[r]),!l)return null;let y=null;return"function"==typeof n?y=n(d):null!==n&&(y=n),null===y?null:(0,c.jsx)("div",{"aria-hidden":!0,children:y})}},89357:function(n,r,l){l.d(r,{g:function(){return a}});var d=l(67294),f=l(85893);function t(n,r){return(t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n})(n,r)}var c={error:null},h=function(n){function s(){for(var r,l=arguments.length,d=Array(l),f=0;f<l;f++)d[f]=arguments[f];return(r=n.call.apply(n,[this].concat(d))||this).state=c,r.resetErrorBoundary=function(){for(var n,l=arguments.length,d=Array(l),f=0;f<l;f++)d[f]=arguments[f];null==r.props.onReset||(n=r.props).onReset.apply(n,d),r.reset()},r}s.prototype=Object.create(n.prototype),s.prototype.constructor=s,t(s,n),s.getDerivedStateFromError=function(n){return{error:n}};var r=s.prototype;return r.reset=function(){this.setState(c)},r.componentDidCatch=function(n,r){var l,d;null==(l=(d=this.props).onError)||l.call(d,n,r)},r.componentDidUpdate=function(n,r){var l,d,f,c,h=this.state.error,_=this.props.resetKeys;null!==h&&null!==r.error&&(void 0===(f=n.resetKeys)&&(f=[]),void 0===(c=_)&&(c=[]),f.length!==c.length||f.some(function(n,r){return!Object.is(n,c[r])}))&&(null==(l=(d=this.props).onResetKeysChange)||l.call(d,n.resetKeys,_),this.reset())},r.render=function(){var n=this.state.error,r=this.props,l=r.fallbackRender,f=r.FallbackComponent,c=r.fallback;if(null!==n){var h={error:n,resetErrorBoundary:this.resetErrorBoundary};if(d.isValidElement(c))return c;if("function"==typeof l)return l(h);if(f)return d.createElement(f,h);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},s}(d.Component);function a({children:n,onError:r}){return(0,f.jsx)(h,{fallback:(0,f.jsx)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:r,children:n})}},20740:function(n,r,l){l.d(r,{e:function(){return a}});var d=l(46895),f=l(18824),c=l(61084);function C(n){n.undoStack=[],n.redoStack=[],n.current=null}var h=l(67294);function a({delay:n,externalHistoryState:r}){let[l]=(0,d.g)();return function(n,r,l=1e3){let d=(0,h.useMemo)(()=>r||{current:null,redoStack:[],undoStack:[]},[r]);(0,h.useEffect)(()=>(function(n,r,l){let d,h;let _=(d=Date.now(),h=0,(r,f,_,m,y,x)=>{let b=Date.now();if(x.has("historic"))return h=0,d=b,2;let S=function(n,r,l,d,f){if(null===n||0===l.size&&0===d.size&&!f)return 0;let h=r._selection,_=n._selection;if(f)return 1;if(!((0,c.OP)(h)&&(0,c.OP)(_)&&_.isCollapsed()&&h.isCollapsed()))return 0;let m=function(n,r,l){let d=n._nodeMap,f=[];for(let n of r){let r=d.get(n);void 0!==r&&f.push(r)}for(let[n,r]of l){if(!r)continue;let l=d.get(n);void 0===l||(0,c.wd)(l)||f.push(l)}return f}(r,l,d);if(0===m.length)return 0;if(m.length>1){let l=r._nodeMap,d=l.get(h.anchor.key),f=l.get(_.anchor.key);return d&&f&&!n._nodeMap.has(d.__key)&&(0,c.Gg)(d)&&1===d.__text.length&&1===h.anchor.offset?2:0}let y=m[0],x=n._nodeMap.get(y.__key);if(!(0,c.Gg)(x)||!(0,c.Gg)(y)||x.__mode!==y.__mode)return 0;let b=x.__text,S=y.__text;if(b===S)return 0;let T=h.anchor,w=_.anchor;if(T.key!==w.key||"text"!==T.type)return 0;let k=T.offset,L=w.offset,E=S.length-b.length;return 1===E&&L===k-1?2:-1===E&&L===k+1?3:-1===E&&L===k?4:0}(r,f,m,y,n.isComposing()),T=(()=>{let T=null===_||_.editor===n,w=x.has("history-push");if(!w&&T&&x.has("history-merge"))return 0;if(null===r)return 1;let k=f._selection;return m.size>0||y.size>0?!1===w&&0!==S&&S===h&&b<d+l&&T||1===m.size&&function(n,r,l){let d=r._nodeMap.get(n),f=l._nodeMap.get(n),h=r._selection,_=l._selection;return!((0,c.OP)(h)&&(0,c.OP)(_)&&"element"===h.anchor.type&&"element"===h.focus.type&&"text"===_.anchor.type&&"text"===_.focus.type||!(0,c.Gg)(d)||!(0,c.Gg)(f)||d.__parent!==f.__parent)&&JSON.stringify(r.read(()=>d.exportJSON()))===JSON.stringify(l.read(()=>f.exportJSON()))}(Array.from(m)[0],r,f)?0:1:null!==k?0:2})();return d=b,h=S,T}),m=(0,f.qV)(n.registerCommand(c.$l,()=>((function(n,r){let l=r.redoStack,d=r.undoStack;if(0!==d.length){let f=r.current,h=d.pop();null!==f&&(l.push(f),n.dispatchCommand(c.r0,!0)),0===d.length&&n.dispatchCommand(c.yn,!1),r.current=h||null,h&&h.editor.setEditorState(h.editorState,{tag:"historic"})}})(n,r),!0),c.VN),n.registerCommand(c.zq,()=>((function(n,r){let l=r.redoStack,d=r.undoStack;if(0!==l.length){let f=r.current;null!==f&&(d.push(f),n.dispatchCommand(c.yn,!0));let h=l.pop();0===l.length&&n.dispatchCommand(c.r0,!1),r.current=h||null,h&&h.editor.setEditorState(h.editorState,{tag:"historic"})}})(n,r),!0),c.VN),n.registerCommand(c.BM,()=>(C(r),!1),c.VN),n.registerCommand(c.Nr,()=>(C(r),n.dispatchCommand(c.r0,!1),n.dispatchCommand(c.yn,!1),!0),c.VN),n.registerUpdateListener(({editorState:l,prevEditorState:d,dirtyLeaves:f,dirtyElements:h,tags:m})=>{let y=r.current,x=r.redoStack,b=r.undoStack,S=null===y?null:y.editorState;if(null!==y&&l===S)return;let T=_(d,l,y,f,h,m);if(1===T)0!==x.length&&(r.redoStack=[],n.dispatchCommand(c.r0,!1)),null!==y&&(b.push({...y}),n.dispatchCommand(c.yn,!0));else if(2===T)return;r.current={editor:n,editorState:l}}));return m})(n,d,l),[l,n,d])}(l,r,n),null}},98092:function(n,r,l){l.d(r,{B:function(){return LexicalRichTextPlugin_prod_h}});var d,f,c=l(46895),h=l(67294);let _="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?h.useLayoutEffect:h.useEffect;function useLexicalEditable_prod_c(n){return{initialValueFn:()=>n.isEditable(),subscribe:r=>n.registerEditableListener(r)}}var m=l(5487),y=l(18824),x=l(73935),b=l(85893),S=l(61084);(d=function(n){let r=new URLSearchParams;r.append("code",n);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${r} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}).__esModule&&Object.prototype.hasOwnProperty.call(d,"default")&&d.default;let T=new Map;function I(n,r){let l=n.getStartEndPoints();if(r.isSelected(n)&&!r.isSegmented()&&!r.isToken()&&null!==l){let[d,f]=l,c=n.isBackward(),h=d.getNode(),_=f.getNode(),m=r.is(h),y=r.is(_);if(m||y){let[l,d]=(0,S.cs)(n),f=h.is(_),m=r.is(c?_:h),y=r.is(c?h:_),x,b=0;return f?(b=l>d?d:l,x=l>d?l:d):m?(b=c?d:l,x=void 0):y&&(b=0,x=c?l:d),r.__text=r.__text.slice(b,x),r}}return r}function M(n,r){let l=(0,S.fL)(n.focus,r);return(0,S.k$)(l)&&!l.isIsolated()||(0,S.F7)(l)&&!l.isInline()&&!l.canBeEmpty()}function j(n,r,l){let d=function(n){let r=n.anchor.getNode();return"rtl"===((0,S.wd)(r)?r:r.getParentOrThrow()).getDirection()}(n);!function(n,r,l,d){n.modify(r?"extend":"move",l,d)}(n,r,l?!d:d,"character")}let w=new Set(["STYLE","SCRIPT"]);var k=(f=function(n){let r=new URLSearchParams;r.append("code",n);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${r} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}).__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f;function LexicalClipboard_prod_N(n,r,l){let d=n.getData("application/x-lexical-editor");if(d)try{let n=JSON.parse(d);if(n.namespace===l._config.namespace&&Array.isArray(n.nodes))return LexicalClipboard_prod_(l,function(n){let r=[];for(let l=0;l<n.length;l++){let d=n[l],f=(0,S.oC)(d);(0,S.Gg)(f)&&function(n){let r=n.getStyle(),l=function(n){let r={};if(!n)return r;let l=n.split(";");for(let n of l)if(""!==n){let[l,d]=n.split(/:([^]+)/);l&&d&&(r[l.trim()]=d.trim())}return r}(r);T.set(r,l)}(f),r.push(f)}return r}(n.nodes),r)}catch(n){}let f=n.getData("text/html");if(f)try{let n=(new DOMParser).parseFromString(window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:n=>n}).createHTML(f):f,"text/html");return LexicalClipboard_prod_(l,function(n,r){let l=r.body?r.body.childNodes:[],d=[],f=[];for(let r=0;r<l.length;r++){let c=l[r];if(!w.has(c.nodeName)){let r=function LexicalHtml_prod_y(n,r,l,d,f=new Map,c){let h=[];if(w.has(n.nodeName))return h;let _=null,m=function(n,r){let{nodeName:l}=n,d=r._htmlConversions.get(l.toLowerCase()),f=null;if(void 0!==d)for(let r of d){let l=r(n);null!==l&&(null===f||(f.priority||0)<=(l.priority||0))&&(f=l)}return null!==f?f.conversion:null}(n,r),y=m?m(n):null,x=null;if(null!==y){x=y.after;let r=y.node;if(null!==(_=Array.isArray(r)?r[r.length-1]:r)){for(let[,n]of f)if(!(_=n(_,c)))break;_&&h.push(...Array.isArray(r)?r:[_])}null!=y.forChild&&f.set(n.nodeName,y.forChild)}let b=n.childNodes,T=[],k=(null==_||!(0,S._v)(_))&&(null!=_&&(0,S.ek)(_)||d);for(let n=0;n<b.length;n++)T.push(...LexicalHtml_prod_y(b[n],r,l,k,new Map(f),_));return null!=x&&(T=x(T)),(0,S.lv)(n)&&(T=function(n,r,l){let d=n.style.textAlign,f=[],c=[];for(let n=0;n<r.length;n++){let h=r[n];if((0,S.ek)(h))d&&!h.getFormat()&&h.setFormat(d),f.push(h);else if(c.push(h),n===r.length-1||n<r.length-1&&(0,S.ek)(r[n+1])){let n=l();n.setFormat(d),n.append(...c),f.push(n),c=[]}}return f}(n,T,k?()=>{let n=new S.RG;return l.push(n),n}:S.BE)),null==_?T.length>0?h=h.concat(T):(0,S.lv)(n)&&null!=n.nextSibling&&null!=n.previousSibling&&(0,S.u8)(n.nextSibling)&&(0,S.u8)(n.previousSibling)&&(h=h.concat((0,S.T)())):(0,S.F7)(_)&&_.append(...T),h}(c,n,f,!1);null!==r&&(d=d.concat(r))}}return function(n){for(let r of n)r.getNextSibling() instanceof S.RG&&r.insertAfter((0,S.T)());for(let r of n){let n=r.getChildren();for(let l of n)r.insertBefore(l);r.remove()}}(f),d}(l,n),r)}catch(n){}let c=n.getData("text/plain")||n.getData("text/uri-list");if(null!=c){if((0,S.OP)(r)){let n=c.split(/(\r?\n|\t)/);""===n[n.length-1]&&n.pop();for(let r=0;r<n.length;r++){let l=(0,S.dL)();if((0,S.OP)(l)){let d=n[r];"\n"===d||"\r\n"===d?l.insertParagraph():"	"===d?l.insertNodes([(0,S.S3)()]):l.insertText(d)}}}else r.insertRawText(c)}}function LexicalClipboard_prod_(n,r,l){n.dispatchCommand(S.zr,{nodes:r,selection:l})||l.insertNodes(r)}let L=null;async function LexicalClipboard_prod_O(n,r,l){if(null!==L)return!1;if(null!==r)return new Promise((d,f)=>{n.update(()=>{d(LexicalClipboard_prod_E(n,r,l))})});let d=n.getRootElement(),f=null==n._window?window.document:n._window.document,c=(0,S.In)(n._window);if(null===d||null===c)return!1;let h=f.createElement("span");h.style.cssText="position: fixed; top: -1000px;",h.append(f.createTextNode("#")),d.append(h);let _=new Range;return _.setStart(h,0),_.setEnd(h,1),c.removeAllRanges(),c.addRange(_),new Promise((r,d)=>{let c=n.registerCommand(S.LV,d=>((0,y.nh)(d,ClipboardEvent)&&(c(),null!==L&&(window.clearTimeout(L),L=null),r(LexicalClipboard_prod_E(n,d,l))),!0),S.jw);L=window.setTimeout(()=>{c(),L=null,r(!1)},50),f.execCommand("copy"),h.remove()})}function LexicalClipboard_prod_E(n,r,l){if(void 0===l){let r=(0,S.In)(n._window);if(!r)return!1;let d=r.anchorNode,f=r.focusNode;if(null!==d&&null!==f&&!(0,S.af)(n,d,f))return!1;let c=(0,S.dL)();if(null===c)return!1;l=function(n=(0,S.dL)()){let r={"text/plain":n?n.getTextContent():""};if(n){let l=(0,S.mJ)();for(let[d,f]of E){let c=f(l,n);null!==c&&(r[d]=c)}}return r}(c)}r.preventDefault();let d=r.clipboardData;return null!==d&&(function(n,r){for(let l in r){let d=r[l];void 0!==d&&n.setData(l,d)}}(d,l),!0)}let E=[["text/html",function(n,r=(0,S.dL)()){return null==r&&k(166),(0,S.OP)(r)&&r.isCollapsed()||0===r.getNodes().length?"":function(n,r){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let l=document.createElement("div"),d=(0,S.Gv)().getChildren();for(let f=0;f<d.length;f++)(function LexicalHtml_prod_g(n,r,l,d=null){let f,c=null===d||r.isSelected(d),h=(0,S.F7)(r)&&r.excludeFromCopy("html"),_=r;if(null!==d){let n=(0,S.B3)(r);_=n=(0,S.Gg)(n)&&null!==d?I(d,n):n}let m=(0,S.F7)(_)?_.getChildren():[],y=n._nodes.get(_.getType());f=y&&void 0!==y.exportDOM?y.exportDOM(n,_):_.exportDOM(n);let{element:x,after:b}=f;if(!x)return!1;let T=document.createDocumentFragment();for(let l=0;l<m.length;l++){let f=m[l],h=LexicalHtml_prod_g(n,f,T,d);!c&&(0,S.F7)(r)&&h&&r.extractWithChild(f,d,"html")&&(c=!0)}if(c&&!h){if(((0,S.Re)(x)||(0,S.fn)(x))&&x.append(T),l.append(x),b){let n=b.call(_,x);n&&((0,S.fn)(x)?x.replaceChildren(n):x.replaceWith(n))}}else l.append(T);return c})(n,d[f],l,r);return l.innerHTML}(n,r)}],["application/x-lexical-editor",function(n,r=(0,S.dL)()){return null==r&&k(166),(0,S.OP)(r)&&r.isCollapsed()||0===r.getNodes().length?null:JSON.stringify(function(n,r){let l=[],d=(0,S.Gv)().getChildren();for(let f=0;f<d.length;f++)!function LexicalClipboard_prod_P(n,r,l,d=[]){let f=null===r||l.isSelected(r),c=(0,S.F7)(l)&&l.excludeFromCopy("html"),h=l;if(null!==r){let n=(0,S.B3)(l);h=n=(0,S.Gg)(n)&&null!==r?I(r,n):n}let _=(0,S.F7)(h)?h.getChildren():[],m=function(n){let r=n.exportJSON(),l=n.constructor;if(r.type!==l.getType()&&k(58,l.name),(0,S.F7)(n)){let n=r.children;Array.isArray(n)||k(59,l.name)}return r}(h);if((0,S.Gg)(h)){let n=h.__text;n.length>0?m.text=n:f=!1}for(let d=0;d<_.length;d++){let c=_[d],h=LexicalClipboard_prod_P(n,r,c,m.children);!f&&(0,S.F7)(l)&&h&&l.extractWithChild(c,r,"clone")&&(f=!0)}if(f&&!c)d.push(m);else if(Array.isArray(m.children))for(let n=0;n<m.children.length;n++){let r=m.children[n];d.push(r)}return f}(n,r,d[f],l);return{namespace:n._config.namespace,nodes:l}}(n,r))}]];function lt(n,r){if(void 0!==document.caretRangeFromPoint){let l=document.caretRangeFromPoint(n,r);return null===l?null:{node:l.startContainer,offset:l.startOffset}}if("undefined"!==document.caretPositionFromPoint){let l=document.caretPositionFromPoint(n,r);return null===l?null:{node:l.offsetNode,offset:l.offset}}return null}let O="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,P=O&&"documentMode"in document?document.documentMode:null,F=!(!O||!("InputEvent"in window)||P)&&"getTargetRanges"in new window.InputEvent("input"),D=O&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),A=O&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,B=O&&/^(?=.*Chrome).*/i.test(navigator.userAgent),z=O&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!B,R=(0,S.fA)("DRAG_DROP_PASTE_FILE");function At(n){let r=null;if((0,y.nh)(n,DragEvent)?r=n.dataTransfer:(0,y.nh)(n,ClipboardEvent)&&(r=n.clipboardData),null===r)return[!1,[],!1];let l=r.types,d=l.includes("Files"),f=l.includes("text/html")||l.includes("text/plain");return[d,Array.from(r.files),f]}function St(n){let r=(0,S.dL)();if(!(0,S.OP)(r))return!1;let l=new Set,d=r.getNodes();for(let r=0;r<d.length;r++){let f=d[r],c=f.getKey();if(l.has(c))continue;let h=(0,y.$s)(f,n=>(0,S.F7)(n)&&!n.isInline());if(null===h)continue;let _=h.getKey();h.canIndent()&&!l.has(_)&&(l.add(_),n(h))}return l.size>0}function Ft(n){let r=(0,S.Xo)(n);return(0,S.k$)(r)}function It(n){for(let r of["lowercase","uppercase","capitalize"])n.hasFormat(r)&&n.toggleFormat(r)}let W="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?h.useLayoutEffect:h.useEffect;function LexicalRichTextPlugin_prod_E(n){return n.getEditorState().read((0,m.yL)(n.isComposing()))}function LexicalRichTextPlugin_prod_h({contentEditable:n,placeholder:r=null,ErrorBoundary:l}){var d;let[f]=(0,c.g)(),_=function(n,r){let[l,d]=(0,h.useState)(()=>n.getDecorators());return W(()=>n.registerDecoratorListener(n=>{(0,x.flushSync)(()=>{d(n)})}),[n]),(0,h.useEffect)(()=>{d(n.getDecorators())},[n]),(0,h.useMemo)(()=>{let d=[],f=Object.keys(l);for(let c=0;c<f.length;c++){let _=f[c],m=(0,b.jsx)(r,{onError:r=>n._onError(r),children:(0,b.jsx)(h.Suspense,{fallback:null,children:l[_]})}),y=n.getElementByKey(_);null!==y&&d.push((0,x.createPortal)(m,y,_))}return d},[r,l,n])}(f,l);return W(()=>{var n;return(0,y.qV)((n=d,(0,y.qV)(n.registerCommand(S.Kr,n=>{let r=(0,S.dL)();return!!(0,S.iO)(r)&&(r.clear(),!0)},0),n.registerCommand(S.Mt,n=>{let r=(0,S.dL)();return!!(0,S.OP)(r)&&(r.deleteCharacter(n),!0)},S.VN),n.registerCommand(S.cj,n=>{let r=(0,S.dL)();return!!(0,S.OP)(r)&&(r.deleteWord(n),!0)},S.VN),n.registerCommand(S.n2,n=>{let r=(0,S.dL)();return!!(0,S.OP)(r)&&(r.deleteLine(n),!0)},S.VN),n.registerCommand(S.yF,r=>{let l=(0,S.dL)();if("string"==typeof r)null!==l&&l.insertText(r);else{if(null===l)return!1;let d=r.dataTransfer;if(null!=d)LexicalClipboard_prod_N(d,l,n);else if((0,S.OP)(l)){let n=r.data;return n&&l.insertText(n),!0}}return!0},S.VN),n.registerCommand(S.RJ,()=>{let n=(0,S.dL)();return!!(0,S.OP)(n)&&(n.removeText(),!0)},S.VN),n.registerCommand(S.Ew,n=>{let r=(0,S.dL)();return!!(0,S.OP)(r)&&(r.formatText(n),!0)},S.VN),n.registerCommand(S.RO,n=>{let r=(0,S.dL)();if(!(0,S.OP)(r)&&!(0,S.iO)(r))return!1;let l=r.getNodes();for(let r of l){let l=(0,y.$s)(r,n=>(0,S.F7)(n)&&!n.isInline());null!==l&&l.setFormat(n)}return!0},S.VN),n.registerCommand(S.WH,n=>{let r=(0,S.dL)();return!!(0,S.OP)(r)&&(r.insertLineBreak(n),!0)},S.VN),n.registerCommand(S.K0,()=>{let n=(0,S.dL)();return!!(0,S.OP)(n)&&(n.insertParagraph(),!0)},S.VN),n.registerCommand(S.cA,()=>((0,S.od)([(0,S.S3)()]),!0),S.VN),n.registerCommand(S.PU,()=>St(n=>{let r=n.getIndent();n.setIndent(r+1)}),S.VN),n.registerCommand(S.cz,()=>St(n=>{let r=n.getIndent();r>0&&n.setIndent(r-1)}),S.VN),n.registerCommand(S._0,n=>{let r=(0,S.dL)();if((0,S.iO)(r)&&!Ft(n.target)){let n=r.getNodes();if(n.length>0)return n[0].selectPrevious(),!0}else if((0,S.OP)(r)){let l=(0,S.fL)(r.focus,!0);if(!n.shiftKey&&(0,S.k$)(l)&&!l.isIsolated()&&!l.isInline())return l.selectPrevious(),n.preventDefault(),!0}return!1},S.VN),n.registerCommand(S.Zb,n=>{let r=(0,S.dL)();if((0,S.iO)(r)){let n=r.getNodes();if(n.length>0)return n[0].selectNext(0,0),!0}else if((0,S.OP)(r)){if(function(n){let r=n.focus;return"root"===r.key&&r.offset===(0,S.Gv)().getChildrenSize()}(r))return n.preventDefault(),!0;let l=(0,S.fL)(r.focus,!1);if(!n.shiftKey&&(0,S.k$)(l)&&!l.isIsolated()&&!l.isInline())return l.selectNext(),n.preventDefault(),!0}return!1},S.VN),n.registerCommand(S.u$,n=>{let r=(0,S.dL)();if((0,S.iO)(r)){let l=r.getNodes();if(l.length>0)return n.preventDefault(),l[0].selectPrevious(),!0}if(!(0,S.OP)(r))return!1;if(M(r,!0)){let l=n.shiftKey;return n.preventDefault(),j(r,l,!0),!0}return!1},S.VN),n.registerCommand(S.Nm,n=>{let r=(0,S.dL)();if((0,S.iO)(r)&&!Ft(n.target)){let l=r.getNodes();if(l.length>0)return n.preventDefault(),l[0].selectNext(0,0),!0}if(!(0,S.OP)(r))return!1;let l=n.shiftKey;return!!M(r,!1)&&(n.preventDefault(),j(r,l,!1),!0)},S.VN),n.registerCommand(S.aR,r=>{if(Ft(r.target))return!1;let l=(0,S.dL)();if(!(0,S.OP)(l))return!1;let{anchor:d}=l,f=d.getNode();return l.isCollapsed()&&0===d.offset&&!(0,S.wd)(f)&&(0,y.f8)(f).getIndent()>0?(r.preventDefault(),n.dispatchCommand(S.cz,void 0)):(!A||"ko-KR"!==navigator.language)&&(r.preventDefault(),n.dispatchCommand(S.Mt,!0))},S.VN),n.registerCommand(S.MK,r=>{if(Ft(r.target))return!1;let l=(0,S.dL)();return!!(0,S.OP)(l)&&(r.preventDefault(),n.dispatchCommand(S.Mt,!1))},S.VN),n.registerCommand(S.XN,r=>{let l=(0,S.dL)();if(!(0,S.OP)(l))return!1;if(It(l),null!==r){if((A||D||z)&&F)return!1;if(r.preventDefault(),r.shiftKey)return n.dispatchCommand(S.WH,!1)}return n.dispatchCommand(S.K0,void 0)},S.VN),n.registerCommand(S.Zq,()=>{let r=(0,S.dL)();return!!(0,S.OP)(r)&&(n.blur(),!0)},S.VN),n.registerCommand(S.zD,r=>{let[,l]=At(r);if(l.length>0){let d=lt(r.clientX,r.clientY);if(null!==d){let{offset:r,node:f}=d,c=(0,S.Xo)(f);if(null!==c){let n=(0,S.vN)();if((0,S.Gg)(c))n.anchor.set(c.getKey(),r,"text"),n.focus.set(c.getKey(),r,"text");else{let r=c.getParentOrThrow().getKey(),l=c.getIndexWithinParent()+1;n.anchor.set(r,l,"element"),n.focus.set(r,l,"element")}let l=(0,S.S9)(n);(0,S.oq)(l)}n.dispatchCommand(R,l)}return r.preventDefault(),!0}let d=(0,S.dL)();return!!(0,S.OP)(d)},S.VN),n.registerCommand(S.XI,n=>{let[r]=At(n),l=(0,S.dL)();return!(r&&!(0,S.OP)(l))},S.VN),n.registerCommand(S.kE,n=>{let[r]=At(n),l=(0,S.dL)();if(r&&!(0,S.OP)(l))return!1;let d=lt(n.clientX,n.clientY);if(null!==d){let r=(0,S.Xo)(d.node);(0,S.k$)(r)&&n.preventDefault()}return!0},S.VN),n.registerCommand(S.Hr,()=>((0,S.UL)(),!0),S.VN),n.registerCommand(S.LV,r=>(LexicalClipboard_prod_O(n,(0,y.nh)(r,ClipboardEvent)?r:null),!0),S.VN),n.registerCommand(S.dR,r=>((async function(n,r){await LexicalClipboard_prod_O(r,(0,y.nh)(n,ClipboardEvent)?n:null),r.update(()=>{let n=(0,S.dL)();(0,S.OP)(n)?n.removeText():(0,S.iO)(n)&&n.getNodes().forEach(n=>n.remove())})})(r,n),!0),S.VN),n.registerCommand(S.A1,r=>{let[,l,d]=At(r);return l.length>0&&!d?(n.dispatchCommand(R,l),!0):!((0,S.uF)(r.target)&&(0,S.GA)(r.target))&&null!==(0,S.dL)()&&(r.preventDefault(),n.update(()=>{let l=(0,S.dL)(),d=(0,y.nh)(r,InputEvent)||(0,y.nh)(r,KeyboardEvent)?null:r.clipboardData;null!=d&&null!==l&&LexicalClipboard_prod_N(d,l,n)},{tag:"paste"}),!0)},S.VN),n.registerCommand(S.Y7,n=>{let r=(0,S.dL)();return(0,S.OP)(r)&&It(r),!1},S.VN),n.registerCommand(S.dB,n=>{let r=(0,S.dL)();return(0,S.OP)(r)&&It(r),!1},S.VN))),function(n){let r=window.location.origin,a=l=>{if(l.origin!==r)return;let d=n.getRootElement();if(document.activeElement!==d)return;let f=l.data;if("string"==typeof f){let r;try{r=JSON.parse(f)}catch(n){return}if(r&&"nuanria_messaging"===r.protocol&&"request"===r.type){let d=r.payload;if(d&&"makeChanges"===d.functionId){let r=d.args;if(r){let[d,f,c,h,_,m]=r;n.update(()=>{let n=(0,S.dL)();if((0,S.OP)(n)){let r=n.anchor,m=r.getNode(),y=0,x=0;if((0,S.Gg)(m)&&d>=0&&f>=0&&(y=d,x=d+f,n.setTextNodeRange(m,y,m,x)),y===x&&""===c||(n.insertRawText(c),m=r.getNode()),(0,S.Gg)(m)){y=h,x=h+_;let r=m.getTextContentSize();y=y>r?r:y,x=x>r?r:x,n.setTextNodeRange(m,y,m,x)}l.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",a,!0),()=>{window.removeEventListener("message",a,!0)}}(d))},[d=f]),(0,b.jsxs)(b.Fragment,{children:[n,(0,b.jsx)(LexicalRichTextPlugin_prod_w,{content:r}),_]})}function LexicalRichTextPlugin_prod_w({content:n}){let[r]=(0,c.g)(),l=function(n){let[r,l]=(0,h.useState)(()=>LexicalRichTextPlugin_prod_E(n));return W(()=>{function e(){let r=LexicalRichTextPlugin_prod_E(n);l(r)}return e(),(0,y.qV)(n.registerUpdateListener(()=>{e()}),n.registerEditableListener(()=>{e()}))},[n]),r}(r),d=function(n){let[r]=(0,c.g)(),l=(0,h.useMemo)(()=>n(r),[r,n]),[d,f]=(0,h.useState)(()=>l.initialValueFn()),m=(0,h.useRef)(d);return _(()=>{let{initialValueFn:n,subscribe:r}=l,d=n();return m.current!==d&&(m.current=d,f(d)),r(n=>{m.current=n,f(n)})},[l,n]),d}(useLexicalEditable_prod_c);return l?"function"==typeof n?n(d):n:null}},5487:function(n,r,l){l.d(r,{yL:function(){return g}});var d,f=l(61084);function g(n){return()=>(function(n){if(!function(n,r=!0){if(n)return!1;let l=(0,f.Gv)().getTextContent();return r&&(l=l.trim()),""===l}(n,!1))return!1;let r=(0,f.Gv)().getChildren(),l=r.length;if(l>1)return!1;for(let n=0;n<l;n++){let l=r[n];if((0,f.k$)(l))return!1;if((0,f.F7)(l)){if(!(0,f.Rl)(l)||0!==l.__indent)return!1;let r=l.getChildren(),d=r.length;for(let l=0;l<d;l++){let l=r[n];if(!(0,f.Gg)(l))return!1}}}return!0})(n)}(d=function(n){let r=new URLSearchParams;r.append("code",n);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${r} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}).__esModule&&Object.prototype.hasOwnProperty.call(d,"default")&&d.default},18824:function(n,r,l){l.d(r,{$s:function(){return rt},f8:function(){return ot},nh:function(){return ct},qV:function(){return N}});var d,f=l(61084),c=(d=function(n){let r=new URLSearchParams;r.append("code",n);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${r} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}).__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d;let h="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,_=h&&"documentMode"in document?document.documentMode:null;function N(...n){return()=>{for(let r=n.length-1;r>=0;r--)n[r]();n.length=0}}function ot(n){let r=rt(n,n=>(0,f.F7)(n)&&!n.isInline());return(0,f.F7)(r)||c(4,n.__key),r}h&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),h&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),h&&"InputEvent"in window&&!_&&new window.InputEvent("input"),h&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),h&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,h&&/Android/.test(navigator.userAgent),h&&/^(?=.*Chrome).*/i.test(navigator.userAgent),h&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);let rt=(n,r)=>{let l=n;for(;l!==(0,f.Gv)()&&null!=l;){if(r(l))return l;l=l.getParent()}return null};function ct(n,r){return null!==n&&Object.getPrototypeOf(n).constructor.name===r.name}},61084:function(n,r,l){function e(n){return{}}l.d(r,{$l:function(){return k},A1:function(){return x},B3:function(){return Rn},BE:function(){return Vs},BM:function(){return el},Ew:function(){return w},F7:function(){return Ls},GA:function(){return at},Gg:function(){return vi},Gv:function(){return Ot},Hr:function(){return er},In:function(){return bn},Jh:function(){return Zs},K0:function(){return m},Kr:function(){return c},LV:function(){return Q},MK:function(){return V},MX:function(){return xi},Mt:function(){return h},Nm:function(){return O},Nr:function(){return ea},OP:function(){return Oi},PU:function(){return J},RG:function(){return Js},RJ:function(){return b},RO:function(){return G},Re:function(){return Pn},Rl:function(){return js},S3:function(){return Ti},S9:function(){return it},T:function(){return ti},UL:function(){return Qt},VN:function(){return tS},WH:function(){return _},XI:function(){return X},XN:function(){return z},Xo:function(){return Et},Y7:function(){return R},Zb:function(){return B},Zq:function(){return K},_0:function(){return A},_v:function(){return yn},aR:function(){return W},af:function(){return ut},cA:function(){return H},cj:function(){return S},cs:function(){return Ii},cz:function(){return U},dB:function(){return $},dL:function(){return Hi},dR:function(){return ee},ek:function(){return Ki},fA:function(){return e},fL:function(){return tn},fn:function(){return On},iO:function(){return Mi},jw:function(){return tT},k$:function(){return Is},kE:function(){return Y},lv:function(){return Mn},mJ:function(){return An},n2:function(){return T},oC:function(){return vs},od:function(){return es},oq:function(){return Mt},r0:function(){return eu},u$:function(){return F},u8:function(){return Ln},uF:function(){return Fn},vN:function(){return $i},wd:function(){return Bs},yF:function(){return y},yn:function(){return ed},zD:function(){return q},zq:function(){return L},zr:function(){return f}});let d={},f={},c={},h={},_={},m={},y={},x={},b={},S={},T={},w={},k={},L={},E={},O={},P={},F={},D={},A={},B={},z={},R={},W={},K={},V={},$={},H={},J={},U={},q={},G={},X={},Y={},Z={},Q={},ee={},er={},el={},ea={},eu={},ed={},ef={},ec={},eh={},eg="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ep=eg&&"documentMode"in document?document.documentMode:null,e_=eg&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),em=eg&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ey=!(!eg||!("InputEvent"in window)||ep)&&"getTargetRanges"in new window.InputEvent("input"),ex=eg&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),ev=eg&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,eb=eg&&/Android/.test(navigator.userAgent),eC=eg&&/^(?=.*Chrome).*/i.test(navigator.userAgent),eS=eg&&eb&&eC,eT=eg&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!eC,ew=ex||ev||eT?"\xa0":"​",ek=em?"\xa0":ew,eN="֑-߿יִ-﷽ﹰ-ﻼ",eL="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",eE=RegExp("^[^"+eL+"]*["+eN+"]"),eO=RegExp("^[^"+eN+"]*["+eL+"]"),eP={bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},eF={directionless:1,unmergeable:2},eM={center:2,end:6,justify:4,left:1,right:3,start:5},eD={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},eI={normal:0,segmented:2,token:1},eA={0:"normal",2:"segmented",1:"token"};var eB,ez=(eB=function(n){let r=new URLSearchParams;r.append("code",n);for(let n=1;n<arguments.length;n++)r.append("v",arguments[n]);throw Error(`Minified Lexical error #${n}; visit https://lexical.dev/docs/error?${r} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}).__esModule&&Object.prototype.hasOwnProperty.call(eB,"default")?eB.default:eB;function $e(...n){let r=[];for(let l of n)if(l&&"string"==typeof l)for(let[n]of l.matchAll(/\S+/g))r.push(n);return r}let eR=!1,eW=0;function He(n){eW=n.timeStamp}function qe(n,r,l){let d="BR"===n.nodeName,f=r.__lexicalLineBreak;return f&&(n===f||d&&n.previousSibling===f)||d&&void 0!==Nt(n,l)}function Ye(n,r,l){eR=!0;let d=performance.now()-eW>100;try{Es(n,()=>{let f=Hi()||n.getEditorState().read(()=>{let n=Hi();return null!==n?n.clone():null}),c=new Map,h=n.getRootElement(),_=n._editorState,m=n._blockCursorElement,y=!1,x="";for(let l=0;l<r.length;l++){let b=r[l],S=b.type,T=b.target,w=function(n,r,l,d){var f;for(let c=n;c&&(f=c,!0!==f.__lexicalUnmanaged);c=ln(c)){let n=Nt(c,r);if(void 0!==n){let r=bt(n,l);if(r)return Is(r)||!Pn(c)?void 0:[c,r]}else if(c===d)return[d,Lt(l)]}}(T,n,_,h);if(!w)continue;let[k,L]=w;if("characterData"===S)d&&vi(L)&&_t(T)&&function(n,r,l){if(Oi(n)){let r=n.anchor.getNode();if(r.is(l)&&n.format!==r.getFormat())return!1}return _t(r)&&l.isAttached()}(f,T,L)&&function(n,r,l){let d=bn(l._window),f=null,c=null;null!==d&&d.anchorNode===n&&(f=d.anchorOffset,c=d.focusOffset);let h=n.nodeValue;null!==h&&Kt(r,h,f,c,!1)}(T,L,n);else if("childList"===S){y=!0;let r=b.addedNodes;for(let l=0;l<r.length;l++){let d=r[l],f=wt(d),c=d.parentNode;if(null!=c&&d!==m&&null===f&&!qe(d,c,n)){if(em){let n=(Pn(d)?d.innerText:null)||d.nodeValue;n&&(x+=n)}c.removeChild(d)}}let l=b.removedNodes,d=l.length;if(d>0){let r=0;for(let f=0;f<d;f++){let d=l[f];(qe(d,T,n)||m===d)&&(T.appendChild(d),r++)}d!==r&&c.set(k,L)}}}if(c.size>0)for(let[r,l]of c)l.reconcileObservedMutation(r,n);let b=l.takeRecords();if(b.length>0){for(let r=0;r<b.length;r++){let l=b[r],d=l.addedNodes,f=l.target;for(let r=0;r<d.length;r++){let l=d[r],c=l.parentNode;null==c||"BR"!==l.nodeName||qe(l,f,n)||c.removeChild(l)}}l.takeRecords()}null!==f&&(y&&(f.dirty=!0,Mt(f)),em&&nn(n)&&f.insertRawText(x))})}finally{eR=!1}}function Ze(n){let r=n._observer;null!==r&&Ye(n,r.takeRecords(),r)}function et(n){0===eW&&gn(n).addEventListener("textInput",He,!0),n._observer=new MutationObserver((r,l)=>{Ye(n,r,l)})}function tt(n,r){let l=n.__mode,d=n.__format,f=n.__style,c=r.__mode,h=r.__format,_=r.__style;return!(null!==l&&l!==c||null!==d&&d!==h||null!==f&&f!==_)}function nt(n,r){let l=n.mergeWithSibling(r),d=gs()._normalizedNodes;return d.add(n.__key),d.add(r.__key),l}function rt(n){let r,l,d=n;if(""!==d.__text||!d.isSimpleText()||d.isUnmergeable()){for(;null!==(r=d.getPreviousSibling())&&vi(r)&&r.isSimpleText()&&!r.isUnmergeable();){if(""!==r.__text){tt(r,d)&&(d=nt(r,d));break}r.remove()}for(;null!==(l=d.getNextSibling())&&vi(l)&&l.isSimpleText()&&!l.isUnmergeable();){if(""!==l.__text){tt(d,l)&&(d=nt(d,l));break}l.remove()}}else d.remove()}function it(n){return st(n.anchor),st(n.focus),n}function st(n){for(;"element"===n.type;){let r,l;let d=n.getNode(),f=n.offset;if(f===d.getChildrenSize()?(r=d.getChildAtIndex(f-1),l=!0):(r=d.getChildAtIndex(f),l=!1),vi(r)){n.set(r.__key,l?r.getTextContentSize():0,"text");break}if(!Ls(r))break;n.set(r.__key,l?r.getChildrenSize():0,"element")}}let eK=1,eV="function"==typeof queueMicrotask?queueMicrotask:n=>{Promise.resolve().then(n)};function at(n){let r=document.activeElement;if(!Pn(r))return!1;let l=r.nodeName;return Is(Et(n))&&("INPUT"===l||"TEXTAREA"===l||"true"===r.contentEditable&&null==ht(r))}function ut(n,r,l){let d=n.getRootElement();try{return null!==d&&d.contains(r)&&d.contains(l)&&null!==r&&!at(r)&&dt(r)===n}catch(n){return!1}}function ft(n){return n instanceof eo}function dt(n){let r=n;for(;null!=r;){let n=ht(r);if(ft(n))return n;r=ln(r)}return null}function ht(n){return n?n.__lexicalEditor:null}function gt(n){return n.isToken()||n.isSegmented()}function _t(n){return Fn(n)&&3===n.nodeType}function yt(n){let r=n;for(;null!=r;){if(_t(r))return r;r=r.firstChild}return null}function mt(n,r,l){let d=eP[r];if(null!==l&&(n&d)==(l&d))return n;let f=n^d;return"subscript"===r?f&=~eP.superscript:"superscript"===r?f&=~eP.subscript:"lowercase"===r?(f&=~eP.uppercase,f&=~eP.capitalize):"uppercase"===r?(f&=~eP.lowercase,f&=~eP.capitalize):"capitalize"===r&&(f&=~eP.lowercase,f&=~eP.uppercase),f}function St(n){let r=n.getParent();if(null!==r){let l=n.getWritable(),d=r.getWritable(),f=n.getPreviousSibling(),c=n.getNextSibling();if(null===f){if(null!==c){let n=c.getWritable();d.__first=c.__key,n.__prev=null}else d.__first=null}else{let n=f.getWritable();if(null!==c){let r=c.getWritable();r.__prev=n.__key,n.__next=r.__key}else n.__next=null;l.__prev=null}if(null===c){if(null!==f){let n=f.getWritable();d.__last=f.__key,n.__next=null}else d.__last=null}else{let n=c.getWritable();if(null!==f){let r=f.getWritable();r.__next=n.__key,n.__prev=r.__key}else n.__prev=null;l.__next=null}d.__size--,l.__parent=null}}function Ct(n){ds();let r=n.getLatest(),l=r.__parent,d=hs(),f=gs(),c=d._nodeMap,h=f._dirtyElements;null!==l&&function(n,r,l){let d=n;for(;null!==d;){if(l.has(d))return;let n=r.get(d);if(void 0===n)break;l.set(d,!1),d=n.__parent}}(l,c,h);let _=r.__key;f._dirtyType=1,Ls(n)?h.set(_,!0):f._dirtyLeaves.add(_)}function Tt(n){fs();let r=gs(),l=r._compositionKey;if(n!==l){if(r._compositionKey=n,null!==l){let n=bt(l);null!==n&&n.getWritable()}if(null!==n){let r=bt(n);null!==r&&r.getWritable()}}}function kt(){return us()?null:gs()._compositionKey}function bt(n,r){let l=(r||hs())._nodeMap.get(n);return void 0===l?null:l}function wt(n,r){let l=Nt(n,gs());return void 0!==l?bt(l,r):null}function Nt(n,r){return n[`__lexicalKey_${r._key}`]}function Et(n,r){let l=n;for(;null!=l;){let n=wt(l,r);if(null!==n)return n;l=ln(l)}return null}function Pt(n){let r=n._decorators,l=Object.assign({},r);return n._pendingDecorators=l,l}function Ft(n){return n.read(()=>Ot().getTextContent())}function Ot(){return Lt(hs())}function Lt(n){return n._nodeMap.get("root")}function Mt(n){fs();let r=hs();null!==n&&(n.dirty=!0,n.setCachedNodes(null)),r._selection=n}function Dt(n){let r=gs(),l=function(n,r){let l=n;for(;null!=l;){let n=Nt(l,r);if(void 0!==n)return n;l=ln(l)}return null}(n,r);return null===l?n===r.getRootElement()?bt("root"):null:bt(l)}function It(n,r){return r?n.getTextContentSize():0}function At(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function Bt(n){let r=[],l=n;for(;null!==l;)r.push(l),l=l._parentEditor;return r}function zt(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Wt(n){return _t(n)?n.nodeValue:null}function Rt(n,r,l){let d=bn(r._window);if(null===d)return;let f=d.anchorNode,{anchorOffset:c,focusOffset:h}=d;if(null!==f){let r=Wt(f),d=Et(f);if(null!==r&&vi(d)){if(r===ew&&l){let n=l.length;r=l,c=n,h=n}null!==r&&Kt(d,r,c,h,n)}}}function Kt(n,r,l,d,f){let c=n;if(c.isAttached()&&(f||!c.isDirty())){let h=c.isComposing(),_=r;(h||f)&&r[r.length-1]===ew&&(_=r.slice(0,-1));let m=c.getTextContent();if(f||_!==m){if(""===_){if(Tt(null),ex||ev||eT)c.remove();else{let n=gs();setTimeout(()=>{n.update(()=>{c.isAttached()&&c.remove()})},20)}return}let r=c.getParent(),f=qi(),m=c.getTextContentSize(),y=kt(),x=c.getKey();if(c.isToken()||null!==y&&x===y&&!h||Oi(f)&&(null!==r&&!r.canInsertTextBefore()&&0===f.anchor.offset||f.anchor.key===n.__key&&0===f.anchor.offset&&!c.canInsertTextBefore()&&!h||f.focus.key===n.__key&&f.focus.offset===m&&!c.canInsertTextAfter()&&!h))return void c.markDirty();let b=Hi();if(!Oi(b)||null===l||null===d)return void c.setTextContent(_);if(b.setTextNodeRange(c,l,c,d),c.isSegmented()){let n=xi(c.getTextContent());c.replace(n),c=n}c.setTextContent(_)}}}function $t(n){return"ArrowLeft"===n}function Ut(n){return"ArrowRight"===n}function Ht(n){return"Backspace"===n}function qt(n){return"Delete"===n}function Gt(n,r,l){return"a"===n.toLowerCase()&&(e_?r:l)}function Qt(n){let r=Ot();if(Oi(n)){let r=n.anchor,l=n.focus,d=r.getNode().getTopLevelElementOrThrow().getParentOrThrow();return r.set(d.getKey(),0,"element"),l.set(d.getKey(),d.getChildrenSize(),"element"),it(n),n}{let n=r.select(0,r.getChildrenSize());return Mt(it(n)),n}}function Xt(n,r){void 0===n.__lexicalClassNameCache&&(n.__lexicalClassNameCache={});let l=n.__lexicalClassNameCache,d=l[r];if(void 0!==d)return d;let f=n[r];if("string"==typeof f){let n=$e(f);return l[r]=n,n}return f}function Yt(n,r,l,d,f){if(0===l.size)return;let c=d.__type,h=d.__key,_=r.get(c);void 0===_&&ez(33,c);let m=_.klass,y=n.get(m);void 0===y&&(y=new Map,n.set(m,y));let x=y.get(h),b="destroyed"===x&&"created"===f;(void 0===x||b)&&y.set(h,b?"updated":f)}function en(n,r,l){let d=n.getParent(),f=l,c=n;return null!==d&&(r&&0===l?(f=c.getIndexWithinParent(),c=d):r||l!==c.getChildrenSize()||(f=c.getIndexWithinParent()+1,c=d)),c.getChildAtIndex(r?f-1:f)}function tn(n,r){let l=n.offset;if("element"===n.type)return en(n.getNode(),r,l);{let d=n.getNode();if(r&&0===l||!r&&l===d.getTextContentSize()){let n=r?d.getPreviousSibling():d.getNextSibling();return null===n?en(d.getParentOrThrow(),r,d.getIndexWithinParent()+(r?0:1)):n}}return null}function nn(n){let r=gn(n).event,l=r&&r.inputType;return"insertFromPaste"===l||"insertFromPasteAsQuotation"===l}function sn(n){return!Bs(n)&&!n.isLastChild()&&!n.isInline()}function on(n,r){let l=n._keyToDOMMap.get(r);return void 0===l&&ez(75,r),l}function ln(n){let r=n.assignedSlot||n.parentElement;return On(r)?r.host:r}function cn(n){return Fn(n)&&9===n.nodeType?n:Pn(n)?n.ownerDocument:null}function dn(n,r){let l=n.getParent();for(;null!==l;){if(l.is(r))return!0;l=l.getParent()}return!1}function hn(n){let r=cn(n);return r?r.defaultView:null}function gn(n){let r=n._window;return null===r&&ez(78),r}function yn(n){return Bs(n)||Ls(n)&&n.isShadowRoot()}function xn(n){let r=gs(),l=n.constructor.getType(),d=r._nodes.get(l);void 0===d&&ez(200,n.constructor.name,l);let{replace:f,replaceWithKlass:c}=d;if(null!==f){let r=f(n),d=r.constructor;return null!==c?r instanceof c||ez(201,c.name,c.getType(),d.name,d.getType(),n.constructor.name,l):r instanceof n.constructor&&d!==n.constructor||ez(202,d.name,d.getType(),n.constructor.name,l),r.__key===n.__key&&ez(203,n.constructor.name,l,d.name,d.getType()),r}return n}function vn(n,r){!Bs(n.getParent())||Ls(r)||Is(r)||ez(99)}function Cn(n){return(Is(n)||Ls(n)&&!n.canBeEmpty())&&!n.isInline()}function Tn(n,r,l){l.style.removeProperty("caret-color"),r._blockCursorElement=null;let d=n.parentElement;null!==d&&d.removeChild(n)}function bn(n){return eg?(n||window).getSelection():null}function Pn(n){return Fn(n)&&1===n.nodeType}function Fn(n){return"object"==typeof n&&null!==n&&"nodeType"in n&&"number"==typeof n.nodeType}function On(n){return Fn(n)&&11===n.nodeType}function Ln(n){let r=RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==n.nodeName.match(r)}function Mn(n){let r=RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==n.nodeName.match(r)}function Dn(n){if(Is(n)&&!n.isInline())return!0;if(!Ls(n)||yn(n))return!1;let r=n.getFirstChild(),l=null===r||ni(r)||vi(r)||r.isInline();return!n.isInline()&&!1!==n.canBeEmpty()&&l}function In(n,r){let l=n;for(;null!==l&&null!==l.getParent()&&!r(l);)l=l.getParentOrThrow();return r(l)?l:null}function An(){return gs()}let e$=new WeakMap,eH=new Map;function Wn(n){if(!n._readOnly&&n.isEmpty())return eH;n._readOnly||ez(192);let r=e$.get(n);return r||(r=function(n){let r=new Map;for(let[l,d]of n._nodeMap){let n=d.__type,f=r.get(n);f||(f=new Map,r.set(n,f)),f.set(l,d)}return r}(n),e$.set(n,r)),r}function Rn(n){let r=n.constructor.clone(n);return r.afterCloneFrom(n),r}let eJ,ej,eU,eq,eG,eX,eY,eZ,eQ,e0,e1="",e2="",e4=null,e8="",e6="",e3=!1,e7=!1,e9=null;function ar(n,r){let l=eY.get(n);if(null!==r){let l=wr(n);l.parentNode===r&&r.removeChild(l)}if(eZ.has(n)||ej._keyToDOMMap.delete(n),Ls(l)){let n=Sr(l,eY);ur(n,0,n.length-1,null)}void 0!==l&&Yt(e0,eU,eq,l,"destroyed")}function ur(n,r,l,d){let f=r;for(;f<=l;++f){let r=n[f];void 0!==r&&ar(r,d)}}function fr(n,r){n.setProperty("text-align",r)}function hr(n,r){let l=eJ.theme.indent;if("string"==typeof l){let d=n.classList.contains(l);r>0&&!d?n.classList.add(l):r<1&&d&&n.classList.remove(l)}let d=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||"40px";n.style.setProperty("padding-inline-start",0===r?"":`calc(${r} * ${d})`)}function gr(n,r){let l=n.style;0===r?fr(l,""):1===r?fr(l,"left"):2===r?fr(l,"center"):3===r?fr(l,"right"):4===r?fr(l,"justify"):5===r?fr(l,"start"):6===r&&fr(l,"end")}function _r(n,r){let l=eZ.get(n);void 0===l&&ez(60);let d=l.createDOM(eJ,ej);if(function(n,r,l){let d=l._keyToDOMMap;r[`__lexicalKey_${l._key}`]=n,d.set(n,r)}(n,d,ej),vi(l)?d.setAttribute("data-lexical-text","true"):Is(l)&&d.setAttribute("data-lexical-decorator","true"),Ls(l)){let n=l.__indent,r=l.__size;0!==n&&hr(d,n),0!==r&&function(n,r,l,d){let f=e2;e2="",pr(n,l,0,r,l.getDOMSlot(d)),xr(l,d),e2=f}(Sr(l,eZ),r-1,l,d);let f=l.__format;0!==f&&gr(d,f),l.isInline()||mr(null,l,d),sn(l)&&(e1+="\n\n",e6+="\n\n")}else{let r=l.getTextContent();if(Is(l)){let r=l.decorate(ej,eJ);null!==r&&Tr(n,r),d.contentEditable="false"}else vi(l)&&(l.isDirectionless()||(e2+=r));e1+=r,e6+=r}return null!==r&&r.insertChild(d),Yt(e0,eU,eq,l,"created"),d}function pr(n,r,l,d,f){let c=e1;e1="";let h=l;for(;h<=d;++h){_r(n[h],f);let r=eZ.get(n[h]);null!==r&&vi(r)&&(null===e4&&(e4=r.getFormat()),""===e8&&(e8=r.getStyle()))}sn(r)&&(e1+="\n\n"),f.element.__lexicalTextContent=e1,e1=c+e1}function yr(n,r){if(n){let l=n.__last;if(l){let n=r.get(l);if(n)return ni(n)?"line-break":Is(n)&&n.isInline()?"decorator":null}return"empty"}return null}function mr(n,r,l){let d=yr(n,eY),f=yr(r,eZ);d!==f&&r.getDOMSlot(l).setManagedLineBreak(f)}function xr(n,r){var l;let d=r.__lexicalDirTextContent||"",f=r.__lexicalDir||"";if(d!==e2||f!==e9){let d=""===e2,c=d?e9:(l=e2,eE.test(l)?"rtl":eO.test(l)?"ltr":null);if(c!==f){let l=r.classList,h=eJ.theme,_=null!==f?h[f]:void 0,m=null!==c?h[c]:void 0;if(void 0!==_){if("string"==typeof _){let n=$e(_);_=h[f]=n}l.remove(..._)}if(null===c||d&&"ltr"===c)r.removeAttribute("dir");else{if(void 0!==m){if("string"==typeof m){let n=$e(m);m=h[c]=n}void 0!==m&&l.add(...m)}r.dir=c}e7||(n.getWritable().__dir=c)}e9=c,r.__lexicalDirTextContent=e2,r.__lexicalDir=c}}function Sr(n,r){let l=[],d=n.__first;for(;null!==d;){let n=r.get(d);void 0===n&&ez(101),l.push(d),d=n.__next}return l}function Tr(n,r){let l=ej._pendingDecorators,d=ej._decorators;if(null===l){if(d[n]===r)return;l=Pt(ej)}l[n]=r}function kr(n){let r=n.nextSibling;return null!==r&&r===ej._blockCursorElement&&(r=r.nextSibling),r}function wr(n){let r=eQ.get(n);return void 0===r&&ez(75,n),r}let e5=Object.freeze({}),te=[["keydown",function(n,r){if(tr=n.timeStamp,tl=n.key,r.isComposing())return;let{key:l,shiftKey:d,ctrlKey:f,metaKey:c,altKey:m}=n;if(!bs(r,E,n)&&null!=l){if(!Ut(l)||f||c||m){if(Ut(l)&&!m&&!d&&(f||c))bs(r,P,n);else if(!$t(l)||f||c||m){if($t(l)&&!m&&!d&&(f||c))bs(r,D,n);else if("ArrowUp"!==l||f||c){if("ArrowDown"!==l||f||c){if("Enter"===l&&d)tf=!0,bs(r,z,n);else if(" "===l)bs(r,R,n);else if(e_&&f&&"o"===l.toLowerCase())n.preventDefault(),tf=!0,bs(r,_,!0);else if("Enter"!==l||d){if(e_?!m&&!c&&(Ht(l)||"h"===l.toLowerCase()&&f):!(f||m||c)&&Ht(l))Ht(l)?bs(r,W,n):(n.preventDefault(),bs(r,h,!0));else if("Escape"===l)bs(r,K,n);else if(e_?!(d||m||c)&&(qt(l)||"d"===l.toLowerCase()&&f):!(f||m||c)&&qt(l))qt(l)?bs(r,V,n):(n.preventDefault(),bs(r,h,!1));else if(Ht(l)&&(e_?m:f))n.preventDefault(),bs(r,S,!0);else if(qt(l)&&(e_?m:f))n.preventDefault(),bs(r,S,!1);else if(e_&&c&&Ht(l))n.preventDefault(),bs(r,T,!0);else if(e_&&c&&qt(l))n.preventDefault(),bs(r,T,!1);else if("b"===l.toLowerCase()&&!m&&(e_?c:f))n.preventDefault(),bs(r,w,"bold");else if("u"===l.toLowerCase()&&!m&&(e_?c:f))n.preventDefault(),bs(r,w,"underline");else if("i"===l.toLowerCase()&&!m&&(e_?c:f))n.preventDefault(),bs(r,w,"italic");else if("Tab"!==l||m||f||c){if("z"===l.toLowerCase()&&!d&&(e_?c:f))n.preventDefault(),bs(r,k,void 0);else if(e_?"z"===l.toLowerCase()&&c&&d:"y"===l.toLowerCase()&&f||"z"===l.toLowerCase()&&f&&d)n.preventDefault(),bs(r,L,void 0);else{let h=r._editorState._selection;null===h||Oi(h)?!em&&Gt(l,c,f)&&(n.preventDefault(),bs(r,er,n)):!d&&"c"===l.toLowerCase()&&(e_?c:f)?(n.preventDefault(),bs(r,Q,n)):!d&&"x"===l.toLowerCase()&&(e_?c:f)?(n.preventDefault(),bs(r,ee,n)):Gt(l,c,f)&&(n.preventDefault(),bs(r,er,n))}}else bs(r,$,n)}else tf=!1,bs(r,z,n)}else bs(r,B,n)}else bs(r,A,n)}else bs(r,F,n)}else bs(r,O,n);(f||d||m||c)&&bs(r,eh,n)}}],["pointerdown",function(n,r){let l=n.target,d=n.pointerType;Fn(l)&&"touch"!==d&&0===n.button&&Es(r,()=>{Is(Et(l))||(td=!0)})}],["compositionstart",function(n,r){Es(r,()=>{let l=Hi();if(Oi(l)&&!r.isComposing()){let d=l.anchor,f=l.anchor.getNode();Tt(d.key),(n.timeStamp<tr+30||"element"===d.type||!l.isCollapsed()||f.getFormat()!==l.format||vi(f)&&f.getStyle()!==l.style)&&bs(r,y,ek)}})}],["compositionend",function(n,r){em?tc=!0:Es(r,()=>{Ur(r,n.data)})}],["input",function(n,r){n.stopPropagation(),Es(r,()=>{let l=Hi(),d=n.data,f=$r(n);if(null!=d&&Oi(l)&&Rr(l,f,d,n.timeStamp,!1)){tc&&(Ur(r,d),tc=!1);let f=l.anchor.getNode(),c=bn(r._window);if(null===c)return;let h=l.isBackward(),_=h?l.anchor.offset:l.focus.offset,m=h?l.focus.offset:l.anchor.offset;ey&&!l.isCollapsed()&&vi(f)&&null!==c.anchorNode&&f.getTextContent().slice(0,_)+d+f.getTextContent().slice(_+m)===Wt(c.anchorNode)||bs(r,y,d);let x=d.length;em&&x>1&&"insertCompositionText"===n.inputType&&!r.isComposing()&&(l.anchor.offset-=x),ex||ev||eT||!r.isComposing()||(tr=0,Tt(null))}else Rt(!1,r,null!==d?d:void 0),tc&&(Ur(r,d||void 0),tc=!1);fs(),Ze(gs())}),to=null}],["click",function(n,r){Es(r,()=>{let l=Hi(),d=bn(r._window),f=qi();if(d){if(Oi(l)){let r=l.anchor,c=r.getNode();"element"===r.type&&0===r.offset&&l.isCollapsed()&&!Bs(c)&&1===Ot().getChildrenSize()&&c.getTopLevelElementOrThrow().isEmpty()&&null!==f&&l.is(f)?(d.removeAllRanges(),l.dirty=!0):3!==n.detail||l.isCollapsed()||c===l.focus.getNode()||(Ls(c)?c.select(0):c.getParentOrThrow().select(0))}else if("touch"===n.pointerType){let l=d.anchorNode;(Pn(l)||_t(l))&&Mt(ji(f,d,r,n))}}bs(r,c,n)})}],["cut",e5],["copy",e5],["dragstart",e5],["dragover",e5],["dragend",e5],["paste",e5],["focus",e5],["blur",e5],["drop",e5]];ey&&te.push(["beforeinput",(n,r)=>(function(n,r){let l=n.inputType,d=$r(n);"deleteCompositionText"===l||em&&nn(r)||"insertCompositionText"===l||Es(r,()=>{var f;let c=Hi();if("deleteContentBackward"===l){if(null===c){let n=qi();if(!Oi(n))return;Mt(n.clone())}if(Oi(c)){let l=c.anchor.key===c.focus.key;if(f=n.timeStamp,"MediaLast"===tl&&f<tr+30&&r.isComposing()&&l){if(Tt(null),tr=0,setTimeout(()=>{Es(r,()=>{Tt(null)})},30),Oi(c)){let n=c.anchor.getNode();n.markDirty(),c.format=n.getFormat(),vi(n)||ez(142),c.style=n.getStyle()}}else{Tt(null),n.preventDefault();let d=c.anchor.getNode(),f=d.getTextContent(),_=d.canInsertTextAfter(),m=0===c.anchor.offset&&c.focus.offset===f.length;eS&&l&&!m&&_||bs(r,h,!0)}return}}if(!Oi(c))return;let E=n.data;null!==to&&Rt(!1,r,to),c.dirty&&null===to||!c.isCollapsed()||Bs(c.anchor.getNode())||null===d||c.applyDOMRange(d),to=null;let O=c.anchor,P=c.focus,F=O.getNode(),D=P.getNode();if("insertText"!==l&&"insertTranspose"!==l)switch(n.preventDefault(),l){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":bs(r,y,n);break;case"insertFromComposition":Tt(null),bs(r,y,n);break;case"insertLineBreak":Tt(null),bs(r,_,!1);break;case"insertParagraph":Tt(null),tf&&!ev?(tf=!1,bs(r,_,!1)):bs(r,m,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":bs(r,x,n);break;case"deleteByComposition":(F!==D||Ls(F)||Ls(D)||!F.isToken()||!D.isToken())&&bs(r,b,n);break;case"deleteByDrag":case"deleteByCut":bs(r,b,n);break;case"deleteContent":bs(r,h,!1);break;case"deleteWordBackward":bs(r,S,!0);break;case"deleteWordForward":bs(r,S,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":bs(r,T,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":bs(r,T,!1);break;case"formatStrikeThrough":bs(r,w,"strikethrough");break;case"formatBold":bs(r,w,"bold");break;case"formatItalic":bs(r,w,"italic");break;case"formatUnderline":bs(r,w,"underline");break;case"historyUndo":bs(r,k,void 0);break;case"historyRedo":bs(r,L,void 0)}else{if("\n"===E)n.preventDefault(),bs(r,_,!1);else if("\n\n"===E)n.preventDefault(),bs(r,m,void 0);else if(null==E&&n.dataTransfer){let r=n.dataTransfer.getData("text/plain");n.preventDefault(),c.insertRawText(r)}else null!=E&&Rr(c,d,E,n.timeStamp,!0)?(n.preventDefault(),bs(r,y,E)):to=E;ts=n.timeStamp}})})(n,r)]);let tr=0,tl=null,ts=0,to=null,ta=new WeakMap,tu=!1,td=!1,tf=!1,tc=!1,th=[0,"",0,"root",0];function Rr(n,r,l,d,f){let c=n.anchor,h=n.focus,_=c.getNode(),m=gs(),y=bn(m._window),x=null!==y?y.anchorNode:null,b=c.key,S=m.getElementByKey(b),T=l.length;return b!==h.key||!vi(_)||(!f&&(!ey||ts<d+50)||_.isDirty()&&T<2||At(l))&&c.offset!==h.offset&&!_.isComposing()||gt(_)||_.isDirty()&&T>1||(f||!ey)&&null!==S&&!_.isComposing()&&x!==yt(S)||null!==y&&null!==r&&(!r.collapsed||r.startContainer!==y.anchorNode||r.startOffset!==y.anchorOffset)||_.getFormat()!==n.format||_.getStyle()!==n.style||function(n,r){if(r.isSegmented())return!0;if(!n.isCollapsed())return!1;let l=n.anchor.offset,d=r.getParentOrThrow(),f=r.isToken();return 0===l?!r.canInsertTextBefore()||!d.canInsertTextBefore()&&!r.isComposing()||f||function(n){let r=n.getPreviousSibling();return(vi(r)||Ls(r)&&r.isInline())&&!r.canInsertTextAfter()}(r):l===r.getTextContentSize()&&(!r.canInsertTextAfter()||!d.canInsertTextAfter()&&!r.isComposing()||f)}(n,_)}function Kr(n,r){return _t(n)&&null!==n.nodeValue&&0!==r&&r!==n.nodeValue.length}function Jr(n,r,l){let{anchorNode:f,anchorOffset:c,focusNode:h,focusOffset:_}=n;tu&&(tu=!1,Kr(f,c)&&Kr(h,_))||Es(r,()=>{if(!l)return void Mt(null);if(!ut(r,f,h))return;let m=Hi();if(Oi(m)){let l=m.anchor,d=l.getNode();if(m.isCollapsed()){"Range"===n.type&&n.anchorNode===n.focusNode&&(m.dirty=!0);let f=gn(r).event,c=f?f.timeStamp:performance.now(),[h,_,y,x,b]=th,S=Ot(),T=!1===r.isComposing()&&""===S.getTextContent();if(c<b+200&&l.offset===y&&l.key===x)m.format=h,m.style=_;else if("text"===l.type)vi(d)||ez(141),m.format=d.getFormat(),m.style=d.getStyle();else if("element"===l.type&&!T){Ls(d)||ez(259);let n=l.getNode();m.style="",n.isEmpty()?(m.format=n.getTextFormat(),m.style=n.getTextStyle()):m.format=0}}else{let n=l.key,r=m.focus.key,d=m.getNodes(),f=d.length,h=m.isBackward(),y=h?_:c,x=h?c:_,b=h?r:n,S=h?n:r,T=2047,w=!1;for(let n=0;n<f;n++){let r=d[n],l=r.getTextContentSize();if(vi(r)&&0!==l&&!(0===n&&r.__key===b&&y===l||n===f-1&&r.__key===S&&0===x)&&(w=!0,0==(T&=r.getFormat())))break}m.format=w?T:0}}bs(r,d,void 0)})}function $r(n){if(!n.getTargetRanges)return null;let r=n.getTargetRanges();return 0===r.length?null:r[0]}function Ur(n,r){let l=n._compositionKey;if(Tt(null),null!==l&&null!=r){if(""===r){let r=bt(l),d=yt(n.getElementByKey(l));return void(null!==d&&null!==d.nodeValue&&vi(r)&&Kt(r,d.nodeValue,null,null,!0))}if("\n"===r[r.length-1]){let r=Hi();if(Oi(r)){let l=r.focus;return r.anchor.set(l.key,l.offset,l.type),void bs(n,z,null)}}}Rt(!0,n,r)}function Vr(n){let r=n.__lexicalEventHandles;return void 0===r&&(r=[],n.__lexicalEventHandles=r),r}let tg=new Map;function Hr(n){let r=function(n){let r=hn(n);return r?r.getSelection():null}(n.target);if(null===r)return;let l=dt(r.anchorNode);if(null===l)return;td&&(td=!1,Es(l,()=>{let d=qi(),f=r.anchorNode;(Pn(f)||_t(f))&&Mt(ji(d,r,l,n))}));let d=Bt(l),f=d[d.length-1],c=f._key,h=tg.get(c),_=h||f;_!==l&&Jr(r,_,!1),Jr(r,l,!0),l!==f?tg.set(c,l):h&&tg.delete(c)}function qr(n){n._lexicalHandled=!0}function Gr(n){return!0===n._lexicalHandled}function Xr(n,r,l){fs();let d=n.__key,f=n.getParent();if(null===f)return;let c=function(n){let r=Hi();if(!Oi(r)||!Ls(n))return r;let{anchor:l,focus:d}=r,f=l.getNode(),c=d.getNode();return dn(f,n)&&l.set(n.__key,0,"element"),dn(c,n)&&d.set(n.__key,0,"element"),r}(n),h=!1;if(Oi(c)&&r){let r=c.anchor,l=c.focus;r.key===d&&(Xi(r,n,f,n.getPreviousSibling(),n.getNextSibling()),h=!0),l.key===d&&(Xi(l,n,f,n.getPreviousSibling(),n.getNextSibling()),h=!0)}else Mi(c)&&r&&n.isSelected()&&n.selectPrevious();if(Oi(c)&&r&&!h){let r=n.getIndexWithinParent();St(n),Gi(c,f,r,-1)}else St(n);l||yn(f)||f.canBeEmpty()||!f.isEmpty()||Xr(f,r),r&&Bs(f)&&f.isEmpty()&&f.selectEnd()}let Yr=class Yr{static getType(){ez(64,this.name)}static clone(n){ez(65,this.name)}afterCloneFrom(n){this.__parent=n.__parent,this.__next=n.__next,this.__prev=n.__prev}constructor(n){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,function(n,r){if(null!=r)return void(n.__key=r);fs(),ds();let l=gs(),d=hs(),f=""+eK++;d._nodeMap.set(f,n),Ls(n)?l._dirtyElements.set(f,!0):l._dirtyLeaves.add(f),l._cloneNotNeeded.add(f),l._dirtyType=1,n.__key=f}(this,n)}getType(){return this.__type}isInline(){ez(137,this.constructor.name)}isAttached(){let n=this.__key;for(;null!==n;){if("root"===n)return!0;let r=bt(n);if(null===r)break;n=r.__parent}return!1}isSelected(n){let r=n||Hi();if(null==r)return!1;let l=r.getNodes().some(n=>n.__key===this.__key);if(vi(this))return l;if(Oi(r)&&"element"===r.anchor.type&&"element"===r.focus.type){if(r.isCollapsed())return!1;let n=this.getParent();if(Is(this)&&this.isInline()&&n){let l=r.isBackward()?r.focus:r.anchor,d=l.getNode();if(l.offset===d.getChildrenSize()&&d.is(n)&&d.getLastChildOrThrow().is(this))return!1}}return l}getKey(){return this.__key}getIndexWithinParent(){let n=this.getParent();if(null===n)return -1;let r=n.getFirstChild(),l=0;for(;null!==r;){if(this.is(r))return l;l++,r=r.getNextSibling()}return -1}getParent(){let n=this.getLatest().__parent;return null===n?null:bt(n)}getParentOrThrow(){let n=this.getParent();return null===n&&ez(66,this.__key),n}getTopLevelElement(){let n=this;for(;null!==n;){let r=n.getParent();if(yn(r))return Ls(n)||n===this&&Is(n)||ez(194),n;n=r}return null}getTopLevelElementOrThrow(){let n=this.getTopLevelElement();return null===n&&ez(67,this.__key),n}getParents(){let n=[],r=this.getParent();for(;null!==r;)n.push(r),r=r.getParent();return n}getParentKeys(){let n=[],r=this.getParent();for(;null!==r;)n.push(r.__key),r=r.getParent();return n}getPreviousSibling(){let n=this.getLatest().__prev;return null===n?null:bt(n)}getPreviousSiblings(){let n=[],r=this.getParent();if(null===r)return n;let l=r.getFirstChild();for(;null!==l&&!l.is(this);)n.push(l),l=l.getNextSibling();return n}getNextSibling(){let n=this.getLatest().__next;return null===n?null:bt(n)}getNextSiblings(){let n=[],r=this.getNextSibling();for(;null!==r;)n.push(r),r=r.getNextSibling();return n}getCommonAncestor(n){let r=this.getParents(),l=n.getParents();Ls(this)&&r.unshift(this),Ls(n)&&l.unshift(n);let d=r.length,f=l.length;if(0===d||0===f||r[d-1]!==l[f-1])return null;let c=new Set(l);for(let n=0;n<d;n++){let l=r[n];if(c.has(l))return l}return null}is(n){return null!=n&&this.__key===n.__key}isBefore(n){if(this===n)return!1;if(n.isParentOf(this))return!0;if(this.isParentOf(n))return!1;let r=this.getCommonAncestor(n),l=0,d=0,f=this;for(;;){let n=f.getParentOrThrow();if(n===r){l=f.getIndexWithinParent();break}f=n}for(f=n;;){let n=f.getParentOrThrow();if(n===r){d=f.getIndexWithinParent();break}f=n}return l<d}isParentOf(n){let r=this.__key;if(r===n.__key)return!1;let l=n;for(;null!==l;){if(l.__key===r)return!0;l=l.getParent()}return!1}getNodesBetween(n){let r=this.isBefore(n),l=[],d=new Set,f=this;for(;null!==f;){let c=f.__key;if(d.has(c)||(d.add(c),l.push(f)),f===n)break;let h=Ls(f)?r?f.getFirstChild():f.getLastChild():null;if(null!==h){f=h;continue}let _=r?f.getNextSibling():f.getPreviousSibling();if(null!==_){f=_;continue}let m=f.getParentOrThrow();if(d.has(m.__key)||l.push(m),m===n)break;let y=null,x=m;do{if(null===x&&ez(68),y=r?x.getNextSibling():x.getPreviousSibling(),null===(x=x.getParent()))break;null!==y||d.has(x.__key)||l.push(x)}while(null===y);f=y}return r||l.reverse(),l}isDirty(){let n=gs()._dirtyLeaves;return null!==n&&n.has(this.__key)}getLatest(){let n=bt(this.__key);return null===n&&ez(113),n}getWritable(){fs();let n=hs(),r=gs(),l=n._nodeMap,d=this.__key,f=this.getLatest(),c=r._cloneNotNeeded,h=Hi();if(null!==h&&h.setCachedNodes(null),c.has(d))return Ct(f),f;let _=Rn(f);return c.add(d),Ct(_),l.set(d,_),_}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(n,r){ez(70)}updateDOM(n,r,l){ez(71)}exportDOM(n){return{element:this.createDOM(n._config,n)}}exportJSON(){return{type:this.__type,version:1}}static importJSON(n){ez(18,this.name)}updateFromJSON(n){return this}static transform(){return null}remove(n){Xr(this,!0,n)}replace(n,r){fs();let l=Hi();null!==l&&(l=l.clone()),vn(this,n);let d=this.getLatest(),f=this.__key,c=n.__key,h=n.getWritable(),_=this.getParentOrThrow().getWritable(),m=_.__size;St(h);let y=d.getPreviousSibling(),x=d.getNextSibling(),b=d.__prev,S=d.__next,T=d.__parent;if((Xr(d,!1,!0),null===y)?_.__first=c:y.getWritable().__next=c,(h.__prev=b,null===x)?_.__last=c:x.getWritable().__prev=c,h.__next=S,h.__parent=T,_.__size=m,r&&(Ls(this)&&Ls(h)||ez(139),this.getChildren().forEach(n=>{h.append(n)})),Oi(l)){Mt(l);let n=l.anchor,r=l.focus;n.key===f&&Ei(n,h),r.key===f&&Ei(r,h)}return kt()===f&&Tt(c),h}insertAfter(n,r=!0){fs(),vn(this,n);let l=this.getWritable(),d=n.getWritable(),f=d.getParent(),c=Hi(),h=!1,_=!1;if(null!==f){let r=n.getIndexWithinParent();if(St(d),Oi(c)){let n=f.__key,l=c.anchor,d=c.focus;h="element"===l.type&&l.key===n&&l.offset===r+1,_="element"===d.type&&d.key===n&&d.offset===r+1}}let m=this.getNextSibling(),y=this.getParentOrThrow().getWritable(),x=d.__key,b=l.__next;if(null===m?y.__last=x:m.getWritable().__prev=x,y.__size++,l.__next=x,d.__next=b,d.__prev=l.__key,d.__parent=l.__parent,r&&Oi(c)){let n=this.getIndexWithinParent();Gi(c,y,n+1);let r=y.__key;h&&c.anchor.set(r,n+2,"element"),_&&c.focus.set(r,n+2,"element")}return n}insertBefore(n,r=!0){fs(),vn(this,n);let l=this.getWritable(),d=n.getWritable(),f=d.__key;St(d);let c=this.getPreviousSibling(),h=this.getParentOrThrow().getWritable(),_=l.__prev,m=this.getIndexWithinParent();null===c?h.__first=f:c.getWritable().__next=f,h.__size++,l.__prev=f,d.__prev=_,d.__next=l.__key,d.__parent=l.__parent;let y=Hi();return r&&Oi(y)&&Gi(y,this.getParentOrThrow(),m),n}isParentRequired(){return!1}createParentElementNode(){return Vs()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(n,r){fs();let l=this.getPreviousSibling(),d=this.getParentOrThrow();if(null===l)return d.select(0,0);if(Ls(l))return l.select();if(!vi(l)){let n=l.getIndexWithinParent()+1;return d.select(n,n)}return l.select(n,r)}selectNext(n,r){fs();let l=this.getNextSibling(),d=this.getParentOrThrow();if(null===l)return d.select();if(Ls(l))return l.select(0,0);if(!vi(l)){let n=l.getIndexWithinParent();return d.select(n,n)}return l.select(n,r)}markDirty(){this.getWritable()}reconcileObservedMutation(n,r){this.markDirty()}};let Zr=class Zr extends Yr{static getType(){return"linebreak"}static clone(n){return new Zr(n.__key)}constructor(n){super(n)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:n=>(function(n){let r=n.parentElement;if(null!==r&&Mn(r)){let l=r.firstChild;if(l===n||l.nextSibling===n&&ri(l)){let l=r.lastChild;if(l===n||l.previousSibling===n&&ri(l))return!0}}return!1})(n)||function(n){let r=n.parentElement;if(null!==r&&Mn(r)){let l=r.firstChild;if(l===n||l.nextSibling===n&&ri(l))return!1;let d=r.lastChild;if(d===n||d.previousSibling===n&&ri(d))return!0}return!1}(n)?null:{conversion:ei,priority:0}}}static importJSON(n){return ti().updateFromJSON(n)}};function ei(n){return{node:ti()}}function ti(){return xn(new Zr)}function ni(n){return n instanceof Zr}function ri(n){return _t(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function ii(n,r){return 16&r?"code":128&r?"mark":32&r?"sub":64&r?"sup":null}function si(n,r){return 1&r?"strong":2&r?"em":"span"}function oi(n,r,l,d,f){let c=d.classList,h=Xt(f,"base");void 0!==h&&c.add(...h),h=Xt(f,"underlineStrikethrough");let _=!1,m=8&r&&4&r;for(let n in void 0!==h&&(8&l&&4&l?(_=!0,m||c.add(...h)):m&&c.remove(...h)),eP){let d=eP[n];if(void 0!==(h=Xt(f,n))){if(l&d){if(_&&("underline"===n||"strikethrough"===n)){r&d&&c.remove(...h);continue}r&d&&(!m||"underline"!==n)&&"strikethrough"!==n||c.add(...h)}else r&d&&c.remove(...h)}}}function li(n,r,l){let d=r.firstChild,f=l.isComposing(),c=n+(f?ew:"");if(null==d)r.textContent=c;else{let n=d.nodeValue;if(n!==c){if(f||em){let[r,l,f]=function(n,r){let l=n.length,d=r.length,f=0,c=0;for(;f<l&&f<d&&n[f]===r[f];)f++;for(;c+f<l&&c+f<d&&n[l-c-1]===r[d-c-1];)c++;return[f,l-f-c,r.slice(f,d-c)]}(n,c);0!==l&&d.deleteData(r,l),d.insertData(r,f)}else d.nodeValue=c}}}function ci(n,r,l,d,f,c){li(f,n,r);let h=c.theme.text;void 0!==h&&oi(0,0,d,n,h)}function ai(n,r){let l=document.createElement(r);return l.appendChild(n),l}let ui=class ui extends Yr{static getType(){return"text"}static clone(n){return new ui(n.__text,n.__key)}afterCloneFrom(n){super.afterCloneFrom(n),this.__text=n.__text,this.__format=n.__format,this.__style=n.__style,this.__mode=n.__mode,this.__detail=n.__detail}constructor(n="",r){super(r),this.__text=n,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let n=this.getLatest();return eA[n.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===kt()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(n){let r=eP[n];return!!(this.getFormat()&r)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(n,r){return mt(this.getLatest().__format,n,r)}canHaveFormat(){return!0}createDOM(n,r){let l=this.__format,d=ii(0,l),f=si(0,l),c=null===d?f:d,h=document.createElement(c),_=h;this.hasFormat("code")&&h.setAttribute("spellcheck","false"),null!==d&&(_=document.createElement(f),h.appendChild(_)),ci(_,this,0,l,this.__text,n);let m=this.__style;return""!==m&&(h.style.cssText=m),h}updateDOM(n,r,l){let d=this.__text,f=n.__format,c=this.__format,h=ii(0,f),_=ii(0,c),m=si(0,f),y=si(0,c);if((null===h?m:h)!==(null===_?y:_))return!0;if(h===_&&m!==y){let n=r.firstChild;null==n&&ez(48);let f=document.createElement(y);return ci(f,this,0,c,d,l),r.replaceChild(f,n),!1}let x=r;null!==_&&null!==h&&null==(x=r.firstChild)&&ez(49),li(d,x,this);let b=l.theme.text;void 0!==b&&f!==c&&oi(0,f,c,x,b);let S=n.__style,T=this.__style;return S!==T&&(r.style.cssText=T),!1}static importDOM(){return{"#text":()=>({conversion:_i,priority:0}),b:()=>({conversion:di,priority:0}),code:()=>({conversion:mi,priority:0}),em:()=>({conversion:mi,priority:0}),i:()=>({conversion:mi,priority:0}),s:()=>({conversion:mi,priority:0}),span:()=>({conversion:fi,priority:0}),strong:()=>({conversion:mi,priority:0}),sub:()=>({conversion:mi,priority:0}),sup:()=>({conversion:mi,priority:0}),u:()=>({conversion:mi,priority:0})}}static importJSON(n){return xi().updateFromJSON(n)}updateFromJSON(n){return super.updateFromJSON(n).setTextContent(n.text).setFormat(n.format).setDetail(n.detail).setMode(n.mode).setStyle(n.style)}exportDOM(n){let{element:r}=super.exportDOM(n);return Pn(r)||ez(132),r.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(r=ai(r,"b")),this.hasFormat("italic")&&(r=ai(r,"i")),this.hasFormat("strikethrough")&&(r=ai(r,"s")),this.hasFormat("underline")&&(r=ai(r,"u")),{element:r}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(n,r){}setFormat(n){let r=this.getWritable();return r.__format="string"==typeof n?eP[n]:n,r}setDetail(n){let r=this.getWritable();return r.__detail="string"==typeof n?eF[n]:n,r}setStyle(n){let r=this.getWritable();return r.__style=n,r}toggleFormat(n){let r=mt(this.getFormat(),n,null);return this.setFormat(r)}toggleDirectionless(){let n=this.getWritable();return n.__detail^=1,n}toggleUnmergeable(){let n=this.getWritable();return n.__detail^=2,n}setMode(n){let r=eI[n];if(this.__mode===r)return this;let l=this.getWritable();return l.__mode=r,l}setTextContent(n){if(this.__text===n)return this;let r=this.getWritable();return r.__text=n,r}select(n,r){fs();let l=n,d=r,f=Hi(),c=this.getTextContent(),h=this.__key;if("string"==typeof c){let n=c.length;void 0===l&&(l=n),void 0===d&&(d=n)}else l=0,d=0;if(!Oi(f))return Ji(h,l,h,d,"text","text");{let n=kt();n!==f.anchor.key&&n!==f.focus.key||Tt(h),f.setTextNodeRange(this,l,this,d)}return f}selectStart(){return this.select(0,0)}selectEnd(){let n=this.getTextContentSize();return this.select(n,n)}spliceText(n,r,l,d){let f=this.getWritable(),c=f.__text,h=l.length,_=n;_<0&&(_=h+_)<0&&(_=0);let m=Hi();if(d&&Oi(m)){let r=n+h;m.setTextNodeRange(f,r,f,r)}let y=c.slice(0,_)+l+c.slice(_+r);return f.__text=y,f}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...n){let r;fs();let l=this.getLatest(),d=l.getTextContent(),f=l.__key,c=kt(),h=new Set(n),_=[],m=d.length,y="";for(let n=0;n<m;n++)""!==y&&h.has(n)&&(_.push(y),y=""),y+=d[n];""!==y&&_.push(y);let x=_.length;if(0===x)return[];if(_[0]===d)return[l];let b=_[0],S=l.getParent(),T=l.getFormat(),w=l.getStyle(),k=l.__detail,L=!1;l.isSegmented()?((r=xi(b)).__format=T,r.__style=w,r.__detail=k,L=!0):(r=l.getWritable()).__text=b;let E=Hi(),O=[r],P=b.length;for(let n=1;n<x;n++){let r=_[n],l=r.length,d=xi(r).getWritable();d.__format=T,d.__style=w,d.__detail=k;let h=d.__key,m=P+l;if(Oi(E)){let n=E.anchor,r=E.focus;n.key===f&&"text"===n.type&&n.offset>P&&n.offset<=m&&(n.key=h,n.offset-=P,E.dirty=!0),r.key===f&&"text"===r.type&&r.offset>P&&r.offset<=m&&(r.key=h,r.offset-=P,E.dirty=!0)}c===f&&Tt(h),P=m,O.push(d)}if(null!==S){!function(n){let r=n.getPreviousSibling(),l=n.getNextSibling();null!==r&&Ct(r),null!==l&&Ct(l)}(this);let n=S.getWritable(),r=this.getIndexWithinParent();L?(n.splice(r,0,O),this.remove()):n.splice(r,1,O),Oi(E)&&Gi(E,S,r,x-1)}return O}mergeWithSibling(n){let r=n===this.getPreviousSibling();r||n===this.getNextSibling()||ez(50);let l=this.__key,d=n.__key,f=this.__text,c=f.length;kt()===d&&Tt(l);let h=Hi();if(Oi(h)){let f=h.anchor,_=h.focus;null!==f&&f.key===d&&(Yi(f,r,l,n,c),h.dirty=!0),null!==_&&_.key===d&&(Yi(_,r,l,n,c),h.dirty=!0)}let _=n.__text,m=r?_+f:f+_;this.setTextContent(m);let y=this.getWritable();return n.remove(),y}isTextEntity(){return!1}};function fi(n){return{forChild:Si(n.style),node:null}}function di(n){let r="normal"===n.style.fontWeight;return{forChild:Si(n.style,r?void 0:"bold"),node:null}}let tp=new WeakMap;function _i(n){null===n.parentElement&&ez(129);let r=n.textContent||"";if(null!==function(n){let r,l=n.parentNode,d=[n];for(;null!==l&&void 0===(r=tp.get(l))&&!function(n){if(!Pn(n))return!1;if("PRE"===n.nodeName)return!0;let r=n.style.whiteSpace;return"string"==typeof r&&r.startsWith("pre")}(l);)d.push(l),l=l.parentNode;let f=void 0===r?l:r;for(let n=0;n<d.length;n++)tp.set(d[n],f);return f}(n)){let n=r.split(/(\r?\n|\t)/),l=[],d=n.length;for(let r=0;r<d;r++){let d=n[r];"\n"===d||"\r\n"===d?l.push(ti()):"	"===d?l.push(Ti()):""!==d&&l.push(xi(d))}return{node:l}}if(""===(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===r[0]){let l=n,d=!0;for(;null!==l&&null!==(l=pi(l,!1));){let n=l.textContent||"";if(n.length>0){/[ \t\n]$/.test(n)&&(r=r.slice(1)),d=!1;break}}d&&(r=r.slice(1))}if(" "===r[r.length-1]){let l=n,d=!0;for(;null!==l&&null!==(l=pi(l,!0));)if((l.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){d=!1;break}d&&(r=r.slice(0,r.length-1))}return""===r?{node:null}:{node:xi(r)}}function pi(n,r){let l=n;for(;;){let n;for(;null===(n=r?l.nextSibling:l.previousSibling);){let n=l.parentElement;if(null===n)return null;l=n}if(Pn(l=n)){let n=l.style.display;if(""===n&&!Ln(l)||""!==n&&!n.startsWith("inline"))return null}let d=l;for(;null!==(d=r?l.firstChild:l.lastChild);)l=d;if(_t(l))return l;if("BR"===l.nodeName)return null}}let t_={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function mi(n){let r=t_[n.nodeName.toLowerCase()];return void 0===r?{node:null}:{forChild:Si(n.style,r),node:null}}function xi(n=""){return xn(new ui(n))}function vi(n){return n instanceof ui}function Si(n,r){let l=n.fontWeight,d=n.textDecoration.split(" "),f="700"===l||"bold"===l,c=d.includes("line-through"),h="italic"===n.fontStyle,_=d.includes("underline"),m=n.verticalAlign;return n=>(vi(n)&&(f&&!n.hasFormat("bold")&&n.toggleFormat("bold"),c&&!n.hasFormat("strikethrough")&&n.toggleFormat("strikethrough"),h&&!n.hasFormat("italic")&&n.toggleFormat("italic"),_&&!n.hasFormat("underline")&&n.toggleFormat("underline"),"sub"!==m||n.hasFormat("subscript")||n.toggleFormat("subscript"),"super"!==m||n.hasFormat("superscript")||n.toggleFormat("superscript"),r&&!n.hasFormat(r)&&n.toggleFormat(r)),n)}let Ci=class Ci extends ui{static getType(){return"tab"}static clone(n){return new Ci(n.__key)}constructor(n){super("	",n),this.__detail=2}static importDOM(){return null}createDOM(n){let r=super.createDOM(n),l=Xt(n.theme,"tab");return void 0!==l&&r.classList.add(...l),r}static importJSON(n){return Ti().updateFromJSON(n)}setTextContent(n){return"	"!==n&&""!==n&&ez(126),super.setTextContent(n)}setDetail(n){return 2!==n&&ez(127),this}setMode(n){return"normal"!==n&&ez(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}};function Ti(){return xn(new Ci)}let bi=class bi{constructor(n,r,l){this._selection=null,this.key=n,this.offset=r,this.type=l}is(n){return this.key===n.key&&this.offset===n.offset&&this.type===n.type}isBefore(n){let r=this.getNode(),l=n.getNode(),d=this.offset,f=n.offset;if(Ls(r)){let n=r.getDescendantByIndex(d);r=null!=n?n:r}if(Ls(l)){let n=l.getDescendantByIndex(f);l=null!=n?n:l}return r===l?d<f:r.isBefore(l)}getNode(){let n=bt(this.key);return null===n&&ez(20),n}set(n,r,l){let d=this._selection,f=this.key;this.key=n,this.offset=r,this.type=l,us()||(kt()===f&&Tt(n),null!==d&&(d.setCachedNodes(null),d.dirty=!0))}};function wi(n,r,l){return new bi(n,r,l)}function Ni(n,r){let l=r.__key,d=n.offset,f="element";if(vi(r)){f="text";let n=r.getTextContentSize();d>n&&(d=n)}else if(!Ls(r)){let n=r.getNextSibling();if(vi(n))l=n.__key,d=0,f="text";else{let n=r.getParent();n&&(l=n.__key,d=r.getIndexWithinParent()+1)}}n.set(l,d,f)}function Ei(n,r){if(Ls(r)){let l=r.getLastDescendant();Ls(l)||vi(l)?Ni(n,l):Ni(n,r)}else Ni(n,r)}function Pi(n,r,l,d){n.key=r,n.offset=l,n.type=d}let Fi=class Fi{constructor(n){this._cachedNodes=null,this._nodes=n,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(n){this._cachedNodes=n}is(n){if(!Mi(n))return!1;let r=this._nodes,l=n._nodes;return r.size===l.size&&Array.from(r).every(n=>l.has(n))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(n){this.dirty=!0,this._nodes.add(n),this._cachedNodes=null}delete(n){this.dirty=!0,this._nodes.delete(n),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(n){return this._nodes.has(n)}clone(){return new Fi(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(n){}insertText(){}insertNodes(n){let r;let l=this.getNodes(),d=l.length,f=l[d-1];if(vi(f))r=f.select();else{let n=f.getIndexWithinParent()+1;r=f.getParentOrThrow().select(n,n)}r.insertNodes(n);for(let n=0;n<d;n++)l[n].remove()}getNodes(){let n=this._cachedNodes;if(null!==n)return n;let r=this._nodes,l=[];for(let n of r){let r=bt(n);null!==r&&l.push(r)}return us()||(this._cachedNodes=l),l}getTextContent(){let n=this.getNodes(),r="";for(let l=0;l<n.length;l++)r+=n[l].getTextContent();return r}};function Oi(n){return n instanceof Li}let Li=class Li{constructor(n,r,l,d){this.anchor=n,this.focus=r,n._selection=this,r._selection=this,this._cachedNodes=null,this.format=l,this.style=d,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(n){this._cachedNodes=n}is(n){return!!Oi(n)&&this.anchor.is(n.anchor)&&this.focus.is(n.focus)&&this.format===n.format&&this.style===n.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let n;let r=this._cachedNodes;if(null!==r)return r;let l=this.anchor,d=this.focus,f=l.isBefore(d),c=f?l:d,h=f?d:l,_=c.getNode(),m=h.getNode(),y=Ls(_)&&c.offset>0&&c.offset>=_.getChildrenSize(),x=c.offset,b=h.offset;if(Ls(_)){let n=_.getDescendantByIndex(x);_=null!=n?n:_}if(Ls(m)){let n=m.getDescendantByIndex(b);null!==n&&n!==_&&m.getChildAtIndex(b)===n&&(n=n.getPreviousSibling()),m=null!=n?n:m}if(_.is(m))n=Ls(_)&&_.getChildrenSize()>0?[]:[_];else if(n=_.getNodesBetween(m),y){let r=n.findIndex(n=>!n.is(_)&&!n.isBefore(_));n.splice(0,r)}return us()||(this._cachedNodes=n),n}setTextNodeRange(n,r,l,d){Pi(this.anchor,n.__key,r,"text"),Pi(this.focus,l.__key,d,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let n=this.getNodes();if(0===n.length)return"";let r=n[0],l=n[n.length-1],d=this.anchor,f=this.focus,c=d.isBefore(f),[h,_]=Ii(this),m="",y=!0;for(let x=0;x<n.length;x++){let b=n[x];if(Ls(b)&&!b.isInline())y||(m+="\n"),y=!b.isEmpty();else if(y=!1,vi(b)){let n=b.getTextContent();b===r?b===l?"element"===d.type&&"element"===f.type&&f.offset!==d.offset||(n=h<_?n.slice(h,_):n.slice(_,h)):n=c?n.slice(h):n.slice(_):b===l&&(n=c?n.slice(0,_):n.slice(0,h)),m+=n}else!Is(b)&&!ni(b)||b===l&&this.isCollapsed()||(m+=b.getTextContent())}return m}applyDOMRange(n){let r=gs(),l=r.getEditorState()._selection,d=Ri(n.startContainer,n.startOffset,n.endContainer,n.endOffset,r,l);if(null===d)return;let[f,c]=d;Pi(this.anchor,f.key,f.offset,f.type),Pi(this.focus,c.key,c.offset,c.type),this._cachedNodes=null}clone(){let n=this.anchor,r=this.focus;return new Li(wi(n.key,n.offset,n.type),wi(r.key,r.offset,r.type),this.format,this.style)}toggleFormat(n){this.format=mt(this.format,n,null),this.dirty=!0}setStyle(n){this.style=n,this.dirty=!0}hasFormat(n){let r=eP[n];return!!(this.format&r)}insertRawText(n){let r=n.split(/(\r?\n|\t)/),l=[],d=r.length;for(let n=0;n<d;n++){let d=r[n];"\n"===d||"\r\n"===d?l.push(ti()):"	"===d?l.push(Ti()):l.push(xi(d))}this.insertNodes(l)}insertText(n){let r=this.anchor,l=this.focus,d=this.format,f=this.style,c=r,h=l;!this.isCollapsed()&&l.isBefore(r)&&(c=l,h=r),"element"===c.type&&function(n,r,l,d){let f=n.getNode(),c=f.getChildAtIndex(n.offset),h=xi(),_=Bs(f)?Vs().append(h):h;h.setFormat(l),h.setStyle(d),null===c?f.append(_):c.insertBefore(_),n.is(r)&&r.set(h.__key,0,"text"),n.set(h.__key,0,"text")}(c,h,d,f);let _=c.offset,m=h.offset,y=this.getNodes(),x=y.length,b=y[0];vi(b)||ez(26);let S=b.getTextContent().length,T=b.getParentOrThrow(),w=y[x-1];if(1===x&&"element"===h.type&&(m=S,h.set(c.key,m,"text")),this.isCollapsed()&&_===S&&(b.isSegmented()||b.isToken()||!b.canInsertTextAfter()||!T.canInsertTextAfter()&&null===b.getNextSibling())){let r=b.getNextSibling();if(vi(r)&&r.canInsertTextBefore()&&!gt(r)||((r=xi()).setFormat(d),r.setStyle(f),T.canInsertTextAfter()?b.insertAfter(r):T.insertAfter(r)),r.select(0,0),b=r,""!==n)return void this.insertText(n)}else if(this.isCollapsed()&&0===_&&(b.isSegmented()||b.isToken()||!b.canInsertTextBefore()||!T.canInsertTextBefore()&&null===b.getPreviousSibling())){let r=b.getPreviousSibling();if(vi(r)&&!gt(r)||((r=xi()).setFormat(d),T.canInsertTextBefore()?b.insertBefore(r):T.insertBefore(r)),r.select(),b=r,""!==n)return void this.insertText(n)}else if(b.isSegmented()&&_!==S){let n=xi(b.getTextContent());n.setFormat(d),b.replace(n),b=n}else if(!this.isCollapsed()&&""!==n){let r=w.getParent();if(!T.canInsertTextBefore()||!T.canInsertTextAfter()||Ls(r)&&(!r.canInsertTextBefore()||!r.canInsertTextAfter()))return this.insertText(""),Wi(this.anchor,this.focus,null),void this.insertText(n)}if(1===x){if(b.isToken()){let r=xi(n);return r.select(),void b.replace(r)}let r=b.getFormat(),l=b.getStyle();if(_!==m||r===d&&l===f){if(b instanceof Ci){let r=xi(n);return r.setFormat(d),r.setStyle(f),r.select(),void b.replace(r)}}else{if(""!==b.getTextContent()){let r=xi(n);if(r.setFormat(d),r.setStyle(f),r.select(),0===_)b.insertBefore(r,!1);else{let[n]=b.splitText(_);n.insertAfter(r,!1)}return void(r.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=n.length))}b.setFormat(d),b.setStyle(f)}let c=m-_;""===(b=b.spliceText(_,c,n,!0)).getTextContent()?b.remove():"text"===this.anchor.type&&(b.isComposing()?this.anchor.offset-=n.length:(this.format=r,this.style=l))}else{let r=new Set([...b.getParentKeys(),...w.getParentKeys()]),l=Ls(b)?b:b.getParentOrThrow(),d=Ls(w)?w:w.getParentOrThrow(),f=w;if(!l.is(d)&&d.isInline())do f=d,d=d.getParentOrThrow();while(d.isInline());if("text"===h.type&&(0!==m||""===w.getTextContent())||"element"===h.type&&w.getIndexWithinParent()<m){if(vi(w)&&!w.isToken()&&m!==w.getTextContentSize()){if(w.isSegmented()){let n=xi(w.getTextContent());w.replace(n),w=n}Bs(h.getNode())||"text"!==h.type||(w=w.spliceText(0,m,"")),r.add(w.__key)}else{let n=w.getParentOrThrow();n.canBeEmpty()||1!==n.getChildrenSize()?w.remove():n.remove()}}else r.add(w.__key);let c=d.getChildren(),T=new Set(y),k=l.is(d),L=l.isInline()&&null===b.getNextSibling()?l:b;for(let n=c.length-1;n>=0;n--){let r=c[n];if(r.is(b)||Ls(r)&&r.isParentOf(b))break;r.isAttached()&&(!T.has(r)||r.is(f)?k||L.insertAfter(r,!1):r.remove())}if(!k){let n=d,l=null;for(;null!==n;){let d=n.getChildren(),f=d.length;(0===f||d[f-1].is(l))&&(r.delete(n.__key),l=n),n=n.getParent()}}if(b.isToken()){if(_===S)b.select();else{let r=xi(n);r.select(),b.replace(r)}}else""===(b=b.spliceText(_,S-_,n,!0)).getTextContent()?b.remove():b.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=n.length);for(let n=1;n<x;n++){let l=y[n],d=l.__key;r.has(d)||l.remove()}}}removeText(){if(this.isCollapsed())return;let{anchor:n,focus:r}=this,l=this.getNodes(),d=this.isBackward()?r:n,f=this.isBackward()?n:r,c=d.getNode(),h=f.getNode(),_=In(c,Dn),m=In(h,Dn);for(let n of(vi(c)&&c.isToken()&&d.offset<c.getTextContentSize()&&(d.offset=0),f.offset>0&&vi(h)&&h.isToken()&&(f.offset=h.getTextContentSize()),l))dn(c,n)||dn(h,n)||n.getKey()===c.getKey()||n.getKey()===h.getKey()||n.remove();let a=(n,r)=>{if(""===n.getTextContent())n.remove();else if(0!==r&&gt(n)){let r=xi(n.getTextContent());return r.setFormat(n.getFormat()),r.setStyle(n.getStyle()),n.replace(r)}};if(c===h&&vi(c)){let l=Math.abs(r.offset-n.offset);return c.spliceText(d.offset,l,"",!0),void a(c,l)}if(vi(c)){let n=c.getTextContentSize()-d.offset;c.spliceText(d.offset,n,""),c=a(c,n)||c}vi(h)&&(h.spliceText(0,f.offset,""),h=a(h,f.offset)||h),c.isAttached()&&vi(c)?c.selectEnd():h.isAttached()&&vi(h)&&h.selectStart(),Ls(_)&&Ls(m)&&_!==m&&(_.append(...m.getChildren()),m.remove(),f.set(d.key,d.offset,d.type))}formatText(n,r=null){if(this.isCollapsed())return this.toggleFormat(n),void Tt(null);let l=this.getNodes(),d=[];for(let n of l)vi(n)&&d.push(n);let i=r=>{l.forEach(l=>{if(Ls(l)){let d=l.getFormatFlags(n,r);l.setTextFormat(d)}})},f=d.length;if(0===f)return this.toggleFormat(n),Tt(null),void i(r);let c=this.anchor,h=this.focus,_=this.isBackward(),m=_?h:c,y=_?c:h,x=0,b=d[0],S="element"===m.type?0:m.offset;if("text"===m.type&&S===b.getTextContentSize()&&(x=1,b=d[1],S=0),null==b)return;let T=b.getFormatFlags(n,r);i(T);let w=f-1,k=d[w],L="text"===y.type?y.offset:k.getTextContentSize();if(b.is(k)){if(S===L)return;if(gt(b)||0===S&&L===b.getTextContentSize())b.setFormat(T);else{let n=b.splitText(S,L),r=0===S?n[0]:n[1];r.setFormat(T),"text"===m.type&&m.set(r.__key,0,"text"),"text"===y.type&&y.set(r.__key,L-S,"text")}return void(this.format=T)}0===S||gt(b)||([,b]=b.splitText(S),S=0),b.setFormat(T);let E=k.getFormatFlags(n,T);L>0&&(L===k.getTextContentSize()||gt(k)||([k]=k.splitText(L)),k.setFormat(E));for(let r=x+1;r<w;r++){let l=d[r],f=l.getFormatFlags(n,E);l.setFormat(f)}"text"===m.type&&m.set(b.__key,S,"text"),"text"===y.type&&y.set(k.__key,L,"text"),this.format=T|E}insertNodes(n){var r;if(0===n.length)return;if("root"===this.anchor.key){this.insertParagraph();let r=Hi();return Oi(r)||ez(134),r.insertNodes(n)}let l=(this.isBackward()?this.focus:this.anchor).getNode(),d=In(l,Dn),f=n[n.length-1];if(Ls(d)&&"__language"in d){if("__language"in n[0])this.insertText(n[0].getTextContent());else{let r=ns(this);d.splice(r,0,n),f.selectEnd()}return}if(!n.some(n=>(Ls(n)||Is(n))&&!n.isInline())){Ls(d)||ez(211,l.constructor.name,l.getType());let r=ns(this);return d.splice(r,0,n),void f.selectEnd()}let c=function(n){let r=Vs(),l=null;for(let d=0;d<n.length;d++){let f=n[d],c=ni(f);if(c||Is(f)&&f.isInline()||Ls(f)&&f.isInline()||vi(f)||f.isParentRequired()){if(null===l&&(l=f.createParentElementNode(),r.append(l),c))continue;null!==l&&l.append(f)}else r.append(f),l=null}return r}(n),h=c.getLastDescendant(),_=c.getChildren(),m=Ls(d)&&d.isEmpty()?null:this.insertParagraph(),y=_[_.length-1],x=_[0];Ls(r=x)&&Dn(r)&&!r.isEmpty()&&Ls(d)&&(!d.isEmpty()||d.canMergeWhenEmpty())&&(Ls(d)||ez(211,l.constructor.name,l.getType()),d.append(...x.getChildren()),x=_[1]),x&&(null===d&&ez(212,l.constructor.name,l.getType()),function(n,r,l){let d=r.getParentOrThrow().getLastChild(),f=r,c=[r];for(;f!==d;)f.getNextSibling()||ez(140),c.push(f=f.getNextSibling());let h=n;for(let n of c)h=h.insertAfter(n)}(d,x));let b=In(h,Dn);m&&Ls(b)&&(m.canMergeWhenEmpty()||Dn(y))&&(b.append(...m.getChildren()),m.remove()),Ls(d)&&d.isEmpty()&&d.remove(),h.selectEnd();let S=Ls(d)?d.getLastChild():null;ni(S)&&b!==d&&S.remove()}insertParagraph(){if("root"===this.anchor.key){let n=Vs();return Ot().splice(this.anchor.offset,0,[n]),n.select(),n}let n=ns(this),r=In(this.anchor.getNode(),Dn);Ls(r)||ez(213);let l=r.getChildAtIndex(n),d=l?[l,...l.getNextSiblings()]:[],f=r.insertNewAfter(this,!1);return f?(f.append(...d),f.selectStart(),f):null}insertLineBreak(n){let r=ti();if(this.insertNodes([r]),n){let n=r.getParentOrThrow(),l=r.getIndexWithinParent();n.select(l,l)}}extract(){let n=this.getNodes(),r=n.length,l=r-1,d=this.anchor,f=this.focus,c=n[0],h=n[l],[_,m]=Ii(this);if(0===r)return[];if(1===r){if(vi(c)&&!this.isCollapsed()){let n=_>m?m:_,r=_>m?_:m,l=c.splitText(n,r),d=0===n?l[0]:l[1];return null!=d?[d]:[]}return[c]}let y=d.isBefore(f);if(vi(c)){let r=y?_:m;r===c.getTextContentSize()?n.shift():0!==r&&([,c]=c.splitText(r),n[0]=c)}if(vi(h)){let r=h.getTextContent().length,d=y?m:_;0===d?n.pop():d!==r&&([h]=h.splitText(d),n[l]=h)}return n}modify(n,r,l){let d=this.focus,f=this.anchor,c="move"===n,h=tn(d,r);if(Is(h)&&!h.isIsolated()){if(c&&h.isKeyboardSelectable()){let n=Ui();return n.add(h.__key),void Mt(n)}let n=r?h.getPreviousSibling():h.getNextSibling();if(vi(n)){let l=n.__key,h=r?n.getTextContent().length:0;return d.set(l,h,"text"),void(c&&f.set(l,h,"text"))}{let l,_;let m=h.getParentOrThrow();return Ls(n)?(_=n.__key,l=r?n.getChildrenSize():0):(l=h.getIndexWithinParent(),_=m.__key,r||l++),d.set(_,l,"element"),void(c&&f.set(_,l,"element"))}}let _=gs(),m=bn(_._window);if(!m)return;let y=_._blockCursorElement,x=_._rootElement;if(null===x||null===y||!Ls(h)||h.isInline()||h.canBeEmpty()||Tn(y,_,x),function(n,r,l,d){n.modify(r,l,d)}(m,n,r?"backward":"forward",l),m.rangeCount>0){let n=m.getRangeAt(0),l=this.anchor.getNode(),d=Bs(l)?l:function(n){let r=n.getParentOrThrow();for(;null!==r&&!yn(r);)r=r.getParentOrThrow();return r}(l);if(this.applyDOMRange(n),this.dirty=!0,!c){let l=this.getNodes(),f=[],c=!1;for(let n=0;n<l.length;n++){let r=l[n];dn(r,d)?f.push(r):c=!0}if(c&&f.length>0){if(r){let n=f[0];Ls(n)?n.selectStart():n.getParentOrThrow().selectStart()}else{let n=f[f.length-1];Ls(n)?n.selectEnd():n.getParentOrThrow().selectEnd()}}m.anchorNode===n.startContainer&&m.anchorOffset===n.startOffset||function(n){let r=n.focus,l=n.anchor,d=l.key,f=l.offset,c=l.type;Pi(l,r.key,r.offset,r.type),Pi(r,d,f,c),n._cachedNodes=null}(this)}}}forwardDeletion(n,r,l){if(!l&&("element"===n.type&&Ls(r)&&n.offset===r.getChildrenSize()||"text"===n.type&&n.offset===r.getTextContentSize())){let n=r.getParent(),l=r.getNextSibling()||(null===n?null:n.getNextSibling());if(Ls(l)&&l.isShadowRoot())return!0}return!1}deleteCharacter(n){let r=this.isCollapsed();if(this.isCollapsed()){let r=this.anchor,l=r.getNode();if(this.forwardDeletion(r,l,n))return;let f=this.focus,c=tn(f,n);if(Is(c)&&!c.isIsolated()){if(c.isKeyboardSelectable()&&Ls(l)&&0===l.getChildrenSize()){l.remove();let n=Ui();n.add(c.__key),Mt(n)}else c.remove(),gs().dispatchCommand(d,void 0);return}if(!n&&Ls(c)&&Ls(l)&&l.isEmpty())return l.remove(),void c.selectStart();if(this.modify("extend",n,"character"),this.isCollapsed()){if(n&&0===r.offset&&("element"===r.type?r.getNode():r.getNode().getParentOrThrow()).collapseAtStart(this))return}else{let d="text"===f.type?f.getNode():null;if(l="text"===r.type?r.getNode():null,null!==d&&d.isSegmented()){let r=f.offset,c=d.getTextContentSize();if(d.is(l)||n&&r!==c||!n&&0!==r)return void Ai(d,n,r)}else if(null!==l&&l.isSegmented()){let f=r.offset,c=l.getTextContentSize();if(l.is(d)||n&&0!==f||!n&&f!==c)return void Ai(l,n,f)}!function(n,r){let l=n.anchor,d=n.focus,f=l.getNode(),c=d.getNode();if(f===c&&"text"===l.type&&"text"===d.type){let n=l.offset,c=d.offset,h=n<c,_=h?n:c,m=h?c:n,y=m-1;_!==y&&(At(f.getTextContent().slice(_,m))||(r?d.offset=y:l.offset=y))}}(this,n)}}if(this.removeText(),n&&!r&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){let n=this.anchor.getNode();n.isEmpty()&&Bs(n.getParent())&&0===n.getIndexWithinParent()&&n.collapseAtStart(this)}}deleteLine(n){if(this.isCollapsed()){let r="element"===this.anchor.type;if(r&&this.insertText(" "),this.modify("extend",n,"lineboundary"),this.isCollapsed()&&0===this.anchor.offset&&this.modify("extend",n,"character"),r){let r=n?this.anchor:this.focus;r.set(r.key,r.offset+1,r.type)}}this.removeText()}deleteWord(n){if(this.isCollapsed()){let r=this.anchor,l=r.getNode();if(this.forwardDeletion(r,l,n))return;this.modify("extend",n,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}};function Mi(n){return n instanceof Fi}function Di(n){let r=n.offset;if("text"===n.type)return r;let l=n.getNode();return r===l.getChildrenSize()?l.getTextContent().length:0}function Ii(n){let r=n.getStartEndPoints();if(null===r)return[0,0];let[l,d]=r;return"element"===l.type&&"element"===d.type&&l.key===d.key&&l.offset===d.offset?[0,0]:[Di(l),Di(d)]}function Ai(n,r,l){let d=n.getTextContent().split(/(?=\s)/g),f=d.length,c=0,h=0;for(let n=0;n<f;n++){let _=n===f-1;if(h=c,c+=d[n].length,r&&c===l||c>l||_){d.splice(n,1),_&&(h=void 0);break}}let _=d.join("").trim();""===_?n.remove():(n.setTextContent(_),n.select(h,h))}function Bi(n,r,l,d){let f,c=r;if(Pn(n)){let h=!1,_=n.childNodes,m=_.length,y=d._blockCursorElement;c===m&&(h=!0,c=m-1);let x=_[c],b=!1;if(x===y)x=_[c+1],b=!0;else if(null!==y){let l=y.parentNode;n===l&&r>Array.prototype.indexOf.call(l.children,y)&&c--}if(vi(f=Dt(x)))c=It(f,h);else{let _=Dt(n);if(null===_)return null;if(Ls(_)){let m=d.getElementByKey(_.getKey());null===m&&ez(214);let y=_.getDOMSlot(m);[_,c]=y.resolveChildIndex(_,m,n,r),Ls(_)||ez(215),h&&c>=_.getChildrenSize()&&(c=Math.max(0,_.getChildrenSize()-1));let x=_.getChildAtIndex(c);if(Ls(x)&&function(n,r,l){let d=n.getParent();return null===l||null===d||!d.canBeEmpty()||d!==l.getNode()}(x,0,l)){let n=h?x.getLastDescendant():x.getFirstDescendant();_=null===n?x:Ls(x=n)?x:x.getParentOrThrow(),c=0}vi(x)?(f=x,_=null,c=It(x,h)):x!==_&&h&&!b&&(Ls(_)||ez(216),c=Math.min(_.getChildrenSize(),c+1))}else{let l=_.getIndexWithinParent();c=0===r&&Is(_)&&Dt(n)===_?l:l+1,_=_.getParentOrThrow()}if(Ls(_))return wi(_.__key,c,"element")}}else f=Dt(n);return vi(f)?wi(f.__key,c,"text"):null}function zi(n,r,l){let d=n.offset,f=n.getNode();if(0===d){let d=f.getPreviousSibling(),c=f.getParent();if(r){if((l||!r)&&null===d&&Ls(c)&&c.isInline()){let r=c.getPreviousSibling();vi(r)&&(n.key=r.__key,n.offset=r.getTextContent().length)}}else Ls(d)&&!l&&d.isInline()?(n.key=d.__key,n.offset=d.getChildrenSize(),n.type="element"):vi(d)&&(n.key=d.__key,n.offset=d.getTextContent().length)}else if(d===f.getTextContent().length){let d=f.getNextSibling(),c=f.getParent();if(r&&Ls(d)&&d.isInline())n.key=d.__key,n.offset=0,n.type="element";else if((l||r)&&null===d&&Ls(c)&&c.isInline()&&!c.canInsertTextAfter()){let r=c.getNextSibling();vi(r)&&(n.key=r.__key,n.offset=0)}}}function Wi(n,r,l){if("text"===n.type&&"text"===r.type){let d=n.isBefore(r),f=n.is(r);zi(n,d,f),zi(r,!d,f),f&&(r.key=n.key,r.offset=n.offset,r.type=n.type);let c=gs();if(c.isComposing()&&c._compositionKey!==n.key&&Oi(l)){let d=l.anchor,f=l.focus;Pi(n,d.key,d.offset,d.type),Pi(r,f.key,f.offset,f.type)}}}function Ri(n,r,l,d,f,c){if(null===n||null===l||!ut(f,n,l))return null;let h=Bi(n,r,Oi(c)?c.anchor:null,f);if(null===h)return null;let _=Bi(l,d,Oi(c)?c.focus:null,f);if(null===_)return null;if("element"===h.type&&"element"===_.type){let r=Dt(n),d=Dt(l);if(Is(r)&&Is(d))return null}return Wi(h,_,c),[h,_]}function Ki(n){return Ls(n)&&!n.isInline()}function Ji(n,r,l,d,f,c){let h=hs(),_=new Li(wi(n,r,f),wi(l,d,c),0,"");return _.dirty=!0,h._selection=_,_}function $i(){let n=wi("root",0,"element"),r=wi("root",0,"element");return new Li(n,r,0,"")}function Ui(){return new Fi(new Set)}function ji(n,r,l,d){let f,c,h,_;let m=l._window;if(null===m)return null;let y=d||m.event,x=y?y.type:void 0,b="selectionchange"===x,S=!eR&&(b||"beforeinput"===x||"compositionstart"===x||"compositionend"===x||"click"===x&&y&&3===y.detail||"drop"===x||void 0===x);if(Oi(n)&&!S)return n.clone();if(null===r)return null;if(f=r.anchorNode,c=r.focusNode,h=r.anchorOffset,_=r.focusOffset,b&&Oi(n)&&!ut(l,f,c))return n.clone();let T=Ri(f,h,c,_,l,n);if(null===T)return null;let[w,k]=T;return new Li(w,k,Oi(n)?n.format:0,Oi(n)?n.style:"")}function Hi(){return hs()._selection}function qi(){return gs()._editorState._selection}function Gi(n,r,l,d=1){let f=n.anchor,c=n.focus,h=f.getNode(),_=c.getNode();if(!r.is(h)&&!r.is(_))return;let m=r.__key;if(n.isCollapsed()){let r=f.offset;if(l<=r&&d>0||l<r&&d<0){let l=Math.max(0,r+d);f.set(m,l,"element"),c.set(m,l,"element"),Qi(n)}}else{let h=n.isBackward(),_=h?c:f,y=_.getNode(),x=h?f:c,b=x.getNode();if(r.is(y)){let n=_.offset;(l<=n&&d>0||l<n&&d<0)&&_.set(m,Math.max(0,n+d),"element")}if(r.is(b)){let n=x.offset;(l<=n&&d>0||l<n&&d<0)&&x.set(m,Math.max(0,n+d),"element")}}Qi(n)}function Qi(n){let r=n.anchor,l=r.offset,d=n.focus,f=d.offset,c=r.getNode(),h=d.getNode();if(n.isCollapsed()){if(!Ls(c))return;let n=c.getChildrenSize(),f=l>=n,h=f?c.getChildAtIndex(n-1):c.getChildAtIndex(l);if(vi(h)){let n=0;f&&(n=h.getTextContentSize()),r.set(h.__key,n,"text"),d.set(h.__key,n,"text")}}else{if(Ls(c)){let n=c.getChildrenSize(),d=l>=n,f=d?c.getChildAtIndex(n-1):c.getChildAtIndex(l);if(vi(f)){let n=0;d&&(n=f.getTextContentSize()),r.set(f.__key,n,"text")}}if(Ls(h)){let n=h.getChildrenSize(),r=f>=n,l=r?h.getChildAtIndex(n-1):h.getChildAtIndex(f);if(vi(l)){let n=0;r&&(n=l.getTextContentSize()),d.set(l.__key,n,"text")}}}}function Xi(n,r,l,d,f){let c=null,h=0,_=null;null!==d?(c=d.__key,vi(d)?(h=d.getTextContentSize(),_="text"):Ls(d)&&(h=d.getChildrenSize(),_="element")):null!==f&&(c=f.__key,vi(f)?_="text":Ls(f)&&(_="element")),null!==c&&null!==_?n.set(c,h,_):(-1===(h=r.getIndexWithinParent())&&(h=l.getChildrenSize()),n.set(l.__key,h,"element"))}function Yi(n,r,l,d,f){"text"===n.type?(n.key=l,r||(n.offset+=f)):n.offset>d.getIndexWithinParent()&&(n.offset-=1)}function es(n){let r=Hi()||qi();null===r&&(r=Ot().selectEnd()),r.insertNodes(n)}function ns(n){let r=n;n.isCollapsed()||r.removeText();let l=Hi();Oi(l)&&(r=l),Oi(r)||ez(161);let d=r.anchor,f=d.getNode(),c=d.offset;for(;!Dn(f);)[f,c]=function(n,r){let l=n.getParent();if(!l){let n=Vs();return Ot().append(n),n.select(),[Ot(),0]}if(vi(n)){let d=n.splitText(r);if(0===d.length)return[l,n.getIndexWithinParent()];let f=0===r?0:1;return[l,d[0].getIndexWithinParent()+f]}if(!Ls(n)||0===r)return[l,n.getIndexWithinParent()];let d=n.getChildAtIndex(r);if(d){let l=new Li(wi(n.__key,r,"element"),wi(n.__key,r,"element"),0,""),f=n.insertNewAfter(l);f&&f.append(d,...d.getNextSiblings())}return[l,n.getIndexWithinParent()+1]}(f,c);return c}let tm=null,ty=null,tx=!1,tv=!1,tb=0,tC={characterData:!0,childList:!0,subtree:!0};function us(){return tx||null!==tm&&tm._readOnly}function fs(){tx&&ez(13)}function ds(){tb>99&&ez(14)}function hs(){return null===tm&&ez(195,_s()),tm}function gs(){return null===ty&&ez(196,_s()),ty}function _s(){let n=0,r=new Set,l=eo.version;if("undefined"!=typeof window)for(let d of document.querySelectorAll("[contenteditable]")){let f=ht(d);if(ft(f))n++;else if(f){let n=String(f.constructor.version||"<0.17.1");n===l&&(n+=" (separately built, likely a bundler configuration issue)"),r.add(n)}}let d=` Detected on the page: ${n} compatible editor(s) with version ${l}`;return r.size&&(d+=` and incompatible editors with versions ${Array.from(r).join(", ")}`),d}function ys(n,r,l){let d=r.__type,f=function(n,r){let l=n._nodes.get(r);return void 0===l&&ez(30,r),l}(n,d),c=l.get(d);void 0===c&&(c=Array.from(f.transforms),l.set(d,c));let h=c.length;for(let n=0;n<h&&(c[n](r),r.isAttached());n++);}function ms(n,r){return void 0!==n&&n.__key!==r&&n.isAttached()}function xs(n,r){if(!r)return;let l=n._updateTags,d=r;for(let n of(Array.isArray(r)||(d=[r]),d))l.add(n)}function vs(n){return Ss(n,gs()._nodes)}function Ss(n,r){let l=n.type,d=r.get(l);void 0===d&&ez(17,l);let f=d.klass;n.type!==f.getType()&&ez(18,f.name);let c=f.importJSON(n),h=n.children;if(Ls(c)&&Array.isArray(h))for(let n=0;n<h.length;n++){let l=Ss(h[n],r);c.append(l)}return c}function Cs(n,r,l){let d=tm,f=tx,c=ty;tm=r,tx=!0,ty=n;try{return l()}finally{tm=d,tx=f,ty=c}}function Ts(n,r){let l=n._pendingEditorState,f=n._rootElement,c=n._headless||null===f;if(null===l)return;let h=n._editorState,_=h._selection,m=l._selection,y=0!==n._dirtyType,x=tm,b=tx,S=ty,T=n._updating,w=n._observer,k=null;if(n._pendingEditorState=null,n._editorState=l,!c&&y&&null!==w){ty=n,tm=l,tx=!1,n._updating=!0;try{let r=n._dirtyType,d=n._dirtyElements,f=n._dirtyLeaves;w.disconnect(),k=function(n,r,l,d,f,c){e1="",e6="",e2="",e3=2===d,e9=null,ej=l,eJ=l._config,eU=l._nodes,eq=ej._listeners.mutation,eG=f,eX=c,eY=n._nodeMap,eZ=r._nodeMap,e7=r._readOnly,eQ=new Map(l._keyToDOMMap);let h=new Map;return e0=h,function Cr(n,r){let l=eY.get(n),d=eZ.get(n);void 0!==l&&void 0!==d||ez(61);let f=e3||eX.has(n)||eG.has(n),c=on(ej,n);if(l===d&&!f){if(Ls(l)){let n=c.__lexicalTextContent;void 0!==n&&(e1+=n,e6+=n);let r=c.__lexicalDirTextContent;void 0!==r&&(e2+=r)}else{let n=l.getTextContent();vi(l)&&!l.isDirectionless()&&(e2+=n),e6+=n,e1+=n}return c}if(l!==d&&f&&Yt(e0,eU,eq,d,"updated"),d.updateDOM(l,c,eJ)){let l=_r(n,null);return null===r&&ez(62),r.replaceChild(l,c),ar(n,null),l}if(Ls(l)&&Ls(d)){let n=d.__indent;n!==l.__indent&&hr(c,n);let r=d.__format;r!==l.__format&&gr(c,r),f&&(function(n,r,l){let d=e2;e2="",e4=null,e8="",function(n,r,l){let d=e1,f=n.__size,c=r.__size;e1="";let h=l.element;if(1===f&&1===c){let l=n.__first,d=r.__first;if(l===d)Cr(l,h);else{let n=wr(l),r=_r(d,null);try{h.replaceChild(r,n)}catch(f){if("object"==typeof f&&null!=f){let c=`${f.toString()} Parent: ${h.tagName}, new child: {tag: ${r.tagName} key: ${d}}, old child: {tag: ${n.tagName}, key: ${l}}.`;throw Error(c)}throw f}ar(l,null)}let f=eZ.get(d);vi(f)&&(null===e4&&(e4=f.getFormat()),""===e8&&(e8=f.getStyle()))}else{let d=Sr(n,eY),_=Sr(r,eZ);if(d.length!==f&&ez(227),_.length!==c&&ez(228),0===f)0!==c&&pr(_,r,0,c-1,l);else if(0===c){if(0!==f){let n=null==l.after&&null==l.before&&null==l.element.__lexicalLineBreak;ur(d,0,f-1,n?null:h),n&&(h.textContent="")}}else!function(n,r,l,d,f,c){let h=d-1,_=f-1,m,y,x=c.getFirstChild(),b=0,S=0;for(;b<=h&&S<=_;){let n=r[b],d=l[S];if(n===d)x=kr(Cr(d,c.element)),b++,S++;else{void 0===m&&(m=new Set(r)),void 0===y&&(y=new Set(l));let f=y.has(n),h=m.has(d);if(f){if(h){let n=on(ej,d);n===x?x=kr(Cr(d,c.element)):(c.withBefore(x).insertChild(n),Cr(d,c.element)),b++,S++}else _r(d,c.withBefore(x)),S++}else x=kr(wr(n)),ar(n,c.element),b++}let f=eZ.get(d);null!==f&&vi(f)&&(null===e4&&(e4=f.getFormat()),""===e8&&(e8=f.getStyle()))}let T=b>h,w=S>_;if(T&&!w){let r=l[_+1],d=void 0===r?null:ej.getElementByKey(r);pr(l,n,S,_,c.withBefore(d))}else w&&!T&&ur(r,b,h,c.element)}(r,d,_,f,c,l)}sn(r)&&(e1+="\n\n"),h.__lexicalTextContent=e1,e1=d+e1}(n,r,r.getDOMSlot(l)),xr(r,l),null==e4||e4===r.__textFormat||e7||(r.setTextFormat(e4),r.setTextStyle(e8)),""===e8||e8===r.__textStyle||e7||r.setTextStyle(e8),e2=d}(l,d,c),Bs(d)||d.isInline()||mr(l,d,c)),sn(d)&&(e1+="\n\n",e6+="\n\n")}else{let r=d.getTextContent();if(Is(d)){let r=d.decorate(ej,eJ);null!==r&&Tr(n,r)}else vi(d)&&!d.isDirectionless()&&(e2+=r);e1+=r,e6+=r}if(!e7&&Bs(d)&&d.__cachedText!==e6){let n=d.getWritable();n.__cachedText=e6,d=n}return c}("root",null),ej=void 0,eU=void 0,eG=void 0,eX=void 0,eY=void 0,eZ=void 0,eJ=void 0,eQ=void 0,e0=void 0,h}(h,l,n,r,d,f)}catch(r){if(r instanceof Error&&n._onError(r),tv)throw r;return Ys(n,null,f,l),et(n),n._dirtyType=2,tv=!0,Ts(n,h),void(tv=!1)}finally{w.observe(f,tC),n._updating=T,tm=x,tx=b,ty=S}}l._readOnly||(l._readOnly=!0);let L=n._dirtyLeaves,E=n._dirtyElements,O=n._normalizedNodes,P=n._updateTags,F=n._deferred;y&&(n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),function(n,r){let l;let d=n._decorators,f=n._pendingDecorators||d,c=r._nodeMap;for(l in f)c.has(l)||(f===d&&(f=Pt(n)),delete f[l])}(n,l);let D=c?null:bn(n._window);if(n._editable&&null!==D&&(y||null===m||m.dirty)&&null!==f&&!P.has("skip-dom-selection")){ty=n,tm=l;try{if(null!==w&&w.disconnect(),y||null===m||m.dirty){let r=n._blockCursorElement;null!==r&&Tn(r,n,f),function(n,r,l,d,f,c,h){let _=d.anchorNode,m=d.focusNode,y=d.anchorOffset,x=d.focusOffset,b=document.activeElement;if(f.has("collaboration")&&b!==c||null!==b&&at(b))return;if(!Oi(r))return void(null!==n&&ut(l,_,m)&&d.removeAllRanges());let S=r.anchor,T=r.focus,w=S.key,k=T.key,L=on(l,w),E=on(l,k),O=S.offset,P=T.offset,F=r.format,D=r.style,A=r.isCollapsed(),B=L,z=E,R=!1;if("text"===S.type){B=yt(L);let n=S.getNode();R=n.getFormat()!==F||n.getStyle()!==D}else Oi(n)&&"text"===n.anchor.type&&(R=!0);if("text"===T.type&&(z=yt(E)),null!==B&&null!==z&&(A&&(null===n||R||Oi(n)&&(n.format!==F||n.style!==D))&&(th=[F,D,O,w,performance.now()]),y!==O||x!==P||_!==B||m!==z||"Range"===d.type&&A||(null!==b&&c.contains(b)||c.focus({preventScroll:!0}),"element"===S.type))){try{d.setBaseAndExtent(B,O,z,P)}catch(n){}if(!f.has("skip-scroll-into-view")&&r.isCollapsed()&&null!==c&&c===document.activeElement){let n=Oi(r)&&"element"===r.anchor.type?B.childNodes[O]||null:d.rangeCount>0?d.getRangeAt(0):null;if(null!==n){let r;if(n instanceof Text){let l=document.createRange();l.selectNode(n),r=l.getBoundingClientRect()}else r=n.getBoundingClientRect();!function(n,r,l){let d=cn(l),f=hn(d);if(null===d||null===f)return;let{top:c,bottom:h}=r,_=0,m=0,y=l;for(;null!==y;){let r=y===d.body;if(r)_=0,m=gn(n).innerHeight;else{let n=y.getBoundingClientRect();_=n.top,m=n.bottom}let l=0;if(c<_?l=-(_-c):h>m&&(l=h-m),0!==l){if(r)f.scrollBy(0,l);else{let n=y.scrollTop;y.scrollTop+=l;let r=y.scrollTop-n;c-=r,h-=r}}if(r)break;y=ln(y)}}(l,r,c)}}tu=!0}}(_,m,n,D,P,f)}(function(n,r,l){let d=n._blockCursorElement;if(Oi(l)&&l.isCollapsed()&&"element"===l.anchor.type&&r.contains(document.activeElement)){let f=l.anchor,c=f.getNode(),h=f.offset,_=!1,m=null;if(h===c.getChildrenSize())Cn(c.getChildAtIndex(h-1))&&(_=!0);else{let r=c.getChildAtIndex(h);if(null!==r&&Cn(r)){let l=r.getPreviousSibling();(null===l||Cn(l))&&(_=!0,m=n.getElementByKey(r.__key))}}if(_){let l=n.getElementByKey(c.__key);return null===d&&(n._blockCursorElement=d=function(n){let r=n.theme,l=document.createElement("div");l.contentEditable="false",l.setAttribute("data-lexical-cursor","true");let d=r.blockCursor;if(void 0!==d){if("string"==typeof d){let n=$e(d);d=r.blockCursor=n}void 0!==d&&l.classList.add(...d)}return l}(n._config)),r.style.caretColor="transparent",void(null===m?l.appendChild(d):l.insertBefore(d,m))}}null!==d&&Tn(d,n,r)})(n,f,m),null!==w&&w.observe(f,tC)}finally{ty=S,tm=x}}null!==k&&function(n,r,l,d,f){let c=Array.from(n._listeners.mutation),h=c.length;for(let n=0;n<h;n++){let[h,_]=c[n],m=r.get(_);void 0!==m&&h(m,{dirtyLeaves:d,prevEditorState:f,updateTags:l})}}(n,k,P,L,h),Oi(m)||null===m||null!==_&&_.is(m)||n.dispatchCommand(d,void 0);let A=n._pendingDecorators;null!==A&&(n._decorators=A,n._pendingDecorators=null,ks("decorator",n,!0,A)),function(n,r,l){let d=Ft(r),f=Ft(l);d!==f&&ks("textcontent",n,!0,f)}(n,r||h,l),ks("update",n,!0,{dirtyElements:E,dirtyLeaves:L,editorState:l,normalizedNodes:O,prevEditorState:r||h,tags:P}),function(n,r){if(n._deferred=[],0!==r.length){let l=n._updating;n._updating=!0;try{for(let n=0;n<r.length;n++)r[n]()}finally{n._updating=l}}}(n,F),function(n){let r=n._updates;if(0!==r.length){let l=r.shift();if(l){let[r,d]=l;Ns(n,r,d)}}}(n)}function ks(n,r,l,...d){let f=r._updating;r._updating=l;try{let l=Array.from(r._listeners[n]);for(let n=0;n<l.length;n++)l[n].apply(null,d)}finally{r._updating=f}}function bs(n,r,l){if(!1===n._updating||ty!==n){let d=!1;return n.update(()=>{d=bs(n,r,l)}),d}let d=Bt(n);for(let f=4;f>=0;f--)for(let c=0;c<d.length;c++){let h=d[c]._commands.get(r);if(void 0!==h){let r=h[f];if(void 0!==r){let d=Array.from(r),f=d.length;for(let r=0;r<f;r++)if(!0===d[r](l,n))return!0}}}return!1}function ws(n,r){let l=n._updates,d=r||!1;for(;0!==l.length;){let r=l.shift();if(r){let l;let[f,c]=r;if(void 0!==c){if(l=c.onUpdate,c.skipTransforms&&(d=!0),c.discrete){let r=n._pendingEditorState;null===r&&ez(191),r._flushSync=!0}l&&n._deferred.push(l),xs(n,c.tag)}f()}}return d}function Ns(n,r,l){let d=n._updateTags,f,c=!1,h=!1;void 0!==l&&(f=l.onUpdate,xs(n,l.tag),c=l.skipTransforms||!1,h=l.discrete||!1),f&&n._deferred.push(f);let _=n._editorState,m=n._pendingEditorState,y=!1;(null===m||m._readOnly)&&(m=n._pendingEditorState=zs(m||_),y=!0),m._flushSync=h;let x=tm,b=tx,S=ty,T=n._updating;tm=m,tx=!1,n._updating=!0,ty=n;try{y&&(n._headless?null!==_._selection&&(m._selection=_._selection.clone()):m._selection=function(n){let r=n.getEditorState()._selection,l=bn(n._window);return Oi(r)||null==r?ji(r,l,n,null):r.clone()}(n));let l=n._compositionKey;r(),c=ws(n,c),function(n,r){let l=r.getEditorState()._selection,d=n._selection;if(Oi(d)){let n;let r=d.anchor,f=d.focus;if("text"===r.type&&(n=r.getNode()).selectionTransform(l,d),"text"===f.type){let r=f.getNode();n!==r&&r.selectionTransform(l,d)}}}(m,n),0!==n._dirtyType&&(c?function(n,r){let l=r._dirtyLeaves,d=n._nodeMap;for(let n of l){let r=d.get(n);vi(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&rt(r)}}(m,n):function(n,r){let l=r._dirtyLeaves,d=r._dirtyElements,f=n._nodeMap,c=kt(),h=new Map,_=l,m=_.size,y=d,x=y.size;for(;m>0||x>0;){if(m>0){for(let n of(r._dirtyLeaves=new Set,_)){let d=f.get(n);vi(d)&&d.isAttached()&&d.isSimpleText()&&!d.isUnmergeable()&&rt(d),void 0!==d&&ms(d,c)&&ys(r,d,h),l.add(n)}if((m=(_=r._dirtyLeaves).size)>0){tb++;continue}}for(let n of(r._dirtyLeaves=new Set,r._dirtyElements=new Map,y)){let l=n[0],_=n[1];if("root"!==l&&!_)continue;let m=f.get(l);void 0!==m&&ms(m,c)&&ys(r,m,h),d.set(l,_)}m=(_=r._dirtyLeaves).size,x=(y=r._dirtyElements).size,tb++}r._dirtyLeaves=l,r._dirtyElements=d}(m,n),ws(n),function(n,r,l,d){let f=n._nodeMap,c=r._nodeMap,h=[];for(let[n]of d){let r=c.get(n);void 0!==r&&(r.isAttached()||(Ls(r)&&function Un(n,r,l,d,f,c){let h=n.getFirstChild();for(;null!==h;){let n=h.__key;h.__parent===r&&(Ls(h)&&Un(h,n,l,d,f,c),l.has(n)||c.delete(n),f.push(n)),h=h.getNextSibling()}}(r,n,f,c,h,d),f.has(n)||d.delete(n),h.push(n)))}for(let n of h)c.delete(n);for(let n of l){let r=c.get(n);void 0===r||r.isAttached()||(f.has(n)||l.delete(n),c.delete(n))}}(_,m,n._dirtyLeaves,n._dirtyElements)),l!==n._compositionKey&&(m._flushSync=!0);let d=m._selection;if(Oi(d)){let n=m._nodeMap,r=d.anchor.key,l=d.focus.key;void 0!==n.get(r)&&void 0!==n.get(l)||ez(19)}else Mi(d)&&0===d._nodes.size&&(m._selection=null)}catch(r){return r instanceof Error&&n._onError(r),n._pendingEditorState=_,n._dirtyType=2,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void Ts(n)}finally{tm=x,tx=b,ty=S,n._updating=T,tb=0}let w=0!==n._dirtyType||n._deferred.length>0||function(n,r){let l=r.getEditorState()._selection,d=n._selection;if(null!==d){if(d.dirty||!d.is(l))return!0}else if(null!==l)return!0;return!1}(m,n);w?m._flushSync?(m._flushSync=!1,Ts(n)):y&&eV(()=>{Ts(n)}):(m._flushSync=!1,y&&(d.clear(),n._deferred=[],n._pendingEditorState=null))}function Es(n,r,l){n._updating?n._updates.push([r,l]):Ns(n,r,l)}let Ps=class Ps{constructor(n,r,l){this.element=n,this.before=r||null,this.after=l||null}withBefore(n){return new Ps(this.element,n,this.after)}withAfter(n){return new Ps(this.element,this.before,n)}withElement(n){return new Ps(n,this.before,this.after)}insertChild(n){let r=this.before||this.getManagedLineBreak();return null!==r&&r.parentElement!==this.element&&ez(222),this.element.insertBefore(n,r),this}removeChild(n){return n.parentElement!==this.element&&ez(223),this.element.removeChild(n),this}replaceChild(n,r){return r.parentElement!==this.element&&ez(224),this.element.replaceChild(n,r),this}getFirstChild(){let n=this.after?this.after.nextSibling:this.element.firstChild;return n===this.before||n===this.getManagedLineBreak()?null:n}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(n){if(null===n)this.removeManagedLineBreak();else{let r="decorator"===n&&(ev||ex);this.insertManagedLineBreak(r)}}removeManagedLineBreak(){let n=this.getManagedLineBreak();if(n){let r=this.element,l="IMG"===n.nodeName?n.nextSibling:null;l&&r.removeChild(l),r.removeChild(n),r.__lexicalLineBreak=void 0}}insertManagedLineBreak(n){let r=this.getManagedLineBreak();if(r){if(n===("IMG"===r.nodeName))return;this.removeManagedLineBreak()}let l=this.element,d=this.before,f=document.createElement("br");if(l.insertBefore(f,d),n){let n=document.createElement("img");n.setAttribute("data-lexical-linebreak","true"),n.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",n.alt="",l.insertBefore(n,f),l.__lexicalLineBreak=n}else l.__lexicalLineBreak=f}getFirstChildOffset(){let n=0;for(let r=this.after;null!==r;r=r.previousSibling)n++;return n}resolveChildIndex(n,r,l,d){if(l===this.element){let r=this.getFirstChildOffset();return[n,Math.min(r+n.getChildrenSize(),Math.max(r,d))]}let f=Fs(r,l);f.push(d);let c=Fs(r,this.element),h=n.getIndexWithinParent();for(let n=0;n<c.length;n++){let r=f[n],l=c[n];if(void 0===r||r<l)break;if(r>l){h+=1;break}}return[n.getParentOrThrow(),h]}};function Fs(n,r){let l=[],d=r;for(;d!==n&&null!==d;d=r.parentNode){let n=0;for(let r=d.previousSibling;null!==r;r=d.previousSibling)n++;l.push(n)}return d!==n&&ez(225),l.reverse()}let Os=class Os extends Yr{constructor(n){super(n),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(n){super.afterCloneFrom(n),this.__first=n.__first,this.__last=n.__last,this.__size=n.__size,this.__indent=n.__indent,this.__format=n.__format,this.__style=n.__style,this.__dir=n.__dir,this.__textFormat=n.__textFormat,this.__textStyle=n.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){let n=this.getFormat();return eD[n]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let n=[],r=this.getFirstChild();for(;null!==r;)n.push(r),r=r.getNextSibling();return n}getChildrenKeys(){let n=[],r=this.getFirstChild();for(;null!==r;)n.push(r.__key),r=r.getNextSibling();return n}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let n=gs()._dirtyElements;return null!==n&&n.has(this.__key)}isLastChild(){let n=this.getLatest(),r=this.getParentOrThrow().getLastChild();return null!==r&&r.is(n)}getAllTextNodes(){let n=[],r=this.getFirstChild();for(;null!==r;){if(vi(r)&&n.push(r),Ls(r)){let l=r.getAllTextNodes();n.push(...l)}r=r.getNextSibling()}return n}getFirstDescendant(){let n=this.getFirstChild();for(;Ls(n);){let r=n.getFirstChild();if(null===r)break;n=r}return n}getLastDescendant(){let n=this.getLastChild();for(;Ls(n);){let r=n.getLastChild();if(null===r)break;n=r}return n}getDescendantByIndex(n){let r=this.getChildren(),l=r.length;if(n>=l){let n=r[l-1];return Ls(n)&&n.getLastDescendant()||n||null}let d=r[n];return Ls(d)&&d.getFirstDescendant()||d||null}getFirstChild(){let n=this.getLatest().__first;return null===n?null:bt(n)}getFirstChildOrThrow(){let n=this.getFirstChild();return null===n&&ez(45,this.__key),n}getLastChild(){let n=this.getLatest().__last;return null===n?null:bt(n)}getLastChildOrThrow(){let n=this.getLastChild();return null===n&&ez(96,this.__key),n}getChildAtIndex(n){let r,l;let d=this.getChildrenSize();if(n<d/2){for(r=this.getFirstChild(),l=0;null!==r&&l<=n;){if(l===n)return r;r=r.getNextSibling(),l++}return null}for(r=this.getLastChild(),l=d-1;null!==r&&l>=n;){if(l===n)return r;r=r.getPreviousSibling(),l--}return null}getTextContent(){let n="",r=this.getChildren(),l=r.length;for(let d=0;d<l;d++){let f=r[d];n+=f.getTextContent(),Ls(f)&&d!==l-1&&!f.isInline()&&(n+="\n\n")}return n}getTextContentSize(){let n=0,r=this.getChildren(),l=r.length;for(let d=0;d<l;d++){let f=r[d];n+=f.getTextContentSize(),Ls(f)&&d!==l-1&&!f.isInline()&&(n+=2)}return n}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(n){if(""!==n){let r=eM[n];return!!(this.getFormat()&r)}return!1}hasTextFormat(n){let r=eP[n];return!!(this.getTextFormat()&r)}getFormatFlags(n,r){return mt(this.getLatest().__textFormat,n,r)}getTextStyle(){return this.getLatest().__textStyle}select(n,r){fs();let l=Hi(),d=n,f=r,c=this.getChildrenSize();if(!this.canBeEmpty()){if(0===n&&0===r){let n=this.getFirstChild();if(vi(n)||Ls(n))return n.select(0,0)}else if(!(void 0!==n&&n!==c||void 0!==r&&r!==c)){let n=this.getLastChild();if(vi(n)||Ls(n))return n.select()}}void 0===d&&(d=c),void 0===f&&(f=c);let h=this.__key;return Oi(l)?(l.anchor.set(h,d,"element"),l.focus.set(h,f,"element"),l.dirty=!0,l):Ji(h,d,h,f,"element","element")}selectStart(){let n=this.getFirstDescendant();return n?n.selectStart():this.select()}selectEnd(){let n=this.getLastDescendant();return n?n.selectEnd():this.select()}clear(){let n=this.getWritable();return this.getChildren().forEach(n=>n.remove()),n}append(...n){return this.splice(this.getChildrenSize(),0,n)}setDirection(n){let r=this.getWritable();return r.__dir=n,r}setFormat(n){return this.getWritable().__format=""!==n?eM[n]:0,this}setStyle(n){return this.getWritable().__style=n||"",this}setTextFormat(n){let r=this.getWritable();return r.__textFormat=n,r}setTextStyle(n){let r=this.getWritable();return r.__textStyle=n,r}setIndent(n){return this.getWritable().__indent=n,this}splice(n,r,l){let d=l.length,f=this.getChildrenSize(),c=this.getWritable();n+r<=f||ez(226,String(n),String(r),String(f));let h=c.__key,_=[],m=[],y=this.getChildAtIndex(n+r),x=null,b=f-r+d;if(0!==n){if(n===f)x=this.getLastChild();else{let r=this.getChildAtIndex(n);null!==r&&(x=r.getPreviousSibling())}}if(r>0){let n=null===x?this.getFirstChild():x.getNextSibling();for(let l=0;l<r;l++){null===n&&ez(100);let r=n.getNextSibling(),l=n.__key;St(n.getWritable()),m.push(l),n=r}}let S=x;for(let n=0;n<d;n++){let r=l[n];null!==S&&r.is(S)&&(x=S=S.getPreviousSibling());let d=r.getWritable();d.__parent===h&&b--,St(d);let f=r.__key;if(null===S)c.__first=f,d.__prev=null;else{let n=S.getWritable();n.__next=f,d.__prev=n.__key}r.__key===h&&ez(76),d.__parent=h,_.push(f),S=r}if(n+r===f)null!==S&&(S.getWritable().__next=null,c.__last=S.__key);else if(null!==y){let n=y.getWritable();if(null!==S){let r=S.getWritable();n.__prev=S.__key,r.__next=y.__key}else n.__prev=null}if(c.__size=b,m.length){let n=Hi();if(Oi(n)){let r=new Set(m),l=new Set(_),{anchor:d,focus:f}=n;Ms(d,r,l)&&Xi(d,d.getNode(),this,x,y),Ms(f,r,l)&&Xi(f,f.getNode(),this,x,y),0!==b||this.canBeEmpty()||yn(this)||this.remove()}}return c}getDOMSlot(n){return new Ps(n)}exportDOM(n){let{element:r}=super.exportDOM(n);if(Pn(r)){let n=this.getIndent();n>0&&(r.style.paddingInlineStart=40*n+"px")}return{element:r}}exportJSON(){let n={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},r=this.getTextFormat(),l=this.getTextStyle();return 0!==r&&(n.textFormat=r),""!==l&&(n.textStyle=l),n}updateFromJSON(n){return super.updateFromJSON(n).setFormat(n.format).setIndent(n.indent).setDirection(n.direction).setTextFormat(n.textFormat||0).setTextStyle(n.textStyle||"")}insertNewAfter(n,r){return null}canIndent(){return!0}collapseAtStart(n){return!1}excludeFromCopy(n){return!1}canReplaceWith(n){return!0}canInsertAfter(n){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(n){return!1}extractWithChild(n,r,l){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(n,r){let l=this.getDOMSlot(n),d=l.getFirstChild();for(let n=this.getFirstChild();n;n=n.getNextSibling()){let f=r.getElementByKey(n.getKey());null!==f&&(null==d?(l.insertChild(f),d=f):d!==f&&l.replaceChild(f,d),d=d.nextSibling)}}};function Ls(n){return n instanceof Os}function Ms(n,r,l){let d=n.getNode();for(;d;){let n=d.__key;if(r.has(n)&&!l.has(n))return!0;d=d.getParent()}return!1}let Ds=class Ds extends Yr{decorate(n,r){ez(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}};function Is(n){return n instanceof Ds}let As=class As extends Os{static getType(){return"root"}static clone(){return new As}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){ez(51)}getTextContent(){let n=this.__cachedText;return(us()||0===gs()._dirtyType)&&null!==n?n:super.getTextContent()}remove(){ez(52)}replace(n){ez(53)}insertBefore(n){ez(54)}insertAfter(n){ez(55)}updateDOM(n,r){return!1}append(...n){for(let r=0;r<n.length;r++){let l=n[r];Ls(l)||Is(l)||ez(56)}return super.append(...n)}static importJSON(n){return Ot().updateFromJSON(n)}collapseAtStart(){return!0}};function Bs(n){return n instanceof As}function zs(n){return new Ks(new Map(n._nodeMap))}function Ws(){return new Ks(new Map([["root",new As]]))}let Ks=class Ks{constructor(n,r){this._nodeMap=n,this._selection=r||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(n,r){return Cs(r&&r.editor||null,this,n)}clone(n){let r=new Ks(this._nodeMap,void 0===n?this._selection:n);return r._readOnly=!0,r}toJSON(){return Cs(null,this,()=>({root:function Rs(n){let r=n.exportJSON(),l=n.constructor;if(r.type!==l.getType()&&ez(130,l.name),Ls(n)){let d=r.children;Array.isArray(d)||ez(59,l.name);let f=n.getChildren();for(let n=0;n<f.length;n++){let r=Rs(f[n]);d.push(r)}}return r}(Ot())}))}};let Js=class Js extends Os{static getType(){return"artificial"}createDOM(n){return document.createElement("div")}};let $s=class $s extends Os{static getType(){return"paragraph"}static clone(n){return new $s(n.__key)}createDOM(n){let r=document.createElement("p"),l=Xt(n.theme,"paragraph");return void 0!==l&&r.classList.add(...l),r}updateDOM(n,r,l){return!1}static importDOM(){return{p:n=>({conversion:Us,priority:0})}}exportDOM(n){let{element:r}=super.exportDOM(n);if(Pn(r)){this.isEmpty()&&r.append(document.createElement("br"));let n=this.getFormatType();r.style.textAlign=n;let l=this.getDirection();l&&(r.dir=l)}return{element:r}}static importJSON(n){return Vs().updateFromJSON(n)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(n,r){let l=Vs();l.setTextFormat(n.format),l.setTextStyle(n.style);let d=this.getDirection();return l.setDirection(d),l.setFormat(this.getFormatType()),l.setStyle(this.getTextStyle()),this.insertAfter(l,r),l}collapseAtStart(){let n=this.getChildren();if(0===n.length||vi(n[0])&&""===n[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}};function Us(n){let r=Vs();return n.style&&(r.setFormat(n.style.textAlign),function(n,r){let l=(parseInt(n.style.paddingInlineStart,10)||0)/40;r.setIndent(l)}(n,r)),{node:r}}function Vs(){return xn(new $s)}function js(n){return n instanceof $s}let tS=0,tT=4;function Ys(n,r,l,d){let f=n._keyToDOMMap;f.clear(),n._editorState=Ws(),n._pendingEditorState=d,n._compositionKey=null,n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;let c=n._observer;null!==c&&(c.disconnect(),n._observer=null),null!==r&&(r.textContent=""),null!==l&&(l.textContent="",f.set("root",l))}function Zs(n){let r;let l=n||{},d=ty,f=l.theme||{},c=void 0===n?d:l.parentEditor||null,h=l.disableEvents||!1,_=Ws(),m=l.namespace||(null!==c?c._config.namespace:zt()),y=l.editorState,x=[As,ui,Zr,Ci,$s,Js,...l.nodes||[]],{onError:b,html:S}=l,T=void 0===l.editable||l.editable;if(void 0===n&&null!==d)r=d._nodes;else{r=new Map;for(let n=0;n<x.length;n++){let l=x[n],d=null,f=null;if("function"!=typeof l){let n=l;l=n.replace,d=n.with,f=n.withKlass||null}let c=l.getType(),h=l.transform(),_=new Set;null!==h&&_.add(h),r.set(c,{exportDOM:S&&S.export?S.export.get(l):void 0,klass:l,replace:d,replaceWithKlass:f,transforms:_})}}let w=new eo(_,c,r,{disableEvents:h,namespace:m,theme:f},b||console.error,function(n,r){let l=new Map,d=new Set,i=n=>{Object.keys(n).forEach(r=>{let d=l.get(r);void 0===d&&(d=[],l.set(r,d)),d.push(n[r])})};return n.forEach(n=>{let r=n.klass.importDOM;if(null==r||d.has(r))return;d.add(r);let l=r.call(n.klass);null!==l&&i(l)}),r&&i(r),l}(r,S?S.import:void 0),T);return void 0!==y&&(w._pendingEditorState=y,w._dirtyType=2),w}let eo=class eo{constructor(n,r,l,d,f,c,h){this._parentEditor=r,this._rootElement=null,this._editorState=n,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=d,this._nodes=l,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=zt(),this._onError=f,this._htmlConversions=c,this._editable=h,this._headless=null!==r&&r._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(n){let r=this._listeners.update;return r.add(n),()=>{r.delete(n)}}registerEditableListener(n){let r=this._listeners.editable;return r.add(n),()=>{r.delete(n)}}registerDecoratorListener(n){let r=this._listeners.decorator;return r.add(n),()=>{r.delete(n)}}registerTextContentListener(n){let r=this._listeners.textcontent;return r.add(n),()=>{r.delete(n)}}registerRootListener(n){let r=this._listeners.root;return n(this._rootElement,null),r.add(n),()=>{n(null,this._rootElement),r.delete(n)}}registerCommand(n,r,l){void 0===l&&ez(35);let d=this._commands;d.has(n)||d.set(n,[new Set,new Set,new Set,new Set,new Set]);let f=d.get(n);void 0===f&&ez(36,String(n));let c=f[l];return c.add(r),()=>{c.delete(r),f.every(n=>0===n.size)&&d.delete(n)}}registerMutationListener(n,r,l){let d=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(n)).klass,f=this._listeners.mutation;f.set(r,d);let c=l&&l.skipInitialization;return void 0!==c&&c||this.initializeMutationListener(r,d),()=>{f.delete(r)}}getRegisteredNode(n){let r=this._nodes.get(n.getType());return void 0===r&&ez(37,n.name),r}resolveRegisteredNodeAfterReplacements(n){for(;n.replaceWithKlass;)n=this.getRegisteredNode(n.replaceWithKlass);return n}initializeMutationListener(n,r){let l=this._editorState,d=Wn(l).get(r.getType());if(!d)return;let f=new Map;for(let n of d.keys())f.set(n,"created");f.size>0&&n(f,{dirtyLeaves:new Set,prevEditorState:l,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(n,r){let l=this.getRegisteredNode(n);return l.transforms.add(r),l}registerNodeTransform(n,r){let l=this.registerNodeTransformToKlass(n,r),d=[l],f=l.replaceWithKlass;if(null!=f){let n=this.registerNodeTransformToKlass(f,r);d.push(n)}return function(n,r){let l=Wn(n.getEditorState()),d=[];for(let n of r){let r=l.get(n);r&&d.push(r)}0!==d.length&&n.update(()=>{for(let n of d)for(let r of n.keys()){let n=bt(r);n&&n.markDirty()}},null===n._pendingEditorState?{tag:"history-merge"}:void 0)}(this,d.map(n=>n.klass.getType())),()=>{d.forEach(n=>n.transforms.delete(r))}}hasNode(n){return this._nodes.has(n.getType())}hasNodes(n){return n.every(this.hasNode.bind(this))}dispatchCommand(n,r){return bs(this,n,r)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(n){let r=this._rootElement;if(n!==r){let l=Xt(this._config.theme,"root"),d=this._pendingEditorState||this._editorState;if(this._rootElement=n,Ys(this,r,n,d),null!==r&&(this._config.disableEvents||function(n){let r=n.ownerDocument,l=ta.get(r);void 0===l&&ez(162);let d=l-1;d>=0||ez(164),ta.set(r,d),0===d&&r.removeEventListener("selectionchange",Hr);let f=ht(n);ft(f)?(function(n){if(null!==n._parentEditor){let r=Bt(n),l=r[r.length-1]._key;tg.get(l)===n&&tg.delete(l)}else tg.delete(n._key)}(f),n.__lexicalEditor=null):f&&ez(198);let c=Vr(n);for(let n=0;n<c.length;n++)c[n]();n.__lexicalEventHandles=[]}(r),null!=l&&r.classList.remove(...l)),null!==n){let r=hn(n),d=n.style;d.userSelect="text",d.whiteSpace="pre-wrap",d.wordBreak="break-word",n.setAttribute("data-lexical-editor","true"),this._window=r,this._dirtyType=2,et(this),this._updateTags.add("history-merge"),Ts(this),this._config.disableEvents||function(n,r){let l=n.ownerDocument,d=ta.get(l);(void 0===d||d<1)&&l.addEventListener("selectionchange",Hr),ta.set(l,(d||0)+1),n.__lexicalEditor=r;let f=Vr(n);for(let l=0;l<te.length;l++){let[d,c]=te[l],h="function"==typeof c?n=>{Gr(n)||(qr(n),(r.isEditable()||"click"===d)&&c(n,r))}:n=>{if(Gr(n))return;qr(n);let l=r.isEditable();switch(d){case"cut":return l&&bs(r,ee,n);case"copy":return bs(r,Q,n);case"paste":return l&&bs(r,x,n);case"dragstart":return l&&bs(r,X,n);case"dragover":return l&&bs(r,Y,n);case"dragend":return l&&bs(r,Z,n);case"focus":return l&&bs(r,ef,n);case"blur":return l&&bs(r,ec,n);case"drop":return l&&bs(r,q,n)}};n.addEventListener(d,h),f.push(()=>{n.removeEventListener(d,h)})}}(n,this),null!=l&&n.classList.add(...l)}else this._window=null,this._updateTags.add("history-merge"),Ts(this);ks("root",this,!1,n,r)}}getElementByKey(n){return this._keyToDOMMap.get(n)||null}getEditorState(){return this._editorState}setEditorState(n,r){n.isEmpty()&&ez(38);let l=n;l._readOnly&&((l=zs(n))._selection=n._selection?n._selection.clone():null),Ze(this);let d=this._pendingEditorState,f=this._updateTags,c=void 0!==r?r.tag:null;null===d||d.isEmpty()||(null!=c&&f.add(c),Ts(this)),this._pendingEditorState=l,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=c&&f.add(c),this._updating||Ts(this)}parseEditorState(n,r){return function(n,r,l){let d=Ws(),f=tm,c=tx,h=ty,_=r._dirtyElements,m=r._dirtyLeaves,y=r._cloneNotNeeded,x=r._dirtyType;r._dirtyElements=new Map,r._dirtyLeaves=new Set,r._cloneNotNeeded=new Set,r._dirtyType=0,tm=d,tx=!1,ty=r;try{let f=r._nodes;Ss(n.root,f),l&&l(),d._readOnly=!0}catch(n){n instanceof Error&&r._onError(n)}finally{r._dirtyElements=_,r._dirtyLeaves=m,r._cloneNotNeeded=y,r._dirtyType=x,tm=f,tx=c,ty=h}return d}("string"==typeof n?JSON.parse(n):n,this,r)}read(n){return Ts(this),this.getEditorState().read(n,{editor:this})}update(n,r){Es(this,n,r)}focus(n,r={}){let l=this._rootElement;null!==l&&(l.setAttribute("autocapitalize","off"),Es(this,()=>{let n=Hi(),l=Ot();null!==n?n.dirty=!0:0!==l.getChildrenSize()&&("rootStart"===r.defaultSelection?l.selectStart():l.selectEnd())},{onUpdate:()=>{l.removeAttribute("autocapitalize"),n&&n()},tag:"focus"}),null===this._pendingEditorState&&l.removeAttribute("autocapitalize"))}blur(){let n=this._rootElement;null!==n&&n.blur();let r=bn(this._window);null!==r&&r.removeAllRanges()}isEditable(){return this._editable}setEditable(n){this._editable!==n&&(this._editable=n,ks("editable",this,!0,n))}toJSON(){return{editorState:this._editorState.toJSON()}}};eo.version="0.23.1+prod.esm"}}]);