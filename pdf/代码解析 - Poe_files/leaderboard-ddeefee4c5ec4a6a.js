(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2268],{69719:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboard",function(){return n(86441)}])},12079:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"BotOperatedByText_bot",selections:[{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{kind:"ScalarField",name:"isDeleted"},{kind:"FragmentSpread",name:"UserHandle_user"}]},{kind:"FragmentSpread",name:"botHelpers_useViewerCanAccessPrivateBot"}],type:"Bot"};t.hash="89a04381f7957698d463257f916d34f0",a.default=t},80586:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"LeaderboardItem_rankable",selections:[{kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[{kind:"FragmentSpread",name:"BotOperatedByText_bot"}],type:"Bot"}],type:"Rankable",abstractKey:"__isRankable"};t.hash="1f8d1ed5a3581b25ca977bdfc00fd6fd",a.default=t},95860:function(e,a,n){"use strict";var t,r,l,i,o,d,s,c,m,p,u,k,_,b,g,h;n.r(a);let L=(t=[{defaultValue:null,kind:"LocalArgument",name:"interval"}],l=[r={kind:"Variable",name:"interval",variableName:"interval"}],o=[{kind:"Literal",name:"category",value:"app_overall"},r,i={kind:"Literal",name:"metricType",value:"points_marketshare"}],d={kind:"ScalarField",name:"leaderboardId"},s={kind:"ScalarField",name:"endDate"},_=[{kind:"ScalarField",name:"rank"},c={kind:"ScalarField",name:"rankMetric"},{kind:"LinkedField",name:"ranked",plural:!1,selections:[m={kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[{alias:"rankedId",kind:"ScalarField",name:"botId"},p={kind:"ScalarField",name:"displayName"}],type:"Bot"},{kind:"InlineFragment",selections:[{alias:"rankedId",kind:"ScalarField",name:"externalApiAppId"},p],type:"ExternalApiApp"},k={kind:"InlineFragment",selections:[u={kind:"ScalarField",name:"id"}],type:"Node",abstractKey:"__isNode"}]}],g=[{args:[{kind:"Literal",name:"top",value:20}],concreteType:"RankBreakdown",kind:"LinkedField",name:"topRankings",plural:!0,selections:[c,{kind:"LinkedField",name:"ranked",plural:!1,selections:[m,{kind:"TypeDiscriminator",abstractKey:"__isRankable"},{kind:"InlineFragment",selections:[p,{kind:"ScalarField",name:"description"},{args:b=[{kind:"Literal",name:"size",value:"large"}],kind:"LinkedField",name:"picture",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}],storageKey:'picture(size:"large")'},{kind:"ScalarField",name:"isPrivateBot"},{concreteType:"PoeUser",kind:"LinkedField",name:"creator",plural:!1,selections:[{kind:"ScalarField",name:"isDeleted"},{args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},u,{kind:"TypeDiscriminator",abstractKey:"__isNode"}]},{kind:"ScalarField",name:"canUserAccessBot"}],type:"Bot"},{kind:"InlineFragment",selections:[p,{kind:"ScalarField",name:"appDescription"},{args:b,kind:"ScalarField",name:"appPicture",storageKey:'appPicture(size:"large")'},{alias:"appUrl",kind:"ScalarField",name:"url"}],type:"ExternalApiApp"},k]}],storageKey:"topRankings(top:20)"},u],{fragment:{argumentDefinitions:t,kind:"Fragment",name:"LeaderboardPageColumn_LeaderboardStatsQuery",selections:[{args:l,kind:"FragmentSpread",name:"Leaderboards_TopApp_queryroot"},{args:l,kind:"FragmentSpread",name:"Leaderboards_TopModel_queryroot"}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"LeaderboardPageColumn_LeaderboardStatsQuery",selections:[{alias:"topAppSeries",args:o,concreteType:"Leaderboard",kind:"LinkedField",name:"leaderboardSeries",plural:!0,selections:[d,s,{args:[{kind:"Literal",name:"top",value:10}],concreteType:"RankBreakdown",kind:"LinkedField",name:"topRankings",plural:!0,selections:_,storageKey:"topRankings(top:10)"},u]},{alias:"topAppLatest",args:o,concreteType:"Leaderboard",kind:"LinkedField",name:"leaderboardLatest",plural:!1,selections:g},{alias:"topModelSeries",args:h=[{kind:"Literal",name:"category",value:"model_overall"},r,i],concreteType:"Leaderboard",kind:"LinkedField",name:"leaderboardSeries",plural:!0,selections:[d,s,{args:[{kind:"Literal",name:"top",value:15}],concreteType:"RankBreakdown",kind:"LinkedField",name:"topRankings",plural:!0,selections:_,storageKey:"topRankings(top:15)"},u]},{alias:"topModelLatest",args:h,concreteType:"Leaderboard",kind:"LinkedField",name:"leaderboardLatest",plural:!1,selections:g}]},params:{id:"803d5007cefa51acd05611b9e5acec267561ec5f890e55f8e19589ccf7583511",metadata:{},name:"LeaderboardPageColumn_LeaderboardStatsQuery",operationKind:"query",text:null}});L.hash="3f057ef75c47e690b49ab47b54c483a3",a.default=L},1548:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"LeaderboardPageColumn_viewer",selections:[{kind:"FragmentSpread",name:"MainNavbarLeftItem_viewer"}],type:"Viewer"};t.hash="26eeb700e5a3b6df7245172f0bd35f34",a.default=t},12805:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"LeaderboardRankList_leaderboard",selections:[{args:[{kind:"Literal",name:"top",value:20}],concreteType:"RankBreakdown",kind:"LinkedField",name:"topRankings",plural:!0,selections:[{kind:"ScalarField",name:"rankMetric"},{kind:"LinkedField",name:"ranked",plural:!1,selections:[{kind:"FragmentSpread",name:"LeaderboardRankList_rankable"}]}],storageKey:"topRankings(top:20)"}],type:"Leaderboard"};t.hash="1f3c977e412bb178c7bfec37d41e795f",a.default=t},14788:function(e,a,n){"use strict";var t,r,l;n.r(a);let i={argumentDefinitions:[],kind:"Fragment",name:"LeaderboardRankList_rankable",selections:[t={kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[r={kind:"ScalarField",name:"displayName"},{kind:"ScalarField",name:"description"},{args:l=[{kind:"Literal",name:"size",value:"large"}],kind:"LinkedField",name:"picture",plural:!1,selections:[t,{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"url"}],type:"URLBotImage"}],storageKey:'picture(size:"large")'}],type:"Bot"},{kind:"FragmentSpread",name:"LeaderboardItem_rankable"},{kind:"InlineFragment",selections:[r,{kind:"ScalarField",name:"appDescription"},{args:l,kind:"ScalarField",name:"appPicture",storageKey:'appPicture(size:"large")'},{alias:"appUrl",kind:"ScalarField",name:"url"}],type:"ExternalApiApp"}],type:"Rankable",abstractKey:"__isRankable"};i.hash="17d2bad41160b8639f3d1689fde225ba",a.default=i},73653:function(e,a,n){"use strict";var t,r;n.r(a);let l={argumentDefinitions:[{defaultValue:"week",kind:"LocalArgument",name:"interval"}],kind:"Fragment",name:"Leaderboards_TopApp_queryroot",selections:[{alias:"topAppSeries",args:t=[{kind:"Literal",name:"category",value:"app_overall"},{kind:"Variable",name:"interval",variableName:"interval"},{kind:"Literal",name:"metricType",value:"points_marketshare"}],concreteType:"Leaderboard",kind:"LinkedField",name:"leaderboardSeries",plural:!0,selections:[{kind:"ScalarField",name:"leaderboardId"},{kind:"ScalarField",name:"endDate"},{args:[{kind:"Literal",name:"top",value:10}],concreteType:"RankBreakdown",kind:"LinkedField",name:"topRankings",plural:!0,selections:[{kind:"ScalarField",name:"rank"},{kind:"ScalarField",name:"rankMetric"},{kind:"LinkedField",name:"ranked",plural:!1,selections:[{kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[{alias:"rankedId",kind:"ScalarField",name:"botId"},r={kind:"ScalarField",name:"displayName"}],type:"Bot"},{kind:"InlineFragment",selections:[{alias:"rankedId",kind:"ScalarField",name:"externalApiAppId"},r],type:"ExternalApiApp"}]}],storageKey:"topRankings(top:10)"}]},{alias:"topAppLatest",args:t,concreteType:"Leaderboard",kind:"LinkedField",name:"leaderboardLatest",plural:!1,selections:[{kind:"FragmentSpread",name:"LeaderboardRankList_leaderboard"}]}],type:"QueryRoot"};l.hash="6cb1dde85e4859adcdb71255b870974c",a.default=l},45623:function(e,a,n){"use strict";var t,r;n.r(a);let l={argumentDefinitions:[{defaultValue:"week",kind:"LocalArgument",name:"interval"}],kind:"Fragment",name:"Leaderboards_TopModel_queryroot",selections:[{alias:"topModelSeries",args:t=[{kind:"Literal",name:"category",value:"model_overall"},{kind:"Variable",name:"interval",variableName:"interval"},{kind:"Literal",name:"metricType",value:"points_marketshare"}],concreteType:"Leaderboard",kind:"LinkedField",name:"leaderboardSeries",plural:!0,selections:[{kind:"ScalarField",name:"leaderboardId"},{kind:"ScalarField",name:"endDate"},{args:[{kind:"Literal",name:"top",value:15}],concreteType:"RankBreakdown",kind:"LinkedField",name:"topRankings",plural:!0,selections:[{kind:"ScalarField",name:"rank"},{kind:"ScalarField",name:"rankMetric"},{kind:"LinkedField",name:"ranked",plural:!1,selections:[{kind:"ScalarField",name:"__typename"},{kind:"InlineFragment",selections:[{alias:"rankedId",kind:"ScalarField",name:"botId"},r={kind:"ScalarField",name:"displayName"}],type:"Bot"},{kind:"InlineFragment",selections:[{alias:"rankedId",kind:"ScalarField",name:"externalApiAppId"},r],type:"ExternalApiApp"}]}],storageKey:"topRankings(top:15)"}]},{alias:"topModelLatest",args:t,concreteType:"Leaderboard",kind:"LinkedField",name:"leaderboardLatest",plural:!1,selections:[{kind:"FragmentSpread",name:"LeaderboardRankList_leaderboard"}]}],type:"QueryRoot"};l.hash="82c1a416fc50d53712f03312d903b12d",a.default=l},42504:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"UserHandle_user",selections:[{args:[{kind:"Literal",name:"size",value:"small"}],kind:"ScalarField",name:"profilePhotoUrl",storageKey:'profilePhotoUrl(size:"small")'},{kind:"ScalarField",name:"fullName"},{alias:"nullableHandle",kind:"ScalarField",name:"handle"},{kind:"FragmentSpread",name:"IdAnnotation_node"}],type:"PoeUser"};t.hash="6fc5f49bffad23a888eae98bab172305",a.default=t},12116:function(e,a,n){"use strict";n.r(a);let t={argumentDefinitions:[],kind:"Fragment",name:"leaderboardPageInner_viewer",selections:[{alias:"rankingsPageEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_show_rankings_page"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_show_rankings_page")'},{kind:"FragmentSpread",name:"LeaderboardPageColumn_viewer"}],type:"Viewer"};t.hash="7c812902b91b64b513b44f773643bbb8",a.default=t},33136:function(e,a,n){"use strict";n.r(a);let t={fragment:{argumentDefinitions:[],kind:"Fragment",name:"leaderboardPageQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"leaderboardPageInner_viewer"}]}],type:"QueryRoot"},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"leaderboardPageQuery",selections:[{concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"rankingsPageEnabled",args:[{kind:"Literal",name:"gateName",value:"poe_show_rankings_page"}],kind:"ScalarField",name:"booleanGate",storageKey:'booleanGate(gateName:"poe_show_rankings_page")'},{kind:"ScalarField",name:"unseenChatCount"},{kind:"ScalarField",name:"id"}]}]},params:{id:"dae3bba7fac5fa859572d46020747647016dc238fb03459269d3fb46ca6de997",metadata:{},name:"leaderboardPageQuery",operationKind:"query",text:null}};t.hash="ad25005ed0caed438a3b0311d7cf39a3",a.default=t},56147:function(e,a,n){"use strict";n.d(a,{Z:function(){return bot_BotOperatedByText}});var t=n(85893);n(67294);var r=n(22120),l=n(22578),i=n(21483),o=n(41664),d=n.n(o),s=n(36498),c=n(11803),m=n(7142),p=n.n(m),user_UserHandle=e=>{let{user:a,onClick:r}=e,o=(0,l.useFragment)(n(42504),a),{fullName:m,profilePhotoUrl:u,nullableHandle:k}=o;return k?(0,t.jsxs)("div",{className:p().userHandleContainer,children:[(0,t.jsx)(i.q,{size:"xx-sm",theme:"circle",src:null!=u?u:s.Z,alt:null!=m?m:""}),(0,t.jsx)(d(),{className:p().creatorHandle,href:"/".concat(k),onClick:r,children:"@"+k}),(0,t.jsx)(c.Z,{node:o})]}):null},u=n(42093),bot_BotOperatedByText=e=>{let{bot:a,onUserHandleClick:i}=e,o=(0,l.useFragment)(n(12079),a),{t:d}=(0,r.$G)(),{creator:s}=o,c=(0,u.nn)(o),m=c?s?(null==s?void 0:s.isDeleted)?d("By [deleted]"):(0,t.jsxs)(t.Fragment,{children:[d("By")," ",(0,t.jsx)(user_UserHandle,{user:s,onClick:i})]}):(0,t.jsx)(t.Fragment,{children:d("By Poe")}):d("By [Hidden]");return(0,t.jsx)(t.Fragment,{children:m})}},91469:function(e,a,n){"use strict";var t=n(85893),r=n(13525),l=n(12251),i=n(23595),o=n(64516),d=n(11300),s=n.n(d);a.Z=e=>{let{header:a,startAtBottom:n,children:d,disallowScroll:c,noMaxWidth:m=!1,deviceType:p}=e,{elementProps:u,providerProps:k}=(0,r.GO)(),_=(0,o.F)(),b=!(0,i.k6)(_,p)&&s().scrollSectionOverflow;return(0,t.jsxs)(t.Fragment,{children:[a,(0,t.jsx)(r.yp,{...k,children:(0,t.jsx)("div",{className:(0,l.$)(s().scrollSection,n&&s().startAtBottom,b,c&&s().disallowScroll),...u,children:(0,t.jsx)("div",{className:(0,l.$)(s().column,m&&s().noMaxWidth),children:d})})})]})}},24581:function(e,a,n){"use strict";var t=n(85893),r=n(1250),l=n(36803);a.Z=e=>(0,t.jsx)(l.Z,{leftNavItem:(0,t.jsx)(r.Z,{viewer:e.viewer}),...e})},5402:function(e,a,n){"use strict";n.d(a,{M:function(){return SignupButton}});var t=n(85893),r=n(67294),l=n(22120),i=n(50241),o=n(4909),d=n(12251),s=n(42895),c=n.n(s);let SignupButton=e=>{let{signupWallTriggerSource:a,className:n}=e,{shouldShowSignupWall:s,openSignupWall:m}=(0,i.zl)(),{t:p}=(0,l.$G)(),u=(0,r.useCallback)(()=>{s&&m(a)},[s,m,a]);return(0,t.jsx)(o.DF,{onClick:u,className:(0,d.$)(c().button,n),children:(0,t.jsx)("span",{className:c().signUpText,children:p("Sign up")})})}},79132:function(e,a,n){"use strict";var t=n(85893),r=n(67294),l=n(12251),i=n(36188),o=n.n(i);let d=(0,r.forwardRef)((e,a)=>{let{placeholder:n,hasError:i=!1,isDisabled:d=!1,children:s,className:c,full:m=!1,...p}=e,u=(0,l.$)(o().root,m&&o().full,i&&o().hasError,d&&o().isDisabled,c),k=r.Children.toArray(s).some(e=>r.isValidElement(e)&&e.props.selected);return(0,t.jsxs)("div",{className:u,children:[(0,t.jsxs)("select",{ref:a,className:o().select,disabled:d,...p,children:[n&&(0,t.jsx)("option",{value:"",selected:!k,"data-placeholder":"",children:n}),s]}),(0,t.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",className:o().caret,stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("polyline",{points:"6 9 12 15 18 9"})})]})});d.displayName="Dropdown",a.Z=d},86441:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return J}});var t=n(85893),r=n(22578);n(44311);var l=n(67294),i=n(22120),o=n(91469),d=n(24581),s=n(54344),c=n(5402),m=n(50241),p=n(71258),u=n(446),k=n(79132),_=n(3859),b=n.n(_);let LeaderboardHeader=e=>{let{title:a,description:n}=e;return(0,t.jsxs)("div",{className:b().leaderboardSectionHeader,children:[(0,t.jsx)("h2",{className:b().leaderboardSectionTitle,children:a}),(0,t.jsx)("p",{className:b().leaderboardSectionSubtitle,children:n})]})};var g=n(92705),h=n(13063),L=n(21483),f=n(98077),v=n(41664),x=n.n(v),y=n(56147),F=n(22641),C=n(78410),S=n(12251),I=n(36775),j=n.n(I);let externalNavigationModal=()=>n.e(3188).then(n.bind(n,99936));var patterns_ExternalNavigationModalWrapper=e=>{let{children:a,href:n,className:r=""}=e,{t:o}=(0,i.$G)(),[d,s]=(0,l.useState)(!1),c=(0,l.useCallback)(e=>{e.preventDefault(),s(!0)},[s]),m=(0,l.useCallback)(()=>{s(!1)},[s]),p=(0,l.useCallback)(()=>{n&&window.open(n,"_blank"),m()},[n,m]),u=(0,l.useMemo)(()=>({closeModal:m,href:n}),[m,n]),k=(0,l.useMemo)(()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.Z,{as:"button",theme:"ghost",onClick:m,children:o("Cancel")}),(0,t.jsx)(C.Z,{as:"button",theme:"primary",onClick:p,children:o("Visit website")})]}),[m,p,o]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.Z,{isOpen:d,onRequestClose:m,body:externalNavigationModal,bodyProps:u,actions:k}),(0,t.jsx)("a",{href:n,className:(0,S.$)(j().externalNavigationModalWrapper,r),onClick:c,children:a})]})},N=n(84852),w=n.n(N);let LeaderboardItemContainer=e=>{let{children:a,isExternal:n,href:r,rank:l}=e,i=(0,t.jsxs)("div",{className:w().rankNumber,children:[l,"."]});return n?(0,t.jsxs)(patterns_ExternalNavigationModalWrapper,{className:w().container,href:r||"",children:[i,a]}):(0,t.jsxs)(x(),{href:r||"",className:w().container,children:[i,a]})},LeaderboardItemNameAndDescription=e=>{let{name:a,description:l,isExternal:i,rankable:o,includeDescription:d,includeCreator:s}=e,c=(0,r.useFragment)(n(80586),o),m="Bot"===c.__typename;return(0,t.jsxs)("div",{className:w().textContent,children:[(0,t.jsxs)("div",{className:w().titleRow,children:[(0,t.jsx)("div",{className:w().appName,children:a}),i&&(0,t.jsx)(f.Tq,{size:"sm",className:w().externalLinkIcon})]}),(0,t.jsxs)("div",{className:w().description,children:[d&&l,m&&s&&(0,t.jsx)("div",{className:w().operatorByText,children:(0,t.jsx)(y.Z,{bot:c})})]})]})},LeaderboardItem=e=>{let{rank:a,name:n,description:r,marketShare:l,href:i,avatarSrc:o,isExternal:d,rankable:s,includeCreator:c,includeDescription:m}=e;return(0,t.jsxs)(LeaderboardItemContainer,{isExternal:d,href:d?i:n,rank:a,children:[(0,t.jsx)(L.q,{src:o,alt:n,size:"sm",theme:"rounded"}),(0,t.jsx)(LeaderboardItemNameAndDescription,{name:n,description:r,isExternal:!!d,rankable:s,includeCreator:c,includeDescription:m}),(0,t.jsx)("div",{className:w().performanceContainer,children:(0,t.jsx)("span",{className:w().marketShare,children:l})})]})},LeaderboardRankListMoreButton=e=>{let{expandLeaderboard:a}=e,{t:n}=(0,i.$G)();return(0,t.jsx)(g.z,{as:"button",theme:"secondary",size:"sm",className:b().viewMoreButton,onClick:a,children:n("View more")})},RankableWrapper=e=>{var a;let{rank:i,marketShare:o,rankable:d,includeDescription:s,includeCreator:c}=e,m=(0,r.useFragment)(n(14788),d),{displayName:p,description:u,appDescription:k,picture:_,appPicture:b,appUrl:g}=m,L=(0,l.useMemo)(()=>(null==_?void 0:_.url)?_.url:b||h.Z,[_,b]),f=null!==(a=null!=u?u:k)&&void 0!==a?a:"";return(0,t.jsx)(LeaderboardItem,{rank:i,name:p,description:f,avatarSrc:L,href:g,marketShare:(100*o).toFixed(1)+"%",isExternal:!!g,rankable:m,includeDescription:s,includeCreator:c})},LeaderboardRankList=e=>{let{leaderboard:a,includeDescription:i=!1,includeCreator:o=!1}=e,d=(0,r.useFragment)(n(12805),a),{topRankings:s}=d,[c,m]=(0,l.useState)(!1),p=s.slice(0,c?20:10),u=(0,l.useCallback)(()=>{m(!0)},[m]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:b().leaderboardContainer,"data-expanded":c,children:p.map((e,a)=>(0,t.jsx)(RankableWrapper,{rankable:e.ranked,rank:a+1,marketShare:e.rankMetric,includeDescription:i,includeCreator:o},a))}),c?null:(0,t.jsx)(LeaderboardRankListMoreButton,{expandLeaderboard:u})]})};var D=n(28935),M=n(3023),T=n(75358),R=n(18242),B=n(22492),P=n(29009),A=n(26050),E=n(33558),K=n(67553),V=n.n(K);let H={light:"",dark:".dark"},W=l.createContext(null);function ChartContainer(e){let{id:a,className:n,children:r,config:i,aspectRatio:o="16/9",...d}=e,s=l.useId(),c="chart-".concat(a||s.replace(/:/g,"")),m={auto:V().aspect_auto,"16/9":V().aspect_16_9,"4/3":V().aspect_4_3,"1/1":V().aspect_1_1},p=l.useMemo(()=>({config:i}),[i]);return(0,t.jsx)(W.Provider,{value:p,children:(0,t.jsxs)("div",{"data-pdl-child":"chart","data-chart":c,className:(0,B.W)(V().chartContainer,m[o],n),...d,children:[(0,t.jsx)(ChartStyle,{id:c,config:i}),(0,t.jsx)(P.h,{children:r})]})})}let ChartStyle=e=>{let{id:a,config:n}=e,r=Object.entries(n).filter(e=>{let[,a]=e;return a.theme||a.color}),i=l.useMemo(()=>({__html:r.length?Object.entries(H).map(e=>{let[n,t]=e;return"\n".concat(t," [data-chart=").concat(a,"] {\n").concat(r.map(e=>{var a;let[t,r]=e,l=(null===(a=r.theme)||void 0===a?void 0:a[n])||r.color;return l?"  --color-".concat(t,": ").concat(l,";"):null}).join("\n"),"\n}\n")}).join("\n"):""}),[r,a]);return(0,t.jsx)("style",{dangerouslySetInnerHTML:i})},U=A.u;function ChartTooltipContent(e){let{active:a,payload:n,className:r,indicator:i="dot",hideLabel:o=!1,hideIndicator:d=!1,label:s,labelFormatter:c,labelClassName:m,formatter:p,valueFormatter:u,color:k,nameKey:_,labelKey:b}=e,{config:g}=function(){let e=l.useContext(W);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}(),h=l.useMemo(()=>{var e;if(o||!(null==n?void 0:n.length))return null;let[a]=n,r="".concat(b||(null==a?void 0:a.dataKey)||(null==a?void 0:a.name)||"value"),l=getPayloadConfigFromPayload(g,a,r),i=b||"string"!=typeof s?null==l?void 0:l.label:(null===(e=g[s])||void 0===e?void 0:e.label)||s;return c?(0,t.jsx)("div",{className:(0,B.W)(V().tooltipLabel,m),children:c(i,n)}):i?(0,t.jsx)("div",{className:(0,B.W)(V().tooltipLabel,m),children:i}):null},[s,c,n,o,m,g,b]);if(!a||!(null==n?void 0:n.length))return null;let L=1===n.length&&"dot"!==i;return(0,t.jsxs)("div",{className:(0,B.W)(V().tooltipContent,r),children:[L?null:h,(0,t.jsx)("div",{className:V().tooltipGrid,children:n.filter(e=>"none"!==e.type).map((e,a)=>{let n="".concat(_||e.name||e.dataKey||"value"),r=getPayloadConfigFromPayload(g,e,n),l=k||e.payload.fill||e.color;return(0,t.jsx)("div",{className:(0,B.W)(V().tooltipItem,"dot"===i&&V().tooltipItemCenter),children:p&&(null==e?void 0:e.value)!==void 0&&e.name?p(e.value,e.name,e,a,e.payload):(0,t.jsxs)(t.Fragment,{children:[(null==r?void 0:r.icon)?(0,t.jsx)(r.icon,{}):!d&&(0,t.jsx)("div",{className:(0,B.W)(V().tooltipIndicator,"dot"===i&&V().tooltipIndicatorDot,"line"===i&&V().tooltipIndicatorLine,"dashed"===i&&V().tooltipIndicatorDashed),style:{"--color-bg":l,"--color-border":l}}),(0,t.jsxs)("div",{className:(0,B.W)(V().tooltipContentFlex,L?V().tooltipContentEnd:V().tooltipContentCenter),children:[(0,t.jsxs)("div",{className:V().tooltipInnerGrid,children:[L?h:null,(0,t.jsx)("span",{className:V().tooltipItemLabel,children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,t.jsx)("span",{className:V().tooltipValue,children:u?u(e.value.toLocaleString()):e.value.toLocaleString()})]})]})},e.dataKey)})})]})}function getPayloadConfigFromPayload(e,a,n){if("object"!=typeof a||null===a)return;let t="payload"in a&&"object"==typeof a.payload&&null!==a.payload?a.payload:void 0,r=n;return n in a&&"string"==typeof a[n]?r=a[n]:t&&n in t&&"string"==typeof t[n]&&(r=t[n]),r in e?e[r]:e[n]}E.D;var G=n(40591),O=n.n(G);let transformChartData=e=>{let a={[-1]:{label:"Others",sum:0}},n=e.sort((e,a)=>e.endDate.localeCompare(a.endDate)).flatMap(e=>{if(0===e.topRankings.length)return[];let n=0,t={weekLabel:e.endDate,...Object.fromEntries(e.topRankings.sort((e,a)=>e.rank-a.rank).map(e=>{var t;let r=e.ranked.rankedId,l=100*e.rankMetric;return null!==(t=a[r])&&void 0!==t||(a[r]={label:e.ranked.displayName,sum:0}),a[r].sum+=l,n+=l,[e.ranked.rankedId,l]})),[-1]:100-n};return a[-1].sum+=100-n,t});return{chartConfig:a,chartData:n}},wrapIndex=(e,a)=>(e%a+a)%a,MarketShareChart=e=>{let{data:a,showDay:n,shiftByDays:r}=e,{t:o}=(0,i.$G)(),[d,s]=(0,l.useState)(null),{chartConfig:c,chartData:m}=(0,l.useMemo)(()=>transformChartData(a),[a]),p=(0,l.useCallback)(e=>{let a=new Date(e),t=new Date(a);t.setDate(a.getDate()+r);let l=new Date().getFullYear(),i=t.getFullYear(),d=n?{month:"short",day:"numeric"}:{month:"short"};i!==l&&(d.year="numeric");let s=o("{{val, datetime}}",{val:t,formatParams:{val:d}});return s},[o,n,r]),u=(0,l.useCallback)(e=>(0,t.jsx)("span",{className:O().tooltipLabel,children:p(e)}),[p]),k=(0,l.useMemo)(()=>e=>"".concat(Number(e).toFixed(1),"%"),[]),_=(0,l.useMemo)(()=>[0,"dataMax"],[]),b=(0,l.useCallback)(e=>()=>{s(e)},[]),g=(0,l.useCallback)((e,a,n)=>{let r=String(n.dataKey),l=d===r;return(0,t.jsxs)("div",{className:O().tooltipItemContainer,"data-is-active-bot":l,"data-show-full-opacity":!d,children:[(0,t.jsx)("div",{className:O().indicator,style:{"--color-bg":n.color,"--color-border":n.color}}),(0,t.jsx)("span",{className:O().tooltipItemLabel,children:c[Number(r)].label}),(0,t.jsxs)("span",{className:O().tooltipItemValue,children:[Number(n.value).toFixed(1),"%"]})]})},[d,c]),h=(0,l.useCallback)(()=>s(null),[]);return(0,t.jsx)(ChartContainer,{config:c,aspectRatio:"16/9",className:O().chartContainer,children:(0,t.jsxs)(D.v,{accessibilityLayer:!0,data:m,barGap:16,children:[(0,t.jsx)(M.K,{dataKey:"weekLabel",tickLine:!1,tickMargin:10,axisLine:!1,tickFormatter:p}),(0,t.jsx)(T.B,{tickLine:!1,axisLine:!1,tick:!1,domain:_,width:4}),(0,t.jsx)(U,{offset:24,formatter:g,content:(0,t.jsx)(ChartTooltipContent,{className:O().tooltip,labelFormatter:u,valueFormatter:k})}),Object.entries(c).sort((e,a)=>a[1].sum-e[1].sum).map((e,a)=>{let[n]=e;return(0,t.jsx)(R.$,{dataKey:n,isAnimationActive:!1,stackId:"a",fill:Z[wrapIndex(a,Z.length)],className:(0,S.$)(O().bar),onMouseEnter:b(n),onMouseLeave:h},n)})]})})},Z=["#F76912","#f89a29","#f8cb40","#8d9217","#97CF00","#22c55e","#34d399","#00acff","#0D60F6","#1a36c1","#634EFD","#7F1DF7","#ae5fea","#DDA0DD","#e45ef0","#be7ec4","#701a75","#df58b7","#b22d6a","#f43f5e","#d00e49","#9a416a","#64748b","#71717a"],convertTopRankedSeriesToLeaderboardSeries=e=>e.map(e=>{var a;return{leaderboardId:e.leaderboardId,endDate:null!==(a=e.endDate)&&void 0!==a?a:"1970/1/1",topRankings:e.topRankings.filter(e=>"%other"!==e.ranked.__typename).map(e=>({rank:e.rank,rankMetric:e.rankMetric,ranked:{rankedId:e.ranked.rankedId,displayName:e.ranked.displayName}}))}}),TopModelLeaderboard=e=>{let{interval:a,queryRoot:o}=e,d=(0,r.useFragment)(n(45623),o),{t:s}=(0,i.$G)(),{topModelSeries:c,topModelLatest:m}=d,p=(0,l.useMemo)(()=>c?convertTopRankedSeriesToLeaderboardSeries(c):null,[c]);return(0,t.jsxs)("section",{className:b().leaderboardSection,children:[(0,t.jsx)(LeaderboardHeader,{title:s("Top models"),description:s("Track and compare the usage share of top models")}),p?(0,t.jsx)(MarketShareChart,{data:p,showDay:"week"==a,shiftByDays:"week"==a?-6:0}):null,m?(0,t.jsx)(LeaderboardRankList,{leaderboard:m,includeCreator:!0}):null]})},TopAppLeaderboard=e=>{let{interval:a,queryRoot:o}=e,d=(0,r.useFragment)(n(73653),o),{t:s}=(0,i.$G)(),{topAppSeries:c,topAppLatest:m}=d,p=(0,l.useMemo)(()=>c?convertTopRankedSeriesToLeaderboardSeries(c):null,[c]);return(0,t.jsxs)("section",{className:b().leaderboardSection,children:[(0,t.jsx)(LeaderboardHeader,{title:s("Top apps"),description:s("Largest apps ranked by total usage activity on Poe")}),p?(0,t.jsx)(MarketShareChart,{data:p,showDay:"week"==a,shiftByDays:"week"==a?-6:0}):null,m?(0,t.jsx)(LeaderboardRankList,{leaderboard:m,includeDescription:!0}):null]})},LeaderboardLoadingWrapper=e=>{let{interval:a}=e,l=(0,r.useLazyLoadQuery)(n(95860),{interval:a});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(TopModelLeaderboard,{queryRoot:l,interval:a}),(0,t.jsx)(TopAppLeaderboard,{queryRoot:l,interval:a})]})},LeaderboardPageColumn=e=>{let{viewer:a}=e,{t:_}=(0,i.$G)(),[g,h]=(0,l.useState)("week"),L=(0,l.useCallback)(e=>{h(e.target.value)},[h]),f=(0,r.useFragment)(n(1548),a),{isLoggedInUser:v}=(0,s.b)(),x=!v,y=(0,l.useMemo)(()=>x?(0,t.jsx)(c.M,{signupWallTriggerSource:m.dh.navBarSignupButton}):void 0,[x]);return(0,t.jsx)(o.Z,{header:(0,t.jsx)(d.Z,{title:_("Leaderboard"),viewer:f,rightNavItem:y}),children:(0,t.jsxs)("div",{className:b().container,children:[(0,t.jsx)(p.Z,{title:_("Leaderboard")}),(0,t.jsxs)(k.Z,{onChange:L,className:b().intervalSelector,defaultValue:g,children:[(0,t.jsx)("option",{value:"week",children:_("Weekly")}),(0,t.jsx)("option",{value:"month",children:_("Monthly")})]}),(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)(u.Sz,{}),children:(0,t.jsx)(LeaderboardLoadingWrapper,{interval:g})})]})})};var q=n(58143),z=n(38435),Q=n(4694),$=n(29664);let LeaderboardPageInner=e=>{let{viewer:a}=e,l=(0,r.useFragment)(n(12116),a);if(!l.rankingsPageEnabled)throw new Q.NotFound;return(0,t.jsx)(LeaderboardPageColumn,{viewer:l})},Y=(0,z.T)(e=>{let{viewer:a}=e;return(0,t.jsx)(q.M,{pageType:$.Z.rankings_page,children:(0,t.jsx)(LeaderboardPageInner,{viewer:a})})},{query:n(33136),variables:()=>({})},{shouldIncludeGoogleOneTapPrompt:!0,leftSidebarDefaultCollapsed:!0});var J=Y},67553:function(e){e.exports={chartContainer:"Charts_chartContainer__b1RZ9",aspect_16_9:"Charts_aspect_16_9__rqdWt",aspect_4_3:"Charts_aspect_4_3__7D4of",aspect_1_1:"Charts_aspect_1_1__nv2ED",aspect_auto:"Charts_aspect_auto__LVxHY",tooltipContent:"Charts_tooltipContent__HyRnI",tooltipGrid:"Charts_tooltipGrid__Vd0iF",tooltipItem:"Charts_tooltipItem__q8ZJR",tooltipItemCenter:"Charts_tooltipItemCenter__Rwb5i",tooltipIndicator:"Charts_tooltipIndicator__TqhdR",tooltipIndicatorDot:"Charts_tooltipIndicatorDot__sznro",tooltipIndicatorLine:"Charts_tooltipIndicatorLine__NvY69",tooltipIndicatorDashed:"Charts_tooltipIndicatorDashed__7yIxa",tooltipContentFlex:"Charts_tooltipContentFlex__tSXSJ",tooltipContentCenter:"Charts_tooltipContentCenter__ZImsH",tooltipContentEnd:"Charts_tooltipContentEnd__W_rtN",tooltipInnerGrid:"Charts_tooltipInnerGrid__n_nJK",tooltipLabel:"Charts_tooltipLabel__BYoAe",tooltipItemLabel:"Charts_tooltipItemLabel__4UtDo",tooltipValue:"Charts_tooltipValue__wBNaP",legendContent:"Charts_legendContent__mRq5d",legendTop:"Charts_legendTop__FyXT1",legendBottom:"Charts_legendBottom__PFAs4",legendItem:"Charts_legendItem__die8i",legendIndicator:"Charts_legendIndicator__5V_5O"}},36188:function(e){e.exports={root:"dropdown_root__2_WSm",full:"dropdown_full__bDjY7",select:"dropdown_select__fee24",caret:"dropdown_caret____mQ3",hasError:"dropdown_hasError__EWuOO",isDisabled:"dropdown_isDisabled__DnGDv"}},11300:function(e){e.exports={scrollSection:"MainColumn_scrollSection__A9NHB",scrollSectionOverflow:"MainColumn_scrollSectionOverflow__FbPqw",column:"MainColumn_column__UEunw",noMaxWidth:"MainColumn_noMaxWidth__8pWAi",disallowScroll:"MainColumn_disallowScroll__zR9H2",startAtBottom:"MainColumn_startAtBottom__KeM8B"}},84852:function(e){e.exports={container:"LeaderboardItem_container__URNDy",externalLinkIcon:"LeaderboardItem_externalLinkIcon__xHPx6",rankNumber:"LeaderboardItem_rankNumber__J_GG7",appInfo:"LeaderboardItem_appInfo__5HFuG",avatar:"LeaderboardItem_avatar__T_jBA",textContent:"LeaderboardItem_textContent__wWbJW",titleRow:"LeaderboardItem_titleRow__3DVP8",appName:"LeaderboardItem_appName__Ed9XB",description:"LeaderboardItem_description__saktR",operatorByText:"LeaderboardItem_operatorByText__4Q_Pi",growthContainer:"LeaderboardItem_growthContainer__SRnXP",growthIconUp:"LeaderboardItem_growthIconUp__35nQt",growthIconDown:"LeaderboardItem_growthIconDown__VkaFr",growthValueMain:"LeaderboardItem_growthValueMain__K_m2_",performanceContainer:"LeaderboardItem_performanceContainer__NTYVf",marketShare:"LeaderboardItem_marketShare__usD3u"}},3859:function(e){e.exports={container:"LeaderboardPageColumn_container__yRbax",leaderboardSection:"LeaderboardPageColumn_leaderboardSection__nvtNc",leaderboardSectionHeader:"LeaderboardPageColumn_leaderboardSectionHeader__K1nD2",leaderboardSectionTitle:"LeaderboardPageColumn_leaderboardSectionTitle__a1NfA",leaderboardSectionSubtitle:"LeaderboardPageColumn_leaderboardSectionSubtitle__OvQ3g",leaderboardContainer:"LeaderboardPageColumn_leaderboardContainer__1LeCw",viewMoreButton:"LeaderboardPageColumn_viewMoreButton__8oxBy",intervalSelector:"LeaderboardPageColumn_intervalSelector__aVVe1"}},40591:function(e){e.exports={chartContainer:"MarketShareChart_chartContainer__voIJi",bar:"MarketShareChart_bar__hOnc1",tooltip:"MarketShareChart_tooltip__1BbTw",tooltipLabel:"MarketShareChart_tooltipLabel__anwlo",tooltipItemContainer:"MarketShareChart_tooltipItemContainer__mbhcP",indicator:"MarketShareChart_indicator__ifKZr",tooltipItemLabel:"MarketShareChart_tooltipItemLabel__pt7_q",tooltipItemValue:"MarketShareChart_tooltipItemValue__1T5Eq"}},42895:function(e){e.exports={button:"SignupButton_button__SIoZv",signUpText:"SignupButton_signUpText__fkmlf"}},36775:function(e){e.exports={externalNavigationModalWrapper:"ExternalNavigationModalWrapper_externalNavigationModalWrapper__ooxhU"}},7142:function(e){e.exports={userHandleContainer:"UserHandle_userHandleContainer__gfA69",creatorHandle:"UserHandle_creatorHandle__aNMAK"}}},function(e){e.O(0,[6342,9692,1664,5675,1476,2492,1116,5556,9913,7382,8062,2071,2460,486,9142,9469,9774,2888,179],function(){return e(e.s=69719)}),_N_E=e.O()}]);